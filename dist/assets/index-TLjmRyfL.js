import{_ as E,a as O,b as R}from"./logoXX-Cy74BE6B.js";import{_ as D}from"./download-Dan4AgsM.js";import{d as Q,g as T,a as Z,r as f,k as G,Q as K,E as v,c as x,b as l,i as g,e,w as a,f as r,p as L,h as F,o as y,F as H,B as M,q,t as $,_ as J}from"./index-CXdlkYQW.js";const j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAPCAYAAADQ4S5JAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAACFSURBVCiR3ZKxDcIwEEWfLZcp0sMgLtgAtmAOKsZJyQApQkvBBAxBi/RoHCmKRGS3POmKu3v/qoOCmtSzOqnvUlOZJZaonTr6m1HtloHbhjwzzHKukGdyBE7Uc4zAriGwjw0yAP8S6Bv8PgEP4FkZ+IT1RL0Ch9LeQwiXzRPlVV6l8nr/BYGarc4yhMG+AAAAAElFTkSuQmCC",p=h=>(L("data-v-9aa45825"),h=h(),F(),h),X={class:"main"},Y={class:"header"},W=p(()=>l("span",{class:"title"},"售后工单",-1)),ee=p(()=>l("img",{src:j,alt:""},null,-1)),te={class:"search"},ae={class:"left"},oe=p(()=>l("span",{style:{width:"336px",height:"32px"}},null,-1)),le={class:"right"},se=p(()=>l("img",{src:O,alt:""},null,-1)),ne=p(()=>l("img",{src:R,alt:""},null,-1)),re={class:"table_header"},ce=p(()=>l("span",{class:"left"},[l("img",{src:E,alt:""}),l("span",{class:"title"})],-1)),de={class:"right"},pe=p(()=>l("img",{src:D,alt:""},null,-1)),ie={class:"table"},ue={style:{display:"flex","align-items":"center"}},me=["onClick"],_e=Q({__name:"index",setup(h){const{proxy:C}=T(),o=Z({workNo:"",customerName:"",customerPhone:"",filterMethod:"",createDate:[],orderStatus:""});f([{value:"all",label:"全部"}]);const w=f([{code:"",name:"全部"},{code:"1",name:"开始"},{code:"2",name:"已提报问题"},{code:"3",name:"售后审核"},{code:"4",name:"已定损"},{code:"5",name:"定责发起"},{code:"6",name:"已提交OA审批"},{code:"7",name:"已追责"},{code:"8",name:"已追责"},{code:"8",name:"结束"}]),i=f({pageIndex:1,pageSize:15,total:0}),S=f([]);G(()=>{A(!1)});const A=c=>{console.log(o);const s=o.customerName==null?"":o.customerName,u=o.customerPhone==null?"":o.customerPhone;let m={customerName:s,customerPhone:u,status:o.orderStatus,createdTime:"",pageSize:i.value.pageSize,pageNo:i.value.pageIndex};K(m).then(n=>{let _=n.data.data;_.length>0?(S.value=_,c&&v({message:"查询成功",type:"success"})):v({message:"暂无数据",type:"warning"}),i.value={pageIndex:n.data.current==null?1:parseInt(n.data.current),pageSize:n.data.size,total:n.data.total}}).catch(n=>{v({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",n)})},V=c=>{C.$router.push({path:"/aftersales_workorder_details",query:{id:c.id}})},k=c=>{i.value.pageIndex=c,A(!0)};return(c,s)=>{const u=r("el-button"),m=r("el-input"),n=r("el-form-item"),_=r("el-form"),N=r("el-date-picker"),I=r("el-option"),z=r("el-select"),d=r("el-table-column"),B=r("el-table"),P=r("el-pagination");return y(),x("div",X,[l("span",Y,[W,g(),e(u,{type:"primary",class:"tips_btn"},{icon:a(()=>[ee]),default:a(()=>[g("售后工单草稿箱")]),_:1})]),l("span",te,[l("span",ae,[e(_,{model:o,rules:c.rule,"label-width":"80px","label-position":"left"},{default:a(()=>[e(n,{label:"工单编号"},{default:a(()=>[e(m,{placeholder:"请输入工单编号",modelValue:o.workNo,"onUpdate:modelValue":s[0]||(s[0]=t=>o.workNo=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"客户名称"},{default:a(()=>[e(m,{placeholder:"输入客户名称",modelValue:o.customerName,"onUpdate:modelValue":s[1]||(s[1]=t=>o.customerName=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"客户电话"},{default:a(()=>[e(m,{placeholder:"请输入客户电话",modelValue:o.customerName,"onUpdate:modelValue":s[2]||(s[2]=t=>o.customerName=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),e(_,{model:o,rules:c.rule,"label-width":"80px","label-position":"left"},{default:a(()=>[e(n,{label:"创建时间"},{default:a(()=>[e(N,{modelValue:o.createDate,"onUpdate:modelValue":s[3]||(s[3]=t=>o.createDate=t),type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),e(n,{label:"订单状态"},{default:a(()=>[e(z,{modelValue:o.orderStatus,"onUpdate:modelValue":s[4]||(s[4]=t=>o.orderStatus=t),placeholder:"请选择订单状态"},{default:a(()=>[(y(!0),x(H,null,M(w.value,t=>(y(),q(I,{key:t.code,label:t.name,value:t.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),oe]),_:1},8,["model","rules"])]),l("span",le,[e(u,{type:"primary",onClick:s[5]||(s[5]=t=>A(!0)),class:"search_btn"},{icon:a(()=>[se]),default:a(()=>[g("查询")]),_:1}),e(u,{type:"primary",class:"reset_btn"},{icon:a(()=>[ne]),default:a(()=>[g("重置")]),_:1})])]),l("span",re,[ce,l("span",de,[e(u,{type:"primary",class:"reset_btn"},{icon:a(()=>[pe]),default:a(()=>[g("下载")]),_:1})])]),l("span",ie,[e(B,{class:"table_content",data:S.value,stripe:!1,style:{width:"100%"}},{default:a(()=>[e(d,{prop:"name",label:"售后工单编号"}),e(d,{prop:"storeName",label:"专卖店名称"}),e(d,{prop:"productionOrderNo__c",label:"生产单号"}),e(d,{prop:"accountName",label:"客户名称"}),e(d,{prop:"text5",label:"处理方式"}),e(d,{prop:"createdTime",label:"创建时间"}),e(d,{prop:"status__c",label:"售后状态"},{default:a(t=>{var b;return[l("div",ue,$(t.row.status__c?(b=w.value.find(U=>U.code==t.row.status__c))==null?void 0:b.name:""),1)]}),_:1}),e(d,{prop:"text8",label:"操作",width:"80px"},{default:a(t=>[l("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:b=>V(t.row)}," 查看 ",8,me)]),_:1})]),_:1},8,["data"]),e(P,{class:"table_pagination","page-size":i.value.pageSize,"pager-count":15,layout:"total, prev, pager, next",total:i.value.total,onCurrentChange:k},null,8,["page-size","total"])])])}}}),Ae=J(_e,[["__scopeId","data-v-9aa45825"]]);export{Ae as default};
