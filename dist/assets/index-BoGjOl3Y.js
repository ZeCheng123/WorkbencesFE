import{_ as U,a as E,b as O}from"./logoXX-Cy74BE6B.js";import{_ as R}from"./download-Dan4AgsM.js";import{o as M}from"./common-Df-r2Ss9.js";import{d as Q,g as Z,b as G,r as h,o as K,E as v,c as x,i as l,j as g,e,w as o,f as r,p as L,h as T,a as y,F as Y,m as F,q as H,t as q,_ as $}from"./index-BciW1GB7.js";import"./userinfo-DMWt4scE.js";const j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAPCAYAAADQ4S5JAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAACFSURBVCiR3ZKxDcIwEEWfLZcp0sMgLtgAtmAOKsZJyQApQkvBBAxBi/RoHCmKRGS3POmKu3v/qoOCmtSzOqnvUlOZJZaonTr6m1HtloHbhjwzzHKukGdyBE7Uc4zAriGwjw0yAP8S6Bv8PgEP4FkZ+IT1RL0Ch9LeQwiXzRPlVV6l8nr/BYGarc4yhMG+AAAAAElFTkSuQmCC",p=f=>(L("data-v-ccb7c35a"),f=f(),T(),f),J={class:"main"},X={class:"header"},W=p(()=>l("span",{class:"title"},"售后工单",-1)),ee=p(()=>l("img",{src:j,alt:""},null,-1)),te={class:"search"},ae={class:"left"},oe=p(()=>l("span",{style:{width:"336px",height:"32px"}},null,-1)),le={class:"right"},se=p(()=>l("img",{src:E,alt:""},null,-1)),ne=p(()=>l("img",{src:O,alt:""},null,-1)),re={class:"table_header"},ce=p(()=>l("span",{class:"left"},[l("img",{src:U,alt:""}),l("span",{class:"title"})],-1)),de={class:"right"},pe=p(()=>l("img",{src:R,alt:""},null,-1)),ie={class:"table"},me={style:{display:"flex","align-items":"center"}},ue=["onClick"],_e=Q({__name:"index",setup(f){const{proxy:C}=Z(),t=G({workNo:"",customerName:"",customerPhone:"",filterMethod:"",createDate:[],orderStatus:""});h([{value:"all",label:"全部"}]);const w=h([{code:"",name:"全部"},{code:"1",name:"开始"},{code:"2",name:"已提报问题"},{code:"3",name:"售后审核"},{code:"4",name:"已定损"},{code:"5",name:"定责发起"},{code:"6",name:"已提交OA审批"},{code:"7",name:"已追责"},{code:"8",name:"已追责"},{code:"8",name:"结束"}]),i=h({pageIndex:1,pageSize:15,total:0}),S=h([]);K(()=>{A(!1)});const A=c=>{console.log(t);const s=t.customerName==null?"":t.customerName,m=t.customerPhone==null?"":t.customerPhone;let u={customerName:s,customerPhone:m,status:t.orderStatus,from:t.createDate==null||t.createDate[0]==null?"":t.createDate[0]+" 00:00:00",to:t.createDate==null||t.createDate[1]==null?"":t.createDate[1]+" 23:59:59",pageSize:i.value.pageSize,pageNo:i.value.pageIndex};M(u).then(n=>{let _=n.data.data;_.length>0?(S.value=_,c&&v({message:"查询成功",type:"success"})):v({message:"暂无数据",type:"warning"}),i.value={pageIndex:n.data.current==null?1:parseInt(n.data.current),pageSize:n.data.size,total:n.data.total}}).catch(n=>{v({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",n)})},V=c=>{C.$router.push({path:"/aftersales_workorder_details",query:{id:c.id}})},k=c=>{i.value.pageIndex=c,A(!0)};return(c,s)=>{const m=r("el-button"),u=r("el-input"),n=r("el-form-item"),_=r("el-form"),N=r("el-date-picker"),D=r("el-option"),I=r("el-select"),d=r("el-table-column"),z=r("el-table"),P=r("el-pagination");return y(),x("div",J,[l("span",X,[W,g(),e(m,{type:"primary",class:"tips_btn"},{icon:o(()=>[ee]),default:o(()=>[g("售后工单草稿箱")]),_:1})]),l("span",te,[l("span",ae,[e(_,{model:t,rules:c.rule,"label-width":"80px","label-position":"left"},{default:o(()=>[e(n,{label:"工单编号"},{default:o(()=>[e(u,{placeholder:"请输入工单编号",modelValue:t.workNo,"onUpdate:modelValue":s[0]||(s[0]=a=>t.workNo=a)},null,8,["modelValue"])]),_:1}),e(n,{label:"客户名称"},{default:o(()=>[e(u,{placeholder:"输入客户名称",modelValue:t.customerName,"onUpdate:modelValue":s[1]||(s[1]=a=>t.customerName=a)},null,8,["modelValue"])]),_:1}),e(n,{label:"客户电话"},{default:o(()=>[e(u,{placeholder:"请输入客户电话",modelValue:t.customerPhone,"onUpdate:modelValue":s[2]||(s[2]=a=>t.customerPhone=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),e(_,{model:t,rules:c.rule,"label-width":"80px","label-position":"left"},{default:o(()=>[e(n,{label:"创建时间"},{default:o(()=>[e(N,{modelValue:t.createDate,"onUpdate:modelValue":s[3]||(s[3]=a=>t.createDate=a),type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(n,{label:"售后状态"},{default:o(()=>[e(I,{modelValue:t.orderStatus,"onUpdate:modelValue":s[4]||(s[4]=a=>t.orderStatus=a),placeholder:"请选择售后状态"},{default:o(()=>[(y(!0),x(Y,null,F(w.value,a=>(y(),H(D,{key:a.code,label:a.name,value:a.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),oe]),_:1},8,["model","rules"])]),l("span",le,[e(m,{type:"primary",onClick:s[5]||(s[5]=a=>A(!1)),class:"search_btn"},{icon:o(()=>[se]),default:o(()=>[g("查询")]),_:1}),e(m,{type:"primary",class:"reset_btn"},{icon:o(()=>[ne]),default:o(()=>[g("重置")]),_:1})])]),l("span",re,[ce,l("span",de,[e(m,{type:"primary",class:"reset_btn"},{icon:o(()=>[pe]),default:o(()=>[g("下载")]),_:1})])]),l("span",ie,[e(z,{class:"table_content",data:S.value,stripe:!1,style:{width:"100%"}},{default:o(()=>[e(d,{prop:"name",label:"售后工单编号"}),e(d,{prop:"storeName",label:"专卖店名称"}),e(d,{prop:"productionOrderNo__c",label:"生产单号"}),e(d,{prop:"accountName",label:"客户名称"}),e(d,{prop:"text5",label:"处理方式"}),e(d,{prop:"createdTime",label:"创建时间"}),e(d,{prop:"status__c",label:"售后状态"},{default:o(a=>{var b;return[l("div",me,q(a.row.status__c?(b=w.value.find(B=>B.code==a.row.status__c))==null?void 0:b.name:""),1)]}),_:1}),e(d,{prop:"text8",label:"操作",width:"80px"},{default:o(a=>[l("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:b=>V(a.row)}," 查看 ",8,ue)]),_:1})]),_:1},8,["data"]),e(P,{class:"table_pagination","page-size":i.value.pageSize,"pager-count":15,layout:"total, prev, pager, next",total:i.value.total,onCurrentChange:k},null,8,["page-size","total"])])])}}}),ve=$(_e,[["__scopeId","data-v-ccb7c35a"]]);export{ve as default};
