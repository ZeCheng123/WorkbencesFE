import{_ as Se,a as De,b as Pe}from"./tips-DfmWQaVF.js";import{d as Ce,g as Le,r as i,z as Ue,o as Ne,E as D,c as g,h as e,v as y,j as T,s as k,w as u,q as M,t as d,b as l,F as w,m as V,A as Oe,e as x,p as qe,f as Be,i as r,u as Ee,x as Me,B as Q,_ as Ae}from"./index-BNw8j_YZ.js";import{t as $e,v as Re,x as X,p as Fe,y as We}from"./common-DZytvcl-.js";import"./userinfo-CbCawm5q.js";const t=N=>(qe("data-v-f3111463"),N=N(),Be(),N),ze={class:"main"},je={class:"header"},Je=t(()=>e("span",{class:"title"},"售后工单状态",-1)),He={class:"step"},Ge={class:"item"},Ke={class:"item"},Qe={class:"item"},Xe={class:"item"},Ye={class:"item"},Ze={class:"item"},es={class:"item"},ss={class:"item"},as={class:"order_info"},ls={class:"title"},os={class:"main_field"},ts={class:"row_field"},ns={class:"field"},cs=t(()=>e("span",{class:"label"},"工单编号：",-1)),ds={class:"value"},is={class:"field"},us=t(()=>e("span",{class:"label"},"业务类型：",-1)),ps={class:"value"},rs={class:"field"},_s=t(()=>e("span",{class:"label"},"售后工单来源：",-1)),ms={class:"value"},hs={class:"row_field"},vs={class:"field"},fs=t(()=>e("span",{class:"label"},"订单编号：",-1)),bs={class:"value"},ys={class:"field"},gs=t(()=>e("span",{class:"label"},"服务工单：",-1)),ks={class:"value"},ws=t(()=>e("span",{class:"field"},[e("span",{class:"label"},"总部售后专员："),e("span",{class:"value"})],-1)),Vs={class:"row_field"},xs={class:"field"},Is=t(()=>e("span",{class:"label"},"升级备注：",-1)),Ts={class:"value"},Ss={class:"field"},Ds=t(()=>e("span",{class:"label"},"专卖店名称：",-1)),Ps={class:"value"},Cs={class:"field"},Ls=t(()=>e("span",{class:"label"},"创建时间：",-1)),Us={class:"value"},Ns=t(()=>e("span",{class:"title"},"客户信息",-1)),Os={class:"other_field"},qs={class:"row_field"},Bs={class:"field"},Es=t(()=>e("span",{class:"label"},"客户姓名：",-1)),Ms={class:"value"},As={class:"field"},$s=t(()=>e("span",{class:"label"},"客户电话：",-1)),Rs={class:"value"},Fs={class:"field"},Ws=t(()=>e("span",{class:"label"},"提报人：",-1)),zs={class:"value"},js={class:"row_field"},Js={class:"field"},Hs=t(()=>e("span",{class:"label"},"客户地址：",-1)),Gs={class:"value"},Ks={class:"order_list"},Qs=t(()=>e("span",{class:"table_title"},"售后工单处理记录",-1)),Xs={class:"table_content"},Ys=["onClick"],Zs=t(()=>e("img",{src:Se,alt:""},null,-1)),ea={class:"userinfo"},sa=t(()=>e("img",{src:De,alt:""},null,-1)),aa={class:"username"},la={class:"content"},oa={class:"date"},ta=t(()=>e("span",{class:"reply"},"回复",-1)),na=t(()=>e("img",{class:"tips",src:Pe,alt:""},null,-1)),ca={class:"showMainDialog2"},da={class:"title"},ia={key:0,class:"content"},ua={class:"item"},pa=t(()=>e("span",{class:"label"},"问题大类",-1)),ra={class:"item"},_a=t(()=>e("span",{class:"label"},"售后问题",-1)),ma={class:"item"},ha=t(()=>e("span",{class:"label"},"责任人",-1)),va={class:"item"},fa=t(()=>e("span",{class:"label"},"问题描述",-1)),ba={class:"item"},ya=t(()=>e("div",{class:"el-upload__text"},"将文件拖至此处 或 点击上传",-1)),ga=t(()=>e("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1)),ka={key:1,class:"content"},wa={class:"item"},Va=t(()=>e("span",{class:"label"},"产品分类",-1)),xa={class:"item"},Ia=t(()=>e("span",{class:"label"},"部件分类",-1)),Ta={class:"item"},Sa=t(()=>e("span",{class:"label"},"不良分类",-1)),Da={class:"item"},Pa=t(()=>e("span",{class:"label"},"质量指标一",-1)),Ca={class:"item"},La=t(()=>e("span",{class:"label"},"质量指标二",-1)),Ua={class:"item"},Na=t(()=>e("span",{class:"label"},"处理方式",-1)),Oa={class:"dialog-footer"},qa={class:"showMainDialog3"},Ba=t(()=>e("span",{class:"title"},"售后处理记录详情",-1)),Ea={class:"content"},Ma={class:"base_field"},Aa={class:"row_field"},$a={class:"field"},Ra=t(()=>e("span",{class:"label"},"售后处理记录编号：",-1)),Fa={class:"value"},Wa={class:"field"},za=t(()=>e("span",{class:"label"},"经销商名称：",-1)),ja={class:"value"},Ja={class:"field"},Ha=t(()=>e("span",{class:"label"},"经销商电话：",-1)),Ga={class:"value"},Ka={class:"row_field"},Qa={class:"field"},Xa=t(()=>e("span",{class:"label"},"专卖店名称：",-1)),Ya={class:"value"},Za={class:"field"},el=t(()=>e("span",{class:"label"},"专卖店电话：",-1)),sl={class:"value"},al={class:"field"},ll=t(()=>e("span",{class:"label"},"订单编号：",-1)),ol={class:"value"},tl={class:"row_field"},nl={class:"field"},cl=t(()=>e("span",{class:"label"},"生产单号：",-1)),dl={class:"value"},il={class:"field"},ul=t(()=>e("span",{class:"label"},"订单类型：",-1)),pl={class:"value"},rl={class:"field"},_l=t(()=>e("span",{class:"label"},"处理进度：",-1)),ml={class:"value"},hl={class:"row_field"},vl={class:"field"},fl=t(()=>e("span",{class:"label"},"客户姓名：",-1)),bl={class:"value"},yl={class:"field"},gl=t(()=>e("span",{class:"label"},"客户电话：",-1)),kl={class:"value"},wl={class:"field"},Vl=t(()=>e("span",{class:"label"},"客户地址：",-1)),xl={class:"value"},Il={class:"row_field"},Tl={class:"field"},Sl=t(()=>e("span",{class:"label"},"生产分厂：",-1)),Dl={class:"value"},Pl={class:"field"},Cl=t(()=>e("span",{class:"label"},"供应基地：",-1)),Ll={class:"value"},Ul={class:"field"},Nl=t(()=>e("span",{class:"label"},"冲款金额小计：",-1)),Ol={class:"value"},ql={class:"row_field"},Bl={class:"field"},El=t(()=>e("span",{class:"label"},"售后审核员：",-1)),Ml={class:"value"},Al={class:"field"},$l=t(()=>e("span",{class:"label"},"提报人：",-1)),Rl={class:"value"},Fl={class:"field"},Wl=t(()=>e("span",{class:"label"},"提报人电话：",-1)),zl={class:"value"},jl={class:"row_field"},Jl={class:"field"},Hl=t(()=>e("span",{class:"label"},"消费者需求描述：",-1)),Gl={class:"value"},Kl={class:"field"},Ql=t(()=>e("span",{class:"label"},"经销商需求描述：",-1)),Xl={class:"value"},Yl={class:"field"},Zl=t(()=>e("span",{class:"label"},"原因调查情况：",-1)),eo={class:"value"},so={class:"dialog-footer"},ao={class:"showTicketSolutionDetailsDialog"},lo={class:"table"},oo={style:{display:"flex","align-items":"center"}},to={class:"responsibilityPerson"},no=t(()=>e("span",{class:"label required"},"问题大类",-1)),co=t(()=>e("span",{class:"label required"},"售后问题",-1)),io=t(()=>e("span",{class:"label required"},"责任人",-1)),uo={class:"responsibilityPerson"},po=t(()=>e("span",{class:"label required"},"问题描述",-1)),ro=t(()=>e("div",{class:"responsibilityPerson"},[e("span",{class:"label"},"上传文件")],-1)),_o={class:"containerUpload"},mo={class:"item"},ho={class:"dialog-footer"},vo=Ce({__name:"index",setup(N){const{proxy:P}=Le(),f=i(4),Y=Ue(),O=i(!1),q=i({}),z=i({}),j=i([]),n=i({problemType:"",afterSalesIssues:"",responsiblePerson:"",problemDesc:"",fileList:[],poductType:"",componentType:"",badType:"",qualityIndicator1:"",qualityIndicator2:"",handleWay:""}),A=i([{code:"1",name:"经销商问题"},{code:"2",name:"公司问题"},{code:"3",name:"物流问题"}]),$=i([{code:"1",name:"店面测量师漏单"},{code:"2",name:"店面测量师量错"},{code:"3",name:"店里设计师漏分解"},{code:"4",name:"店里设计师分解错"},{code:"5",name:"店里设计不合理"},{code:"6",name:"店里下单员漏单"},{code:"7",name:"店里下单员下错"},{code:"8",name:"店里安装师问题"},{code:"9",name:"消费者补单"},{code:"10",name:"消费者使用不当"},{code:"11",name:"产品丢失"},{code:"12",name:"公司问题"},{code:"13",name:"物流问题"}]),J=i([]),Z=i({1:[{code:"1",name:"店面测量师漏单"},{code:"2",name:"店面测量师量错"},{code:"3",name:"店里设计师漏分解"},{code:"4",name:"店里设计师分解错"},{code:"5",name:"店里设计不合理"},{code:"6",name:"店里下单员漏单"},{code:"7",name:"店里下单员下错"},{code:"8",name:"店里安装师问题"},{code:"9",name:"消费者补单"},{code:"10",name:"消费者使用不当"},{code:"11",name:"产品丢失"}],2:[{code:"12",name:"公司问题"}],3:[{code:"13",name:"物流问题"}]}),ee=i([{code:"1",name:"墙板"},{code:"2",name:"线条"},{code:"3",name:"五金"},{code:"4",name:"门套"},{code:"5",name:"门扇"},{code:"6",name:"柜体"},{code:"7",name:"柜门"},{code:"8",name:"玻璃"},{code:"9",name:"挂板"},{code:"10",name:"罗马柱"},{code:"11",name:"帽头"},{code:"12",name:"装饰块"},{code:"13",name:"雕花件"},{code:"14",name:"色板"},{code:"15",name:"整单"},{code:"16",name:"入户门"}]),se=i([{code:"1",name:"边梃"},{code:"2",name:"挂线条"},{code:"3",name:"芯板"},{code:"4",name:"金属条"},{code:"5",name:"码头"},{code:"6",name:"封边"},{code:"7",name:"L边"},{code:"8",name:"整体"},{code:"9",name:"面板执手"},{code:"10",name:"锁体"},{code:"11",name:"铰链"},{code:"12",name:"铰链底座"},{code:"13",name:"灯带"},{code:"14",name:"抽屉轨道"},{code:"15",name:"三合一"},{code:"16",name:"其他五金"},{code:"17",name:"档条"},{code:"18",name:"密封条"},{code:"19",name:"套板"},{code:"20",name:"门套"},{code:"21",name:"玻璃"},{code:"22",name:"门标"},{code:"23",name:"门芯板"},{code:"24",name:"配件"},{code:"25",name:"五金配件"},{code:"26",name:"8属边"},{code:"27",name:"背板"},{code:"28",name:"层板"},{code:"29",name:"抽屉板"},{code:"30",name:"底板"},{code:"31",name:"顶板"},{code:"32",name:"台面板"},{code:"33",name:"立板"},{code:"34",name:"侧板"},{code:"35",name:"踢脚板"},{code:"36",name:"五金件"},{code:"37",name:"挂板"},{code:"38",name:"罗马柱"},{code:"39",name:"帽头"},{code:"40",name:"装饰块"},{code:"41",name:"雕花件"},{code:"42",name:"色板"},{code:"43",name:"整单"},{code:"44",name:"修补漆"},{code:"45",name:"入户门扇"}]),ae=i([{code:"1",name:"消费者"},{code:"2",name:"经销商"},{code:"3",name:"订单分解"},{code:"4",name:"备料"},{code:"5",name:"加工"},{code:"6",name:"免漆加工"},{code:"7",name:"油漆"},{code:"8",name:"少货"},{code:"9",name:"包装问题"},{code:"10",name:"五金问题"},{code:"11",name:"辅料问题"},{code:"12",name:"仓库发货"},{code:"13",name:"物流送达"},{code:"14",name:"系统问题"},{code:"15",name:"新品设计问题"},{code:"16",name:"隔音等级"},{code:"17",name:"受潮"},{code:"18",name:"无法提供证明的少货"},{code:"19",name:"交期延误"},{code:"20",name:"霉变"},{code:"21",name:"气味"},{code:"22",name:"长虫"},{code:"23",name:"过质保期"},{code:"24",name:"变色"},{code:"25",name:"入户门问题"}]),h=i({}),le=i([{code:"1",name:"订单分解错"},{code:"2",name:"订单漏分解"},{code:"3",name:"变形"}]),oe=i([{code:"1",name:"漏备注"},{code:"2",name:"产品漏分解"},{code:"3",name:"配件漏分解"},{code:"4",name:"五金漏分解"},{code:"5",name:"孔位漏分解"}]),te=i([{label:"处理方式",value:"1"}]),B=i(!1),R=i(!1),F=i(1);i({value1:"1",value2:"1",value3:"1",value4:"1",value5:"1",value6:"1"});const ne=i({Content:"application/json",Authorization:"",isImage:"true",needFileId:"true","Trace-Id":""}),ce=i([]);i([{label:"全部订单",value:"1"}]),i([{label:"产品大类",value:"1"}]),i([{label:"产品型号",value:"1"}]),i([{label:"树种",value:"1"}]),i([{label:"油漆颜色",value:"1"}]),i([{label:"尺寸",value:"1"}]);const L=i([]),m=i({}),H=i({files:[],name:"files"}),de=c=>{H.value.files=[c]},ie=c=>{f.value=c},ue=()=>{Oe.prompt("请填写评论内容","发起评论",{inputPattern:/\S/,inputErrorMessage:"评论内容不能为空!",confirmButtonText:"确认",cancelButtonText:"取消"}).then(({value:c})=>{j.value.push({userName:"经销商",text:c,date:new Date().toLocaleString()})}).catch(()=>{})},pe=()=>{P.$message.success("保存成功!"),setTimeout(()=>{B.value=!1},500)};Ne(()=>{re(!1)});const re=c=>{$e(Y.query.id).then(o=>{let _=o.data.data;_!=null?(h.value=_,ie(h.value.status__c),_e(),me(),he(),c&&D({message:"查询成功",type:"success"})):D({message:"获取数据失败",type:"error"})}).catch(o=>{D({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",o)})},_e=()=>{Re(h.value.neoId).then(c=>{let o=c.data.data;if(o!=null){let _=o;m.value=_.details,C.value=_.details,delete _.details,L.value=[_]}else console.log("获取数据失败!")}).catch(c=>{D({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",c)})},me=()=>{X(h.value.orderNeoId).then(c=>{let o=c.data.data;o!=null?q.value=o:console.log("无对应数据!")}).catch(c=>{D({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",c)})},he=()=>{let c={id:"",neoid:h.value.serviceCase__c};Fe(c).then(o=>{let _=o.data.data;_!=null?z.value=_:console.log("无对应数据!")}).catch(o=>{D({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",o)})},ve=c=>{we(),O.value=!0},S=i([]),fe=c=>{console.log(c),c.code=="success"&&(S.value=S.value.concat(c.data.map(o=>o.fileId)))},be=c=>{var o=c.response;if(o.code=="success"){const _=o.data[0].fileId,a=S.value.findIndex(v=>v===_);a!==-1&&S.value.splice(a,1)}},C=i([]),ye=i(),ge=i([]);n.value=i({});const ke=c=>{console.info("选择的数据：",c),ge.value=c},we=()=>{X(h.value.orderNeoId).then(c=>{if(c.data.code=="success"){let o=c.data.data.po,_=c.data.data.items;C.value.forEach(a=>{a.checked=!1,a.orderPo=o}),_&&_.length>0?(C.value.forEach(a=>{let v=_.find(p=>a.orderProductId==p.neoid);if(v&&(a.productionOrderNo__c=v.productionOrderNo__c,a.quantity=v.quantity,a.name=v.name,a.productName=v.productName,a.paintColor__c=v.paintColor__c,a.treeSpecies__c=v.treeSpecies__c,a.fscProductSpec=v.fscProductSpec,a.fscProductModel=v.fscProductModel,a.category1=v.category1,a.ticketProblem&&Q.isArray(a.ticketProblem))){let p="";console.log(),a.ticketProblem.forEach(b=>{p=p+$.value.find(I=>I.code==b).name+","}),a.ticketProblem=p.substring(0,p.length-1)}}),console.log("tableData222",ce.value)):console.info("details没数据")}else P.$message.error("数据异常!")})},Ve=()=>{console.info("fileIdfileId",S);const c=C.value.filter(a=>a.checked);if(console.info("过滤：",c.id),c.length<=0){P.$message.error("必须勾选数据!");return}let o=JSON.parse(JSON.stringify(c));o.forEach(a=>{a.picture=S.value,a.treeSpecies=a.treeSpecies__c,a.category=a.category1,a.paintColor=a.paintColor__c,a.ticketClassification=n.value.problemType,a.ticketProblem=n.value.afterSalesIssues,a.personLiable=n.value.responsiblePerson,a.descriptionOfTicketProblem=n.value.problemDesc});let _={id:L.value[0].id,serviceTicket:h.value.id,serviceTicketId:parseInt(L.value[0].serviceTicketId),serviceCaseId:parseInt(L.value[0].serviceCaseId),details:o};console.info("selectDataselectData",c),!n.value.problemType||!n.value.afterSalesIssues||!n.value.responsiblePerson||!n.value.problemDesc?P.$message.error("必填选项不能为空!"):setTimeout(()=>{We(_).then(a=>{let v=a.data.data;a.data.code=="success"&&v!=null?(c.forEach(p=>{if(p.picture=S.value,p.treeSpecies=p.treeSpecies__c,p.category=p.category1,p.paintColor=p.paintColor__c,p.ticketClassification=n.value.problemType,p.ticketProblem=n.value.afterSalesIssues,p.personLiable=n.value.responsiblePerson,p.descriptionOfTicketProblem=n.value.problemDesc,p.ticketProblem&&Q.isArray(p.ticketProblem)){let b="";p.ticketProblem.forEach(I=>{b=b+$.value.find(E=>E.code==I).name+","}),p.ticketProblem=b.substring(0,b.length-1)}}),P.$message.success("提交成功")):P.$message.warning("提交失败，请重试")}).catch(a=>{D({message:"系统异常,提交失败",type:"error"})})},500)},xe=c=>{J.value=Z.value[c],n.value.afterSalesIssues=[]},Ie=c=>{C.value.forEach(o=>{o.checked=c})};return(c,o)=>{const _=x("el-button"),a=x("el-table-column"),v=x("el-table"),p=x("el-option"),b=x("el-select"),I=x("el-input"),E=x("el-icon"),G=x("el-upload"),W=x("el-dialog"),K=x("el-checkbox");return r(),g("div",ze,[e("span",je,[Je,e("span",He,[e("span",Ge,[e("span",{class:y(f.value==1?"num_selected":"num")},"1",2),e("span",{class:y(f.value>=1?"name_selected":"name")},"开始",2)]),e("span",Ke,[e("span",{class:y(f.value==2?"num_selected":"num")},"2",2),e("span",{class:y(f.value>=2?"name_selected":"name")},"已提报问题",2)]),e("span",Qe,[e("span",{class:y(f.value==3?"num_selected":"num")},"3",2),e("span",{class:y(f.value>=3?"name_selected":"name")},"售后审核",2)]),e("span",Xe,[e("span",{class:y(f.value==4?"num_selected":"num")},"4",2),e("span",{class:y(f.value>=4?"name_selected":"name")},"已定损",2)]),e("span",Ye,[e("span",{class:y(f.value==5?"num_selected":"num")},"5",2),e("span",{class:y(f.value>=5?"name_selected":"name")},"定责发起",2)]),e("span",Ze,[e("span",{class:y(f.value==6?"num_selected":"num")},"6",2),e("span",{class:y(f.value>=6?"name_selected":"name")},"已提交OA审批",2)]),e("span",es,[e("span",{class:y(f.value==7?"num_selected":"num")},"7",2),e("span",{class:y(f.value>=7?"name_selected":"name")},"已追责",2)]),e("span",ss,[e("span",{class:y(f.value==8?"num_selected":"num")},"8",2),e("span",{class:y(f.value>=8?"name_selected":"name")},"结束",2)])])]),e("span",as,[e("span",ls,[T("售后工单详情 "),h.value.reasonReturn!=null&&h.value.reasonReturn!=""?(r(),k(_,{key:0,class:"return_btn"},{default:u(()=>[T("退回原因:"+d(h.value.reasonReturn),1)]),_:1})):M("",!0)]),e("span",os,[e("span",ts,[e("span",ns,[cs,e("span",ds,d(h.value.name),1),M("",!0)]),e("span",is,[us,e("span",ps,d(h.value.entityType),1)]),e("span",rs,[_s,e("span",ms,d(h.value.ticketSource__c),1)])]),e("span",hs,[e("span",vs,[fs,e("span",bs,d(q.value.po),1)]),e("span",ys,[gs,e("span",ks,d(z.value.caseNo),1)]),ws]),e("span",Vs,[e("span",xs,[Is,e("span",Ts,d(h.value.distributorDemands__c),1)]),e("span",Ss,[Ds,e("span",Ps,d(q.value.storeName__c),1)]),e("span",Cs,[Ls,e("span",Us,d(h.value.createdTime),1)])])]),Ns,e("span",Os,[e("span",qs,[e("span",Bs,[Es,e("span",Ms,d(q.value.accountName__C),1)]),e("span",As,[$s,e("span",Rs,d(h.value.customerPhone__c),1)]),e("span",Fs,[Ws,e("span",zs,d(h.value.reporter__c),1)])]),e("span",js,[e("span",Js,[Hs,e("span",Gs,d(h.value.customerAddress__c),1)])])])]),e("span",Ks,[Qs,e("span",Xs,[l(v,{data:L.value,stripe:!1,style:{width:"100%"}},{default:u(()=>[l(a,{prop:"name",label:"售后处理记录编号"}),l(a,{prop:"text2",label:"生产单号"}),l(a,{prop:"text3",label:"售后审核员"}),l(a,{prop:"text4",label:"处理方式"}),l(a,{prop:"text5",label:"状态"}),l(a,{prop:"text6",label:"退回原因"}),l(a,{prop:"text7",label:"创建时间"}),l(a,{prop:"text8",label:"操作"},{default:u(s=>[e("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:U=>ve(s.row)}," 查看 ",8,Ys)]),_:1})]),_:1},8,["data"])])]),e("span",{class:"action_list"},[e("div",{class:"left"},[Zs,e("span",{class:"initiate_comments",onClick:ue},"发起评论")])]),(r(!0),g(w,null,V(j.value,s=>(r(),g("div",{class:"comment",key:s.date},[e("div",ea,[sa,e("span",aa,d(s.userName),1)]),e("div",la,d(s.text),1),e("div",oa,d(s.date),1),ta,na]))),128)),e("div",ca,[l(W,{modelValue:B.value,"onUpdate:modelValue":o[11]||(o[11]=s=>B.value=s),width:"25%","show-close":!1},{footer:u(()=>[e("div",Oa,[l(_,{class:"cancel_btn",onClick:o[10]||(o[10]=s=>B.value=!1)},{default:u(()=>[T("取消")]),_:1}),l(_,{onClick:pe,type:"primary",class:"primary_btn",style:{"margin-left":"50px !important"}},{default:u(()=>[T("保存")]),_:1})])]),default:u(()=>[e("span",da,d(F.value==1?"完善问题描述":"定义处理方式"),1),F.value==1?(r(),g("span",ia,[e("span",ua,[pa,l(b,{modelValue:n.value.problemType,"onUpdate:modelValue":o[0]||(o[0]=s=>n.value.problemType=s),placeholder:""},{default:u(()=>[(r(!0),g(w,null,V(A.value,s=>(r(),k(p,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",ra,[_a,l(b,{modelValue:n.value.afterSalesIssues,"onUpdate:modelValue":o[1]||(o[1]=s=>n.value.afterSalesIssues=s),placeholder:""},{default:u(()=>[(r(!0),g(w,null,V($.value,s=>(r(),k(p,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",ma,[ha,l(I,{modelValue:n.value.responsiblePerson,"onUpdate:modelValue":o[2]||(o[2]=s=>n.value.responsiblePerson=s)},null,8,["modelValue"])]),e("span",va,[fa,l(I,{modelValue:n.value.problemDesc,"onUpdate:modelValue":o[3]||(o[3]=s=>n.value.problemDesc=s)},null,8,["modelValue"])]),e("span",ba,[l(G,{"file-list":n.value.fileList,class:"upload",drag:"",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",multiple:""},{tip:u(()=>[ga]),default:u(()=>[l(E,{class:"el-icon--upload"}),ya]),_:1},8,["file-list"])])])):M("",!0),F.value==2?(r(),g("span",ka,[e("span",wa,[Va,l(b,{modelValue:n.value.poductType,"onUpdate:modelValue":o[4]||(o[4]=s=>n.value.poductType=s),placeholder:""},{default:u(()=>[(r(!0),g(w,null,V(ee.value,s=>(r(),k(p,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",xa,[Ia,l(b,{modelValue:n.value.componentType,"onUpdate:modelValue":o[5]||(o[5]=s=>n.value.componentType=s),placeholder:""},{default:u(()=>[(r(!0),g(w,null,V(se.value,s=>(r(),k(p,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",Ta,[Sa,l(b,{modelValue:n.value.badType,"onUpdate:modelValue":o[6]||(o[6]=s=>n.value.badType=s),placeholder:""},{default:u(()=>[(r(!0),g(w,null,V(ae.value,s=>(r(),k(p,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",Da,[Pa,l(b,{modelValue:n.value.qualityIndicator1,"onUpdate:modelValue":o[7]||(o[7]=s=>n.value.qualityIndicator1=s),placeholder:""},{default:u(()=>[(r(!0),g(w,null,V(le.value,s=>(r(),k(p,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",Ca,[La,l(b,{modelValue:n.value.qualityIndicator2,"onUpdate:modelValue":o[8]||(o[8]=s=>n.value.qualityIndicator2=s),placeholder:""},{default:u(()=>[(r(!0),g(w,null,V(oe.value,s=>(r(),k(p,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",Ua,[Na,l(b,{modelValue:n.value.handleWay,"onUpdate:modelValue":o[9]||(o[9]=s=>n.value.handleWay=s),placeholder:""},{default:u(()=>[(r(!0),g(w,null,V(te.value,s=>(r(),k(p,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):M("",!0)]),_:1},8,["modelValue"])]),e("div",qa,[l(W,{modelValue:R.value,"onUpdate:modelValue":o[13]||(o[13]=s=>R.value=s),width:"100%","show-close":!1},{footer:u(()=>[e("div",so,[l(_,{class:"cancel_btn",onClick:o[12]||(o[12]=s=>R.value=!1)},{default:u(()=>[T("返回")]),_:1})])]),default:u(()=>[Ba,e("span",Ea,[e("span",Ma,[e("span",Aa,[e("span",$a,[Ra,e("span",Fa,d(m.value.name),1)]),e("span",Wa,[za,e("span",ja,d(m.value.distributor),1)]),e("span",Ja,[Ha,e("span",Ga,d(m.value.distributorPhone),1)])]),e("span",Ka,[e("span",Qa,[Xa,e("span",Ya,d(m.value.store),1)]),e("span",Za,[el,e("span",sl,d(m.value.storePhone),1)]),e("span",al,[ll,e("span",ol,d(m.value.orderId),1)])]),e("span",tl,[e("span",nl,[cl,e("span",dl,d(m.value.productionOrderNo),1)]),e("span",il,[ul,e("span",pl,d(m.value.orderType),1)]),e("span",rl,[_l,e("span",ml,d(m.value.status),1)])]),e("span",hl,[e("span",vl,[fl,e("span",bl,d(m.value.accountName),1)]),e("span",yl,[gl,e("span",kl,d(m.value.customerPhone),1)]),e("span",wl,[Vl,e("span",xl,d(m.value.customerAddress),1)])]),e("span",Il,[e("span",Tl,[Sl,e("span",Dl,d(m.value.productionBranch),1)]),e("span",Pl,[Cl,e("span",Ll,d(m.value.supplyBase),1)]),e("span",Ul,[Nl,e("span",Ol,d(m.value.subtotalOfChargebackAmount),1)])]),e("span",ql,[e("span",Bl,[El,e("span",Ml,d(m.value.auditor),1)]),e("span",Al,[$l,e("span",Rl,d(m.value.reporter),1)]),e("span",Fl,[Wl,e("span",zl,d(m.value.reporterPhone),1)])]),e("span",jl,[e("span",Jl,[Hl,e("span",Gl,d(m.value.customerDemands),1)]),e("span",Kl,[Ql,e("span",Xl,d(m.value.distributorDemands),1)]),e("span",Yl,[Zl,e("span",eo,d(m.value.investigationOfCause),1)])])]),l(v,{class:"table_dialog3",data:m.value.details,stripe:!1},{default:u(()=>[l(a,{prop:"ticketSolutionId",width:"150px",label:"售后处理记录编号"}),l(a,{prop:"solution",width:"150px",label:"处理方式"}),l(a,{prop:"plannedOrderId",width:"150px",label:"预订单"}),l(a,{prop:"supplementaryOrderId",width:"150px",label:"售后订单"}),l(a,{prop:"orderedDate",width:"150px",label:"下单时间"}),l(a,{prop:"dateOfApproval",width:"150px",label:"审核日期"}),l(a,{prop:"deliveryDate",width:"150px",label:"交货日期"}),l(a,{prop:"accountabilityUnit",width:"150px",label:"责任部门"}),l(a,{prop:"orderId",width:"150px",label:"订单编号"}),l(a,{prop:"",width:"150px",label:"订单明细"}),l(a,{prop:"sku",width:"150px",label:"详单编号"}),l(a,{prop:"barcode",width:"150px",label:"详单条码"}),l(a,{prop:"treeSpecies",width:"150px",label:"树种"}),l(a,{prop:"",label:"尺寸",width:"150px"}),l(a,{prop:"productClassificationSummary",width:"150px",label:"大类汇总"}),l(a,{prop:"model",label:"产品型号",width:"150px"}),l(a,{prop:"productCount",label:"数量",width:"150px"}),l(a,{prop:"suggestion",label:"分析纠正及处理建议",width:"150px"})]),_:1},8,["data"])])]),_:1},8,["modelValue"])]),e("div",ao,[l(W,{modelValue:O.value,"onUpdate:modelValue":o[20]||(o[20]=s=>O.value=s),title:"售后处理明细",width:"80% ","show-close":!1},{footer:u(()=>[e("div",ho,[l(_,{class:"cancel_btn",onClick:o[19]||(o[19]=s=>O.value=!1)},{default:u(()=>[T("取消")]),_:1}),l(_,{onClick:Ve,type:"primary",class:"primary_btn",style:{"margin-left":"50px !important"}},{default:u(()=>[T("提交")]),_:1})])]),default:u(()=>[e("div",lo,[l(v,{ref_key:"multipleTableRef",ref:ye,"selection-change":ke,data:C.value,stripe:!1,style:{width:"100%",overflow:"auto"},"max-height":"300"},{default:u(()=>[l(a,{prop:"checked",label:"全选",width:"80px"},{header:u(()=>[l(K,{onChange:Ie},{default:u(()=>[T("全选")]),_:1})]),default:u(s=>[l(K,{modelValue:s.row.checked,"onUpdate:modelValue":U=>s.row.checked=U},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(a,{prop:"orderPo",label:"订单编号"}),l(a,{prop:"sku",label:"详单编号"}),l(a,{prop:"category1",label:"产品大类"}),l(a,{prop:"fscProductModel",label:"产品型号"}),l(a,{prop:"treeSpecies__c",label:"树种"}),l(a,{prop:"paintColor__c",label:"油漆颜色 "}),l(a,{prop:"fscProductSpec",label:"尺寸 "}),l(a,{prop:"note",label:"售后回复 "}),l(a,{prop:"ticketClassification",label:"问题大类"},{default:u(s=>{var U;return[e("div",oo,d(s.row.ticketClassification?(U=A.value.find(Te=>Te.code==s.row.ticketClassification))==null?void 0:U.name:""),1)]}),_:1}),l(a,{prop:"ticketProblem",label:"售后问题 "}),l(a,{prop:"",label:"责任人 "}),l(a,{prop:"descriptionOfTicketProblem",label:"问题描述 "})]),_:1},8,["data"])]),e("div",to,[no,l(b,{modelValue:n.value.problemType,"onUpdate:modelValue":o[14]||(o[14]=s=>n.value.problemType=s),placeholder:"",onChange:xe},{default:u(()=>[(r(!0),g(w,null,V(A.value,s=>(r(),k(p,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),co,l(b,{multiple:"","collapse-tags":"",modelValue:n.value.afterSalesIssues,"onUpdate:modelValue":o[15]||(o[15]=s=>n.value.afterSalesIssues=s),placeholder:""},{default:u(()=>[(r(!0),g(w,null,V(J.value,s=>(r(),k(p,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),io,l(I,{modelValue:n.value.responsiblePerson,"onUpdate:modelValue":o[16]||(o[16]=s=>n.value.responsiblePerson=s),style:{width:"240px"},placeholder:"请输入责任人"},null,8,["modelValue"])]),e("div",uo,[po,l(I,{modelValue:n.value.problemDesc,"onUpdate:modelValue":o[17]||(o[17]=s=>n.value.problemDesc=s),style:{width:"440px"},rows:2,type:"textarea",placeholder:"请输入问题描述"},null,8,["modelValue"])]),ro,e("div",_o,[e("span",mo,[l(G,{"on-success":fe,"on-remove":be,"auto-upload":!0,data:H.value,headers:ne.value,"before-upload":de,"list-type":"picture-card",class:"avatar-uploader",action:"https://sh.mengtian.com.cn:9595/md/api/common/file/upload","show-file-list":!0,"file-list":n.value.fileList,"onUpdate:fileList":o[18]||(o[18]=s=>n.value.fileList=s)},{default:u(()=>[l(E,null,{default:u(()=>[l(Ee(Me))]),_:1})]),_:1},8,["data","headers","file-list"])])])]),_:1},8,["modelValue"])])])}}}),ko=Ae(vo,[["__scopeId","data-v-f3111463"]]);export{ko as default};
