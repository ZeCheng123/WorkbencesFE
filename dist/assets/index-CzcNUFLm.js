import{_ as P,a as $,b as E}from"./logoXX-Cy74BE6B.js";import{_ as L}from"./download-Dan4AgsM.js";import{e as F}from"./common-DiLhKt0H.js";import{d as O,g as q,a as z,r as g,k as T,E as y,c as k,b as s,e,w as a,f as n,p as j,h as A,o as v,F as G,v as H,n as J,i as N,x as K,_ as Q}from"./index-Dz_sQ5WR.js";const m=i=>(j("data-v-bd40c011"),i=i(),A(),i),R={class:"main"},W=m(()=>s("span",{class:"header"}," 订单中心 ",-1)),X={class:"search"},Y={class:"left"},Z=m(()=>s("span",{style:{width:"336px",height:"32px"}},null,-1)),ee={class:"right"},te=m(()=>s("img",{src:$,alt:""},null,-1)),oe=m(()=>s("img",{src:E,alt:""},null,-1)),ae={class:"table_header"},le=m(()=>s("span",{class:"left"},[s("img",{src:P,alt:""}),s("span",{class:"title"})],-1)),se={class:"right"},ne=m(()=>s("img",{src:L,alt:""},null,-1)),re={class:"table"},de={style:{display:"flex","align-items":"center"}},ce=["onClick"],pe=O({__name:"index",setup(i){const{proxy:w}=q(),t=z({orderNo:"",customerName:"",customerPhone:"",filterMethod:"",createDate:[],orderStatus:""});g([{value:"all",label:"全部"}]);const V=g([{code:"all",name:"全部"},{code:"0",name:"正在录单"},{code:"1",name:"已打单"},{code:"2",name:"已入成品库"},{code:"3",name:"已提交"},{code:"4",name:"已生产下单"},{code:"5",name:"已发货"},{code:"6",name:"已订单审核"},{code:"7",name:"已财务审核"},{code:"8",name:"已经销商确认"},{code:"9",name:"已物料产能稽核"},{code:"10",name:"已物流到货"},{code:"11",name:"已白坏稽核"},{code:"12",name:"已经销商收货"},{code:"13",name:"已油漆"},{code:"14",name:"订单完结"},{code:"15",name:"已包装"},{code:"16",name:"锁定"}]),x=g([]);T(()=>{f(!1)});const f=r=>{const l=t.orderNo,_=t.customerName;t.customerPhone,F({po:l,account_name__c:_}).then(p=>{let u=p.data.data;u.length>0?(x.value=u,r&&y({message:"查询成功",type:"success"})):y({message:"获取数据失败",type:"error"})}).catch(p=>{y({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",p)})},S=r=>{w.$router.push({path:"/historical_orders_details",query:{id:r.id,po:r.po,status_c:r.status_c}})},C=()=>{t.orderNo=null,t.customerName=null,t.customerPhone=null,t.filterMethod=null,t.createDate=[],t.orderStatus=null,f(!1)};return(r,l)=>{const _=n("el-input"),c=n("el-form-item"),p=n("el-form"),u=n("el-date-picker"),D=n("el-option"),I=n("el-select"),b=n("el-button"),d=n("el-table-column"),U=n("el-table"),B=n("el-pagination");return v(),k("div",R,[W,s("span",X,[s("span",Y,[e(p,{model:t,rules:r.rule,"label-width":"80px","label-position":"left"},{default:a(()=>[e(c,{label:"订单编号"},{default:a(()=>[e(_,{placeholder:"请输入任务编号",modelValue:t.orderNo,"onUpdate:modelValue":l[0]||(l[0]=o=>t.orderNo=o)},null,8,["modelValue"])]),_:1}),e(c,{label:"客户姓名"},{default:a(()=>[e(_,{placeholder:"输入客户姓名",modelValue:t.customerName,"onUpdate:modelValue":l[1]||(l[1]=o=>t.customerName=o)},null,8,["modelValue"])]),_:1}),e(c,{label:"客户电话"},{default:a(()=>[e(_,{placeholder:"请输入客户电话",modelValue:t.customerName,"onUpdate:modelValue":l[2]||(l[2]=o=>t.customerName=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),e(p,{model:t,rules:r.rule,"label-width":"80px","label-position":"left"},{default:a(()=>[e(c,{label:"创建时间"},{default:a(()=>[e(u,{modelValue:t.createDate,"onUpdate:modelValue":l[3]||(l[3]=o=>t.createDate=o),type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),e(c,{label:"订单状态"},{default:a(()=>[e(I,{modelValue:t.orderStatus,"onUpdate:modelValue":l[4]||(l[4]=o=>t.orderStatus=o),placeholder:"请选择订单状态"},{default:a(()=>[(v(!0),k(G,null,H(V.value,o=>(v(),J(D,{key:o.code,label:o.name,value:o.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),Z]),_:1},8,["model","rules"])]),s("span",ee,[e(b,{onClick:l[5]||(l[5]=o=>f(!0)),type:"primary",class:"search_btn"},{icon:a(()=>[te]),default:a(()=>[N("查询")]),_:1}),e(b,{onClick:l[6]||(l[6]=o=>C()),type:"primary",class:"reset_btn"},{icon:a(()=>[oe]),default:a(()=>[N("重置")]),_:1})])]),s("span",ae,[le,s("span",se,[e(b,{type:"primary",class:"reset_btn"},{icon:a(()=>[ne]),default:a(()=>[N("下载")]),_:1})])]),s("span",re,[e(U,{class:"table_content",data:x.value,stripe:!1,style:{width:"100%"}},{default:a(()=>[e(d,{prop:"po",label:"订单编号"}),e(d,{prop:"storeName__c",label:"专卖店名称"}),e(d,{prop:"distributorId__c",label:"专卖店编号"}),e(d,{prop:"account_name__c",label:"客户名称"}),e(d,{prop:"productionOrderNo__c",label:"生产单号"}),e(d,{prop:"created_time",label:"创建时间"}),e(d,{prop:"status",label:"状态"},{default:a(o=>{var h;return[s("div",de,K(o.row.status_c?(h=V.value.find(M=>M.code==o.row.status_c))==null?void 0:h.name:"待开始"),1)]}),_:1}),e(d,{prop:"text8",label:"操作",width:"80px"},{default:a(o=>[s("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:h=>S(o.row)}," 查看 ",8,ce)]),_:1})]),_:1},8,["data"]),e(B,{class:"table_pagination","page-size":20,"pager-count":11,layout:"total, prev, pager, next",total:1e3})])])}}}),fe=Q(pe,[["__scopeId","data-v-bd40c011"]]);export{fe as default};
