import{_ as E,a as O,b as R}from"./logoXX-Cy74BE6B.js";import{_ as D}from"./download-Dan4AgsM.js";import{j as Q}from"./common-DiLhKt0H.js";import{d as T,g as Z,a as G,r as h,k as K,E as v,c as x,b as l,i as _,e,w as a,f as n,p as L,h as F,o as y,F as H,v as M,n as $,x as j,_ as q}from"./index-Dz_sQ5WR.js";const J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAPCAYAAADQ4S5JAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAACFSURBVCiR3ZKxDcIwEEWfLZcp0sMgLtgAtmAOKsZJyQApQkvBBAxBi/RoHCmKRGS3POmKu3v/qoOCmtSzOqnvUlOZJZaonTr6m1HtloHbhjwzzHKukGdyBE7Uc4zAriGwjw0yAP8S6Bv8PgEP4FkZ+IT1RL0Ch9LeQwiXzRPlVV6l8nr/BYGarc4yhMG+AAAAAElFTkSuQmCC",p=g=>(L("data-v-a46d3197"),g=g(),F(),g),X={class:"main"},Y={class:"header"},W=p(()=>l("span",{class:"title"},"售后工单",-1)),ee=p(()=>l("img",{src:J,alt:""},null,-1)),te={class:"search"},ae={class:"left"},oe=p(()=>l("span",{style:{width:"336px",height:"32px"}},null,-1)),le={class:"right"},se=p(()=>l("img",{src:O,alt:""},null,-1)),ne=p(()=>l("img",{src:R,alt:""},null,-1)),re={class:"table_header"},ce=p(()=>l("span",{class:"left"},[l("img",{src:E,alt:""}),l("span",{class:"title"})],-1)),de={class:"right"},pe=p(()=>l("img",{src:D,alt:""},null,-1)),ie={class:"table"},me={style:{display:"flex","align-items":"center"}},ue=["onClick"],_e=T({__name:"index",setup(g){const{proxy:C}=Z(),o=G({workNo:"",customerName:"",customerPhone:"",filterMethod:"",createDate:[],orderStatus:""});h([{value:"all",label:"全部"}]);const w=h([{code:"",name:"全部"},{code:"1",name:"已提报问题"},{code:"2",name:"已定损"},{code:"3",name:"核实/维护问题产品中"},{code:"4",name:"定责发起"},{code:"5",name:"已提交OA审批"},{code:"6",name:"已定责"},{code:"7",name:"已追责"},{code:"8",name:"已财务审核"},{code:"9",name:"已经销商审核"},{code:"10",name:"已结案"}]),f=h({pageIndex:1,pageSize:5,total:0}),k=h([]);K(()=>{A(!1)});const A=c=>{console.log(o);const s=o.customerName==null?"":o.customerName,i=o.customerPhone==null?"":o.customerPhone;let m={customerName:s,customerPhone:i,status:o.orderStatus,createdTime:"",pageSize:5,pageNo:f.value.pageIndex};Q(m).then(r=>{let u=r.data.data;u.length>0?(k.value=u,c&&v({message:"查询成功",type:"success"})):v({message:"暂无数据",type:"warning"})}).catch(r=>{v({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",r)})},N=c=>{C.$router.push({path:"/aftersales_workorder_details",query:{id:c.id}})},V=c=>{f.value.pageIndex=c,A(!0)};return(c,s)=>{const i=n("el-button"),m=n("el-input"),r=n("el-form-item"),u=n("el-form"),S=n("el-date-picker"),I=n("el-option"),B=n("el-select"),d=n("el-table-column"),P=n("el-table"),z=n("el-pagination");return y(),x("div",X,[l("span",Y,[W,_(),e(i,{type:"primary",class:"tips_btn"},{icon:a(()=>[ee]),default:a(()=>[_("售后工单草稿箱")]),_:1})]),l("span",te,[l("span",ae,[e(u,{model:o,rules:c.rule,"label-width":"80px","label-position":"left"},{default:a(()=>[e(r,{label:"工单编号"},{default:a(()=>[e(m,{placeholder:"请输入工单编号",modelValue:o.workNo,"onUpdate:modelValue":s[0]||(s[0]=t=>o.workNo=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"客户名称"},{default:a(()=>[e(m,{placeholder:"输入客户名称",modelValue:o.customerName,"onUpdate:modelValue":s[1]||(s[1]=t=>o.customerName=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"客户电话"},{default:a(()=>[e(m,{placeholder:"请输入客户电话",modelValue:o.customerName,"onUpdate:modelValue":s[2]||(s[2]=t=>o.customerName=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),e(u,{model:o,rules:c.rule,"label-width":"80px","label-position":"left"},{default:a(()=>[e(r,{label:"创建时间"},{default:a(()=>[e(S,{modelValue:o.createDate,"onUpdate:modelValue":s[3]||(s[3]=t=>o.createDate=t),type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),e(r,{label:"订单状态"},{default:a(()=>[e(B,{modelValue:o.orderStatus,"onUpdate:modelValue":s[4]||(s[4]=t=>o.orderStatus=t),placeholder:"请选择订单状态"},{default:a(()=>[(y(!0),x(H,null,M(w.value,t=>(y(),$(I,{key:t.code,label:t.name,value:t.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),oe]),_:1},8,["model","rules"])]),l("span",le,[e(i,{type:"primary",onClick:s[5]||(s[5]=t=>A(!0)),class:"search_btn"},{icon:a(()=>[se]),default:a(()=>[_("查询")]),_:1}),e(i,{type:"primary",class:"reset_btn"},{icon:a(()=>[ne]),default:a(()=>[_("重置")]),_:1})])]),l("span",re,[ce,l("span",de,[e(i,{type:"primary",class:"reset_btn"},{icon:a(()=>[pe]),default:a(()=>[_("下载")]),_:1})])]),l("span",ie,[e(P,{class:"table_content",data:k.value,stripe:!1,style:{width:"100%"}},{default:a(()=>[e(d,{prop:"ticketNo__c",label:"售后工单编号"}),e(d,{prop:"storeName",label:"专卖店名称"}),e(d,{prop:"productionOrderNo__c",label:"生产单号"}),e(d,{prop:"accountName",label:"客户名称"}),e(d,{prop:"text5",label:"处理方式"}),e(d,{prop:"createdTime",label:"创建时间"}),e(d,{prop:"status__c",label:"售后状态"},{default:a(t=>{var b;return[l("div",me,j(t.row.status__c?(b=w.value.find(U=>U.code==t.row.status__c))==null?void 0:b.name:""),1)]}),_:1}),e(d,{prop:"text8",label:"操作",width:"80px"},{default:a(t=>[l("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:b=>N(t.row)}," 查看 ",8,ue)]),_:1})]),_:1},8,["data"]),e(z,{class:"table_pagination","page-size":f.value.pageSize,"pager-count":5,layout:"total, prev, pager, next",total:f.value.total,onCurrentChange:V},null,8,["page-size","total"])])])}}}),be=q(_e,[["__scopeId","data-v-a46d3197"]]);export{be as default};
