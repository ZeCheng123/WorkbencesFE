import{_ as fe,a as be,b as ye}from"./tips-DfmWQaVF.js";import{d as ge,g as we,r as n,z as ke,o as xe,E as T,c as y,h as e,v as b,t as c,q as M,b as a,w as _,F as g,m as w,A as Ve,e as k,p as Te,f as De,i as m,j as A,s as x,B as Se,_ as Ie}from"./index-BNw8j_YZ.js";import{z as Ce,A as Pe,B as Ne,C as Q,D as Ae}from"./common-DZytvcl-.js";import"./userinfo-CbCawm5q.js";const o=D=>(Te("data-v-b675741f"),D=D(),De(),D),Be={class:"main"},Le={class:"header"},Ue=o(()=>e("span",{class:"title"},"售后工单状态",-1)),qe={class:"step"},Oe={class:"item"},Me={class:"item"},Ee={class:"item"},$e={class:"item"},je={class:"item"},ze={class:"item"},Re={class:"item"},Fe={class:"item"},We={class:"order_info"},He=o(()=>e("span",{class:"title"},"售后工单详情 ",-1)),Qe={class:"main_field"},Ge={class:"row_field"},Je={class:"field"},Ke=o(()=>e("span",{class:"label"},"工单编号：",-1)),Xe={class:"value"},Ye={class:"field"},Ze=o(()=>e("span",{class:"label"},"业务类型：",-1)),es={class:"value"},ss={class:"field"},as=o(()=>e("span",{class:"label"},"售后工单来源：",-1)),ls={class:"value"},os={class:"row_field"},ts={class:"field"},ns=o(()=>e("span",{class:"label"},"订单编号：",-1)),cs={class:"value"},ds={class:"field"},is=o(()=>e("span",{class:"label"},"服务工单：",-1)),_s={class:"value"},ps=o(()=>e("span",{class:"field"},[e("span",{class:"label"},"所有人："),e("span",{class:"value"})],-1)),us={class:"row_field"},rs={class:"field"},ms=o(()=>e("span",{class:"label"},"升级备注：",-1)),hs={class:"value"},vs={class:"field"},fs=o(()=>e("span",{class:"label"},"专卖店名称：",-1)),bs={class:"value"},ys={class:"field"},gs=o(()=>e("span",{class:"label"},"创建时间：",-1)),ws={class:"value"},ks=o(()=>e("span",{class:"title"},"客户信息",-1)),xs={class:"other_field"},Vs={class:"row_field"},Ts={class:"field"},Ds=o(()=>e("span",{class:"label"},"客户姓名：",-1)),Ss={class:"value"},Is={class:"field"},Cs=o(()=>e("span",{class:"label"},"客户电话：",-1)),Ps={class:"value"},Ns={class:"field"},As=o(()=>e("span",{class:"label"},"提报人：",-1)),Bs={class:"value"},Ls={class:"row_field"},Us={class:"field"},qs=o(()=>e("span",{class:"label"},"客户地址：",-1)),Os={class:"value"},Ms={class:"order_list"},Es=o(()=>e("span",{class:"table_title"},"售后工单处理记录",-1)),$s={class:"table_content"},js=["onClick"],zs=o(()=>e("img",{src:fe,alt:""},null,-1)),Rs={class:"userinfo"},Fs=o(()=>e("img",{src:be,alt:""},null,-1)),Ws={class:"username"},Hs={class:"content"},Qs={class:"date"},Gs=o(()=>e("span",{class:"reply"},"回复",-1)),Js=o(()=>e("img",{class:"tips",src:ye,alt:""},null,-1)),Ks={class:"showMainDialog2"},Xs={class:"title"},Ys={key:0,class:"content"},Zs={class:"item"},ea=o(()=>e("span",{class:"label"},"问题大类",-1)),sa={class:"item"},aa=o(()=>e("span",{class:"label"},"售后问题",-1)),la={class:"item"},oa=o(()=>e("span",{class:"label"},"责任人",-1)),ta={class:"item"},na=o(()=>e("span",{class:"label"},"问题描述",-1)),ca={class:"item"},da=o(()=>e("div",{class:"el-upload__text"},"将文件拖至此处 或 点击上传",-1)),ia=o(()=>e("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1)),_a={key:1,class:"content"},pa={class:"item"},ua=o(()=>e("span",{class:"label"},"产品分类",-1)),ra={class:"item"},ma=o(()=>e("span",{class:"label"},"部件分类",-1)),ha={class:"item"},va=o(()=>e("span",{class:"label"},"不良分类",-1)),fa={class:"item"},ba=o(()=>e("span",{class:"label"},"质量指标一",-1)),ya={class:"item"},ga=o(()=>e("span",{class:"label"},"质量指标二",-1)),wa={class:"item"},ka=o(()=>e("span",{class:"label"},"处理方式",-1)),xa={class:"dialog-footer"},Va={class:"showMainDialog3"},Ta=o(()=>e("span",{class:"title"},"售后处理记录详情",-1)),Da={class:"content"},Sa={class:"base_field"},Ia={class:"row_field"},Ca={class:"field"},Pa=o(()=>e("span",{class:"label"},"售后处理记录编号：",-1)),Na={class:"value"},Aa={class:"field"},Ba=o(()=>e("span",{class:"label"},"经销商名称：",-1)),La={class:"value"},Ua={class:"field"},qa=o(()=>e("span",{class:"label"},"经销商电话：",-1)),Oa={class:"value"},Ma={class:"row_field"},Ea={class:"field"},$a=o(()=>e("span",{class:"label"},"专卖店名称：",-1)),ja={class:"value"},za={class:"field"},Ra=o(()=>e("span",{class:"label"},"专卖店电话：",-1)),Fa={class:"value"},Wa={class:"field"},Ha=o(()=>e("span",{class:"label"},"订单编号：",-1)),Qa={class:"value"},Ga={class:"row_field"},Ja={class:"field"},Ka=o(()=>e("span",{class:"label"},"生产单号：",-1)),Xa={class:"value"},Ya={class:"field"},Za=o(()=>e("span",{class:"label"},"订单类型：",-1)),el={class:"value"},sl={class:"field"},al=o(()=>e("span",{class:"label"},"处理进度：",-1)),ll={class:"value"},ol={class:"row_field"},tl={class:"field"},nl=o(()=>e("span",{class:"label"},"客户姓名：",-1)),cl={class:"value"},dl={class:"field"},il=o(()=>e("span",{class:"label"},"客户电话：",-1)),_l={class:"value"},pl={class:"field"},ul=o(()=>e("span",{class:"label"},"客户地址：",-1)),rl={class:"value"},ml={class:"row_field"},hl={class:"field"},vl=o(()=>e("span",{class:"label"},"生产分厂：",-1)),fl={class:"value"},bl={class:"field"},yl=o(()=>e("span",{class:"label"},"供应基地：",-1)),gl={class:"value"},wl={class:"field"},kl=o(()=>e("span",{class:"label"},"冲款金额小计：",-1)),xl={class:"value"},Vl={class:"row_field"},Tl={class:"field"},Dl=o(()=>e("span",{class:"label"},"售后审核员：",-1)),Sl={class:"value"},Il={class:"field"},Cl=o(()=>e("span",{class:"label"},"提报人：",-1)),Pl={class:"value"},Nl={class:"field"},Al=o(()=>e("span",{class:"label"},"提报人电话：",-1)),Bl={class:"value"},Ll={class:"row_field"},Ul={class:"field"},ql=o(()=>e("span",{class:"label"},"消费者需求描述：",-1)),Ol={class:"value"},Ml={class:"field"},El=o(()=>e("span",{class:"label"},"经销商需求描述：",-1)),$l={class:"value"},jl={class:"field"},zl=o(()=>e("span",{class:"label"},"原因调查情况：",-1)),Rl={class:"value"},Fl={class:"dialog-footer"},Wl={class:"showTicketSolutionDetailsDialog"},Hl={class:"table"},Ql={style:{display:"flex","align-items":"center"}},Gl={class:"dialog-footer"},Jl=ge({__name:"index",setup(D){const{proxy:S}=we(),v=n(4),E=ke(),I=n(!1),$=n({}),j=n({}),z=n([]),r=n({problemType:"",afterSalesIssues:"",responsiblePerson:"",problemDesc:"",fileList:[],poductType:"",componentType:"",badType:"",qualityIndicator1:"",qualityIndicator2:"",handleWay:""}),R=n([{code:"1",name:"经销商问题"},{code:"2",name:"公司问题"},{code:"3",name:"物流问题"}]),F=n([{code:"1",name:"店面测量师漏单"},{code:"2",name:"店面测量师量错"},{code:"3",name:"店里设计师漏分解"},{code:"4",name:"店里设计师分解错"},{code:"5",name:"店里设计不合理"},{code:"6",name:"店里下单员漏单"},{code:"7",name:"店里下单员下错"},{code:"8",name:"店里安装师问题"},{code:"9",name:"消费者补单"},{code:"10",name:"消费者使用不当"},{code:"11",name:"产品丢失"},{code:"12",name:"公司问题"},{code:"13",name:"物流问题"}]);n([]),n({1:[{code:"1",name:"店面测量师漏单"},{code:"2",name:"店面测量师量错"},{code:"3",name:"店里设计师漏分解"},{code:"4",name:"店里设计师分解错"},{code:"5",name:"店里设计不合理"},{code:"6",name:"店里下单员漏单"},{code:"7",name:"店里下单员下错"},{code:"8",name:"店里安装师问题"},{code:"9",name:"消费者补单"},{code:"10",name:"消费者使用不当"},{code:"11",name:"产品丢失"}],2:[{code:"12",name:"公司问题"}],3:[{code:"13",name:"物流问题"}]});const G=n([{code:"1",name:"墙板"},{code:"2",name:"线条"},{code:"3",name:"五金"},{code:"4",name:"门套"},{code:"5",name:"门扇"},{code:"6",name:"柜体"},{code:"7",name:"柜门"},{code:"8",name:"玻璃"},{code:"9",name:"挂板"},{code:"10",name:"罗马柱"},{code:"11",name:"帽头"},{code:"12",name:"装饰块"},{code:"13",name:"雕花件"},{code:"14",name:"色板"},{code:"15",name:"整单"},{code:"16",name:"入户门"}]),J=n([{code:"1",name:"边梃"},{code:"2",name:"挂线条"},{code:"3",name:"芯板"},{code:"4",name:"金属条"},{code:"5",name:"码头"},{code:"6",name:"封边"},{code:"7",name:"L边"},{code:"8",name:"整体"},{code:"9",name:"面板执手"},{code:"10",name:"锁体"},{code:"11",name:"铰链"},{code:"12",name:"铰链底座"},{code:"13",name:"灯带"},{code:"14",name:"抽屉轨道"},{code:"15",name:"三合一"},{code:"16",name:"其他五金"},{code:"17",name:"档条"},{code:"18",name:"密封条"},{code:"19",name:"套板"},{code:"20",name:"门套"},{code:"21",name:"玻璃"},{code:"22",name:"门标"},{code:"23",name:"门芯板"},{code:"24",name:"配件"},{code:"25",name:"五金配件"},{code:"26",name:"8属边"},{code:"27",name:"背板"},{code:"28",name:"层板"},{code:"29",name:"抽屉板"},{code:"30",name:"底板"},{code:"31",name:"顶板"},{code:"32",name:"台面板"},{code:"33",name:"立板"},{code:"34",name:"侧板"},{code:"35",name:"踢脚板"},{code:"36",name:"五金件"},{code:"37",name:"挂板"},{code:"38",name:"罗马柱"},{code:"39",name:"帽头"},{code:"40",name:"装饰块"},{code:"41",name:"雕花件"},{code:"42",name:"色板"},{code:"43",name:"整单"},{code:"44",name:"修补漆"},{code:"45",name:"入户门扇"}]),K=n([{code:"1",name:"消费者"},{code:"2",name:"经销商"},{code:"3",name:"订单分解"},{code:"4",name:"备料"},{code:"5",name:"加工"},{code:"6",name:"免漆加工"},{code:"7",name:"油漆"},{code:"8",name:"少货"},{code:"9",name:"包装问题"},{code:"10",name:"五金问题"},{code:"11",name:"辅料问题"},{code:"12",name:"仓库发货"},{code:"13",name:"物流送达"},{code:"14",name:"系统问题"},{code:"15",name:"新品设计问题"},{code:"16",name:"隔音等级"},{code:"17",name:"受潮"},{code:"18",name:"无法提供证明的少货"},{code:"19",name:"交期延误"},{code:"20",name:"霉变"},{code:"21",name:"气味"},{code:"22",name:"长虫"},{code:"23",name:"过质保期"},{code:"24",name:"变色"},{code:"25",name:"入户门问题"}]),f=n({}),X=n([{code:"1",name:"订单分解错"},{code:"2",name:"订单漏分解"},{code:"3",name:"变形"}]),Y=n([{code:"1",name:"漏备注"},{code:"2",name:"产品漏分解"},{code:"3",name:"配件漏分解"},{code:"4",name:"五金漏分解"},{code:"5",name:"孔位漏分解"}]),Z=n([{label:"处理方式",value:"1"}]),C=n(!1),B=n(!1),L=n(1);n({value1:"1",value2:"1",value3:"1",value4:"1",value5:"1",value6:"1"}),n({Content:"application/json",Authorization:"",isImage:"true",needFileId:"true","Trace-Id":""});const ee=n([]);n([{label:"全部订单",value:"1"}]),n([{label:"产品大类",value:"1"}]),n([{label:"产品型号",value:"1"}]),n([{label:"树种",value:"1"}]),n([{label:"油漆颜色",value:"1"}]),n([{label:"尺寸",value:"1"}]);const W=n([]),p=n({}),H=n(null);n({files:[],name:"files"});const se=u=>{v.value=u},ae=()=>{Ve.prompt("请填写评论内容","发起评论",{inputPattern:/\S/,inputErrorMessage:"评论内容不能为空!",confirmButtonText:"确认",cancelButtonText:"取消"}).then(({value:u})=>{z.value.push({userName:"经销商",text:u,date:new Date().toLocaleString()})}).catch(()=>{})},le=()=>{S.$message.success("保存成功!"),setTimeout(()=>{C.value=!1},500)};xe(()=>{te()});const oe=u=>{const t=window.location.href.indexOf("?"),l=t>=0?window.location.href.substring(t+1):window.location.href;return new URLSearchParams(l).get(u)},te=()=>{console.log(oe("code"));const t={code:E.query.code};Ce(t).then(l=>{let d=l.data;d.code=="success"?(H.value=d.data.token,ne(!0,d.data.token)):S.$router.push({path:"/404",query:{}})})},ne=(u,t)=>{const l=E.query.docNo,d=encodeURIComponent(l);Pe(d,t).then(i=>{var V;let h=i.data.data;h!=null?(f.value=h,se(f.value.status__c),ce(t),de(t),ie(t),u&&T({message:"查询成功",type:"success"})):((V=i==null?void 0:i.data)==null?void 0:V.code)=="invalid_token"?S.$router.push({path:"/404",query:{}}):T({message:"获取数据失败",type:"error"})}).catch(i=>{T({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",i)})},ce=u=>{Ne(f.value.neoId,u).then(t=>{let l=t.data.data;if(l!=null){let d=l;p.value=d.details,P.value=d.details,delete d.details,W.value=[d]}else console.log("获取数据失败!")}).catch(t=>{T({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",t)})},de=u=>{Q(f.value.orderNeoId,u).then(t=>{let l=t.data.data;l!=null?$.value=l:console.log("无对应数据!")}).catch(t=>{T({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",t)})},ie=u=>{let t={id:"",neoid:f.value.serviceCase__c};Ae(t,u).then(l=>{let d=l.data.data;d!=null?j.value=d:console.log("无对应数据!")}).catch(l=>{T({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",l)})},_e=u=>{me(),I.value=!0};n([]);const P=n([]),pe=n(),ue=n([]);r.value=n({});const re=u=>{console.info("选择的数据：",u),ue.value=u},me=()=>{Q(f.value.orderNeoId,H.value).then(u=>{if(u.data.code=="success"){let t=u.data.data.po,l=u.data.data.items;P.value.forEach(d=>{d.checked=!1,d.orderPo=t}),l&&l.length>0?(P.value.forEach(d=>{let i=l.find(h=>d.orderProductId==h.neoid);if(i&&(d.productionOrderNo__c=i.productionOrderNo__c,d.quantity=i.quantity,d.name=i.name,d.productName=i.productName,d.paintColor__c=i.paintColor__c,d.treeSpecies__c=i.treeSpecies__c,d.fscProductSpec=i.fscProductSpec,d.fscProductModel=i.fscProductModel,d.category1=i.category1,d.ticketProblem&&Se.isArray(d.ticketProblem))){let h="";console.log(),d.ticketProblem.forEach(V=>{h=h+F.value.find(U=>U.code==V).name+","}),d.ticketProblem=h.substring(0,h.length-1)}}),console.log("tableData222",ee.value)):console.info("details没数据")}else S.$message.error("数据异常!")})};return(u,t)=>{const l=k("el-table-column"),d=k("el-table"),i=k("el-option"),h=k("el-select"),V=k("el-input"),U=k("el-icon"),he=k("el-upload"),N=k("el-button"),q=k("el-dialog");return m(),y("div",Be,[e("span",Le,[Ue,e("span",qe,[e("span",Oe,[e("span",{class:b(v.value==1?"num_selected":"num")},"1",2),e("span",{class:b(v.value>=1?"name_selected":"name")},"开始",2)]),e("span",Me,[e("span",{class:b(v.value==2?"num_selected":"num")},"2",2),e("span",{class:b(v.value>=2?"name_selected":"name")},"已提报问题",2)]),e("span",Ee,[e("span",{class:b(v.value==3?"num_selected":"num")},"3",2),e("span",{class:b(v.value>=3?"name_selected":"name")},"售后审核",2)]),e("span",$e,[e("span",{class:b(v.value==4?"num_selected":"num")},"4",2),e("span",{class:b(v.value>=4?"name_selected":"name")},"已定损",2)]),e("span",je,[e("span",{class:b(v.value==5?"num_selected":"num")},"5",2),e("span",{class:b(v.value>=5?"name_selected":"name")},"定责发起",2)]),e("span",ze,[e("span",{class:b(v.value==6?"num_selected":"num")},"6",2),e("span",{class:b(v.value>=6?"name_selected":"name")},"已提交OA审批",2)]),e("span",Re,[e("span",{class:b(v.value==7?"num_selected":"num")},"7",2),e("span",{class:b(v.value>=7?"name_selected":"name")},"已追责",2)]),e("span",Fe,[e("span",{class:b(v.value==8?"num_selected":"num")},"8",2),e("span",{class:b(v.value>=8?"name_selected":"name")},"结束",2)])])]),e("span",We,[He,e("span",Qe,[e("span",Ge,[e("span",Je,[Ke,e("span",Xe,c(f.value.name),1),M("",!0)]),e("span",Ye,[Ze,e("span",es,c(f.value.entityType),1)]),e("span",ss,[as,e("span",ls,c(f.value.ticketSource__c),1)])]),e("span",os,[e("span",ts,[ns,e("span",cs,c($.value.po),1)]),e("span",ds,[is,e("span",_s,c(j.value.caseNo),1)]),ps]),e("span",us,[e("span",rs,[ms,e("span",hs,c(f.value.distributorDemands__c),1)]),e("span",vs,[fs,e("span",bs,c(f.value.storeName),1)]),e("span",ys,[gs,e("span",ws,c(f.value.createdTime),1)])])]),ks,e("span",xs,[e("span",Vs,[e("span",Ts,[Ds,e("span",Ss,c(f.value.accountName),1)]),e("span",Is,[Cs,e("span",Ps,c(f.value.customerPhone__c),1)]),e("span",Ns,[As,e("span",Bs,c(f.value.reporter__c),1)])]),e("span",Ls,[e("span",Us,[qs,e("span",Os,c(f.value.customerAddress__c),1)])])])]),e("span",Ms,[Es,e("span",$s,[a(d,{data:W.value,stripe:!1,style:{width:"100%"}},{default:_(()=>[a(l,{prop:"name",label:"售后处理记录编号"}),a(l,{prop:"text2",label:"生产单号"}),a(l,{prop:"text3",label:"售后审核员"}),a(l,{prop:"text4",label:"处理方式"}),a(l,{prop:"text5",label:"状态"}),a(l,{prop:"text6",label:"退回原因"}),a(l,{prop:"text7",label:"创建时间"}),a(l,{prop:"text8",label:"操作"},{default:_(s=>[e("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:O=>_e(s.row)}," 查看 ",8,js)]),_:1})]),_:1},8,["data"])])]),e("span",{class:"action_list"},[e("div",{class:"left"},[zs,e("span",{class:"initiate_comments",onClick:ae},"发起评论")])]),(m(!0),y(g,null,w(z.value,s=>(m(),y("div",{class:"comment",key:s.date},[e("div",Rs,[Fs,e("span",Ws,c(s.userName),1)]),e("div",Hs,c(s.text),1),e("div",Qs,c(s.date),1),Gs,Js]))),128)),e("div",Ks,[a(q,{modelValue:C.value,"onUpdate:modelValue":t[11]||(t[11]=s=>C.value=s),width:"25%","show-close":!1},{footer:_(()=>[e("div",xa,[a(N,{class:"cancel_btn",onClick:t[10]||(t[10]=s=>C.value=!1)},{default:_(()=>[A("取消")]),_:1}),a(N,{onClick:le,type:"primary",class:"primary_btn",style:{"margin-left":"50px !important"}},{default:_(()=>[A("保存")]),_:1})])]),default:_(()=>[e("span",Xs,c(L.value==1?"完善问题描述":"定义处理方式"),1),L.value==1?(m(),y("span",Ys,[e("span",Zs,[ea,a(h,{modelValue:r.value.problemType,"onUpdate:modelValue":t[0]||(t[0]=s=>r.value.problemType=s),placeholder:""},{default:_(()=>[(m(!0),y(g,null,w(R.value,s=>(m(),x(i,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",sa,[aa,a(h,{modelValue:r.value.afterSalesIssues,"onUpdate:modelValue":t[1]||(t[1]=s=>r.value.afterSalesIssues=s),placeholder:""},{default:_(()=>[(m(!0),y(g,null,w(F.value,s=>(m(),x(i,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",la,[oa,a(V,{modelValue:r.value.responsiblePerson,"onUpdate:modelValue":t[2]||(t[2]=s=>r.value.responsiblePerson=s)},null,8,["modelValue"])]),e("span",ta,[na,a(V,{modelValue:r.value.problemDesc,"onUpdate:modelValue":t[3]||(t[3]=s=>r.value.problemDesc=s)},null,8,["modelValue"])]),e("span",ca,[a(he,{"file-list":r.value.fileList,class:"upload",drag:"",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",multiple:""},{tip:_(()=>[ia]),default:_(()=>[a(U,{class:"el-icon--upload"}),da]),_:1},8,["file-list"])])])):M("",!0),L.value==2?(m(),y("span",_a,[e("span",pa,[ua,a(h,{modelValue:r.value.poductType,"onUpdate:modelValue":t[4]||(t[4]=s=>r.value.poductType=s),placeholder:""},{default:_(()=>[(m(!0),y(g,null,w(G.value,s=>(m(),x(i,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",ra,[ma,a(h,{modelValue:r.value.componentType,"onUpdate:modelValue":t[5]||(t[5]=s=>r.value.componentType=s),placeholder:""},{default:_(()=>[(m(!0),y(g,null,w(J.value,s=>(m(),x(i,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",ha,[va,a(h,{modelValue:r.value.badType,"onUpdate:modelValue":t[6]||(t[6]=s=>r.value.badType=s),placeholder:""},{default:_(()=>[(m(!0),y(g,null,w(K.value,s=>(m(),x(i,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",fa,[ba,a(h,{modelValue:r.value.qualityIndicator1,"onUpdate:modelValue":t[7]||(t[7]=s=>r.value.qualityIndicator1=s),placeholder:""},{default:_(()=>[(m(!0),y(g,null,w(X.value,s=>(m(),x(i,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",ya,[ga,a(h,{modelValue:r.value.qualityIndicator2,"onUpdate:modelValue":t[8]||(t[8]=s=>r.value.qualityIndicator2=s),placeholder:""},{default:_(()=>[(m(!0),y(g,null,w(Y.value,s=>(m(),x(i,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",wa,[ka,a(h,{modelValue:r.value.handleWay,"onUpdate:modelValue":t[9]||(t[9]=s=>r.value.handleWay=s),placeholder:""},{default:_(()=>[(m(!0),y(g,null,w(Z.value,s=>(m(),x(i,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):M("",!0)]),_:1},8,["modelValue"])]),e("div",Va,[a(q,{modelValue:B.value,"onUpdate:modelValue":t[13]||(t[13]=s=>B.value=s),width:"100%","show-close":!1},{footer:_(()=>[e("div",Fl,[a(N,{class:"cancel_btn",onClick:t[12]||(t[12]=s=>B.value=!1)},{default:_(()=>[A("返回")]),_:1})])]),default:_(()=>[Ta,e("span",Da,[e("span",Sa,[e("span",Ia,[e("span",Ca,[Pa,e("span",Na,c(p.value.name),1)]),e("span",Aa,[Ba,e("span",La,c(p.value.distributor),1)]),e("span",Ua,[qa,e("span",Oa,c(p.value.distributorPhone),1)])]),e("span",Ma,[e("span",Ea,[$a,e("span",ja,c(p.value.store),1)]),e("span",za,[Ra,e("span",Fa,c(p.value.storePhone),1)]),e("span",Wa,[Ha,e("span",Qa,c(p.value.orderId),1)])]),e("span",Ga,[e("span",Ja,[Ka,e("span",Xa,c(p.value.productionOrderNo),1)]),e("span",Ya,[Za,e("span",el,c(p.value.orderType),1)]),e("span",sl,[al,e("span",ll,c(p.value.status),1)])]),e("span",ol,[e("span",tl,[nl,e("span",cl,c(p.value.accountName),1)]),e("span",dl,[il,e("span",_l,c(p.value.customerPhone),1)]),e("span",pl,[ul,e("span",rl,c(p.value.customerAddress),1)])]),e("span",ml,[e("span",hl,[vl,e("span",fl,c(p.value.productionBranch),1)]),e("span",bl,[yl,e("span",gl,c(p.value.supplyBase),1)]),e("span",wl,[kl,e("span",xl,c(p.value.subtotalOfChargebackAmount),1)])]),e("span",Vl,[e("span",Tl,[Dl,e("span",Sl,c(p.value.auditor),1)]),e("span",Il,[Cl,e("span",Pl,c(p.value.reporter),1)]),e("span",Nl,[Al,e("span",Bl,c(p.value.reporterPhone),1)])]),e("span",Ll,[e("span",Ul,[ql,e("span",Ol,c(p.value.customerDemands),1)]),e("span",Ml,[El,e("span",$l,c(p.value.distributorDemands),1)]),e("span",jl,[zl,e("span",Rl,c(p.value.investigationOfCause),1)])])]),a(d,{class:"table_dialog3",data:p.value.details,stripe:!1},{default:_(()=>[a(l,{prop:"ticketSolutionId",width:"150px",label:"售后处理记录编号"}),a(l,{prop:"solution",width:"150px",label:"处理方式"}),a(l,{prop:"plannedOrderId",width:"150px",label:"预订单"}),a(l,{prop:"supplementaryOrderId",width:"150px",label:"售后订单"}),a(l,{prop:"orderedDate",width:"150px",label:"下单时间"}),a(l,{prop:"dateOfApproval",width:"150px",label:"审核日期"}),a(l,{prop:"deliveryDate",width:"150px",label:"交货日期"}),a(l,{prop:"accountabilityUnit",width:"150px",label:"责任部门"}),a(l,{prop:"orderId",width:"150px",label:"订单编号"}),a(l,{prop:"",width:"150px",label:"订单明细"}),a(l,{prop:"sku",width:"150px",label:"详单编号"}),a(l,{prop:"barcode",width:"150px",label:"详单条码"}),a(l,{prop:"treeSpecies",width:"150px",label:"树种"}),a(l,{prop:"",label:"尺寸",width:"150px"}),a(l,{prop:"productClassificationSummary",width:"150px",label:"大类汇总"}),a(l,{prop:"model",label:"产品型号",width:"150px"}),a(l,{prop:"productCount",label:"数量",width:"150px"}),a(l,{prop:"suggestion",label:"分析纠正及处理建议",width:"150px"})]),_:1},8,["data"])])]),_:1},8,["modelValue"])]),e("div",Wl,[a(q,{modelValue:I.value,"onUpdate:modelValue":t[15]||(t[15]=s=>I.value=s),title:"售后处理明细",width:"80% ","show-close":!1},{footer:_(()=>[e("div",Gl,[a(N,{class:"cancel_btn",onClick:t[14]||(t[14]=s=>I.value=!1)},{default:_(()=>[A("关闭")]),_:1})])]),default:_(()=>[e("div",Hl,[a(d,{ref_key:"multipleTableRef",ref:pe,"selection-change":re,data:P.value,stripe:!1,style:{width:"100%",overflow:"auto"},"max-height":"300"},{default:_(()=>[a(l,{prop:"orderPo",label:"订单编号"}),a(l,{prop:"sku",label:"详单编号"}),a(l,{prop:"category1",label:"产品大类"}),a(l,{prop:"fscProductModel",label:"产品型号"}),a(l,{prop:"treeSpecies__c",label:"树种"}),a(l,{prop:"paintColor__c",label:"油漆颜色 "}),a(l,{prop:"fscProductSpec",label:"尺寸 "}),a(l,{prop:"ticketClassification",label:"问题大类"},{default:_(s=>{var O;return[e("div",Ql,c(s.row.ticketClassification?(O=R.value.find(ve=>ve.code==s.row.ticketClassification))==null?void 0:O.name:""),1)]}),_:1}),a(l,{prop:"ticketProblem",label:"售后问题 "}),a(l,{prop:"",label:"责任人 "}),a(l,{prop:"descriptionOfTicketProblem",label:"问题描述 "})]),_:1},8,["data"])])]),_:1},8,["modelValue"])])])}}}),eo=Ie(Jl,[["__scopeId","data-v-b675741f"]]);export{eo as default};
