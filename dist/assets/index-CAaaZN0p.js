import{_ as Z,a as ee,b as se}from"./tips-PclO10jT.js";import{_ as ae}from"./add-CRTT_dyr.js";import{d as le,g as te,r as g,a as S,c as ne,b as e,s as o,q as u,e as a,w as t,n as y,m as T,f as m,p as oe,h as ie,o as _,i as d,u as de,t as pe,_ as re}from"./index-CgC3c9Jg.js";const n=O=>(oe("data-v-af8ec12f"),O=O(),ie(),O),ce={class:"main"},ue={class:"header"},me=n(()=>e("span",{class:"title"},"任务状态",-1)),_e={class:"step"},fe=n(()=>e("span",{class:"name"},"待处理",-1)),ve=n(()=>e("span",{class:"name"},"提货",-1)),be=n(()=>e("span",{class:"name"},"入库",-1)),he=n(()=>e("span",{class:"name"},"配送",-1)),ye=n(()=>e("span",{class:"name"},"安装",-1)),ke=n(()=>e("span",{class:"name"},"完成",-1)),xe={class:"task_info"},ge=n(()=>e("span",{class:"title"},"任务详情",-1)),Ve={class:"main_field"},Ce={class:"row_field"},Xe={class:"field"},we=n(()=>e("span",{class:"label"},"任务编号：",-1)),$e=n(()=>e("span",{class:"value"},"CS0011-06665-01",-1)),Oe=T('<span class="field" data-v-af8ec12f><span class="label" data-v-af8ec12f>经销商负责人：</span><span class="value" data-v-af8ec12f>零售</span></span><span class="field" data-v-af8ec12f><span class="label" data-v-af8ec12f>任务开始时间：</span><span class="value" data-v-af8ec12f>示例</span></span>',2),Ie=T('<span class="row_field" data-v-af8ec12f><span class="field" data-v-af8ec12f><span class="label" data-v-af8ec12f>任务类型：</span><span class="value" data-v-af8ec12f>交付</span></span><span class="field" data-v-af8ec12f><span class="label" data-v-af8ec12f>提货司机：</span><span class="value" data-v-af8ec12f>默认</span></span><span class="field" data-v-af8ec12f><span class="label" data-v-af8ec12f>预计结束时间：</span><span class="value" data-v-af8ec12f>示例</span></span></span><span class="row_field" data-v-af8ec12f><span class="field" data-v-af8ec12f><span class="label" data-v-af8ec12f>示例字段：</span><span class="value" data-v-af8ec12f>示例</span></span><span class="field" data-v-af8ec12f><span class="label" data-v-af8ec12f>示例字段：</span><span class="value" data-v-af8ec12f>示例</span></span><span class="field" data-v-af8ec12f><span class="label" data-v-af8ec12f>剩余时间：</span><span class="value" data-v-af8ec12f>XX</span></span></span>',2),Se={class:"order_status"},Ue=n(()=>e("span",{class:"title"},"订单状态",-1)),De={class:"step"},qe=n(()=>e("span",{class:"name"},"...",-1)),Te=n(()=>e("span",{class:"name"},"已包装",-1)),Pe=n(()=>e("span",{class:"name"},"已成品入库",-1)),Fe=n(()=>e("span",{class:"name"},"已发货",-1)),Ne=n(()=>e("span",{class:"name"},"已经销商收货",-1)),Re=n(()=>e("span",{class:"name"},"订单完结",-1)),Be=n(()=>e("span",{class:"name"},"...",-1)),Le={class:"related_item_order"},ze=n(()=>e("span",{class:"table_title"},"相关项>订单",-1)),Ae={class:"table_content"},Ee=["onClick"],Ge={class:"related_item_invoice"},je=n(()=>e("span",{class:"table_title"},"相关项>发货单",-1)),He={class:"table_content"},Je=["onClick"],Ke=n(()=>e("span",null,"查看",-1)),Me=n(()=>e("span",null,"批量提货",-1)),Qe={class:"related_item_invoice"},We=n(()=>e("span",{class:"table_title"},"相关项>派工单",-1)),Ye={class:"table_content"},Ze=["onClick"],es=n(()=>e("span",null,"查看",-1)),ss=[es],as={class:"action_list"},ls=n(()=>e("div",{class:"left"},[e("img",{src:Z,alt:""}),e("span",null,"发起任务评论")],-1)),ts={class:"right"},ns=T('<div class="comment" data-v-af8ec12f><div class="userinfo" data-v-af8ec12f><img src="'+ee+'" alt="" data-v-af8ec12f><span class="username" data-v-af8ec12f>经销商A</span></div><div class="content" data-v-af8ec12f>客户对于此单比较着急，需要加速安排交付。</div><img class="tips" src="'+se+'" alt="" data-v-af8ec12f></div>',1),os={class:"deliveryOrderDialog"},is={class:"step"},ds={class:"item"},ps=n(()=>e("span",{class:"name"},[d("选择配送司机 "),e("span",{class:"remark"},"选择配送货品的司机")],-1)),rs={class:"item"},cs=n(()=>e("span",{class:"name"},[d("输入派工单注意事项 "),e("span",{class:"remark"},"如有,请填写关键备注")],-1)),us={class:"item"},ms=n(()=>e("span",{class:"name"},[d("完成创建 "),e("span",{class:"remark"},"等待司机配送")],-1)),_s={class:"content"},fs={class:"dialog-footer"},vs={class:"installationOrderDialog"},bs={class:"step"},hs={class:"item"},ys=n(()=>e("span",{class:"name"},[d("选择安装技工 "),e("span",{class:"remark"},"选择负责安装的技工")],-1)),ks={class:"item"},xs=n(()=>e("span",{class:"name"},[d("输入安装派工单注意事项 "),e("span",{class:"remark"},"如有,请填写关键备注")],-1)),gs={class:"item"},Vs=n(()=>e("span",{class:"name"},[d("完成创建 "),e("span",{class:"remark"},"等待现场服务")],-1)),Cs={class:"content"},Xs={style:{width:"300px"}},ws=n(()=>e("span",{class:"custom_item"},[e("img",{src:ae,alt:""})],-1)),$s={class:"dialog-footer"},Os=le({__name:"index",setup(O){const{proxy:P}=te(),k=g(2),V=g(4),f=g(1),v=g(1),c=S({username:"",phone:"",priority:"",otherField:"",remark:"",userRemark:""}),F=S({username:[{required:!0,message:"Please input username",trigger:"blur"}],phone:[{required:!0,message:"Please input phone",trigger:"blur"}],priority:[{required:!0,message:"Please input priority",trigger:"blur"}],otherField:[{required:!0,message:"Please input other field",trigger:"blur"}]}),p=S({username:"",phone:"",installationTeam:!1,remark:"",scheduleInstallationTime:""}),N=S({username:[{required:!0,message:"Please input username",trigger:"blur"}],phone:[{required:!0,message:"Please input phone",trigger:"blur"}],scheduleInstallationTime:[{required:!0,message:"Please input schedule installation time",trigger:"blur"}],priority:[{required:!0,message:"Please input priority",trigger:"blur"}]}),w=g(!1),$=g(!1),L=g([{text1:"",text2:"XXX",text3:"示例字段...",text4:"XXXX",text5:"2021-02-28 10:30:50",text6:"xxxx"}]),z=g([{text1:"",text2:"XXX",text3:"示例字段...",text4:"XXXX",text5:"2024-02-21 10:30:50",text6:"XXX"}]),A=g([{text1:"",text2:"XXX",text3:"示例字段...",text4:"XXXX",text5:"2024-02-21 10:30:50",text6:"XXX"}]),X=x=>{k.value=x},C=x=>{V.value=x},U=x=>{f.value=x},D=x=>{v.value=x},E=()=>{w.value=!0},G=()=>{$.value=!0},j=()=>{f.value=2},H=()=>{v.value=2},J=()=>{$.value=!1,P.$message.success("安装派工单创建完成!"),v.value=1},K=()=>{w.value=!1,P.$message.success("派工单创建完成!"),f.value=1};return(x,s)=>{const i=m("el-table-column"),q=m("el-table"),b=m("el-button"),h=m("el-input"),r=m("el-form-item"),I=m("el-form"),R=m("el-dialog"),M=m("el-checkbox"),Q=m("el-date-picker"),W=m("el-icon"),Y=m("el-upload");return _(),ne("div",ce,[e("span",ue,[me,e("span",_e,[e("span",{class:"item",onClick:s[0]||(s[0]=l=>X(1))},[e("span",{class:o(k.value==1?"num_selected":"num")},"1",2),fe]),e("span",{class:"item",onClick:s[1]||(s[1]=l=>X(2))},[e("span",{class:o(k.value==2?"num_selected":"num")},"2",2),ve]),e("span",{class:"item",onClick:s[2]||(s[2]=l=>X(3))},[e("span",{class:o(k.value==3?"num_selected":"num")},"3",2),be]),e("span",{class:"item",onClick:s[3]||(s[3]=l=>X(4))},[e("span",{class:o(k.value==4?"num_selected":"num")},"4",2),he]),e("span",{class:"item",onClick:s[4]||(s[4]=l=>X(5))},[e("span",{class:o(k.value==5?"num_selected":"num")},"5",2),ye]),e("span",{class:"item",onClick:s[5]||(s[5]=l=>X(6))},[e("span",{class:o(k.value==6?"num_selected":"num")},"6",2),ke])])]),e("span",xe,[ge,e("span",Ve,[e("span",Ce,[e("span",Xe,[we,$e,u("",!0)]),Oe]),Ie])]),e("span",Se,[Ue,e("span",De,[e("span",{class:"item",onClick:s[6]||(s[6]=l=>C(1))},[e("span",{class:o(V.value==1?"num_selected":"num")},"1",2),qe]),e("span",{class:"item",onClick:s[7]||(s[7]=l=>C(2))},[e("span",{class:o(V.value==2?"num_selected":"num")},"2",2),Te]),e("span",{class:"item",onClick:s[8]||(s[8]=l=>C(3))},[e("span",{class:o(V.value==3?"num_selected":"num")},"3",2),Pe]),e("span",{class:"item",onClick:s[9]||(s[9]=l=>C(4))},[e("span",{class:o(V.value==4?"num_selected":"num")},"4",2),Fe]),e("span",{class:"item",onClick:s[10]||(s[10]=l=>C(5))},[e("span",{class:o(V.value==5?"num_selected":"num")},"5",2),Ne]),e("span",{class:"item",onClick:s[11]||(s[11]=l=>C(6))},[e("span",{class:o(V.value==6?"num_selected":"num")},"6",2),Re]),e("span",{class:"item",onClick:s[12]||(s[12]=l=>C(7))},[e("span",{class:o(V.value==7?"num_selected":"num")},"7",2),Be])])]),e("span",Le,[ze,e("span",Ae,[a(q,{data:L.value,stripe:!0,style:{width:"100%"}},{default:t(()=>[a(i,{prop:"text1",label:"操作",width:"80px"},{default:t(l=>[e("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:B=>console.log(l)}," 查看 ",8,Ee)]),_:1}),a(i,{prop:"text2",label:"订单编号"}),a(i,{prop:"text3",label:"其他字段"}),a(i,{prop:"text4",label:"其他字段"}),a(i,{prop:"text5",label:"创建时间"}),a(i,{prop:"text6",label:"其他字段"})]),_:1},8,["data"])])]),e("span",Ge,[je,e("span",He,[a(q,{data:z.value,stripe:!0,style:{width:"100%"}},{default:t(()=>[a(i,{prop:"text1",label:"操作",width:"160px"},{default:t(l=>[e("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:B=>console.log(l)},[Ke,d("  "),Me],8,Je)]),_:1}),a(i,{prop:"text2",label:"XX编号"}),a(i,{prop:"text3",label:"发货单状态"}),a(i,{prop:"text4",label:"其它字段"}),a(i,{prop:"text5",label:"创建时间"}),a(i,{prop:"text6",label:"其它字段"})]),_:1},8,["data"])])]),e("span",Qe,[We,e("span",Ye,[a(q,{data:A.value,stripe:!0,style:{width:"100%"}},{default:t(()=>[a(i,{prop:"text1",label:"操作",width:"160px"},{default:t(l=>[e("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:B=>console.log(l)},ss,8,Ze)]),_:1}),a(i,{prop:"text2",label:"XX编号"}),a(i,{prop:"text3",label:"派工单状态"}),a(i,{prop:"text4",label:"其它字段"}),a(i,{prop:"text5",label:"创建时间"}),a(i,{prop:"text6",label:"其它字段"})]),_:1},8,["data"])])]),e("div",as,[ls,e("div",ts,[k.value==4?(_(),y(b,{key:0,type:"primary",onClick:E,class:"primary_btn"},{default:t(()=>[d("创建配送派工单")]),_:1})):u("",!0),k.value==5?(_(),y(b,{key:1,type:"primary",onClick:G,class:"primary_btn"},{default:t(()=>[d("创建安装派工单")]),_:1})):u("",!0),a(b,{type:"primary",onClick:x.takeGoods,class:"primary_btn"},{default:t(()=>[d("一键确认提货")]),_:1},8,["onClick"]),a(b,{type:"primary",class:"primary_btn"},{default:t(()=>[d("问题提报")]),_:1})])]),ns,e("div",os,[a(R,{modelValue:w.value,"onUpdate:modelValue":s[22]||(s[22]=l=>w.value=l),title:"新建配送派工单",width:"80%","show-close":!1},{footer:t(()=>[e("div",fs,[a(b,{class:"cancel_btn",onClick:s[21]||(s[21]=l=>w.value=!1)},{default:t(()=>[d("取消")]),_:1}),f.value==1?(_(),y(b,{key:0,type:"primary",class:"primary_btn",onClick:j},{default:t(()=>[d("下一步")]),_:1})):u("",!0),f.value==2?(_(),y(b,{key:1,type:"primary",class:"primary_btn",onClick:K},{default:t(()=>[d("完成")]),_:1})):u("",!0)])]),default:t(()=>[e("div",is,[e("span",ds,[e("span",{onClick:s[13]||(s[13]=l=>U(1)),class:o(f.value==1?"num_selected":"num")},"1",2),ps]),e("span",rs,[e("span",{onClick:s[14]||(s[14]=l=>U(2)),class:o(f.value==2?"num_selected":"num")},"2",2),cs]),e("span",us,[e("span",{onClick:s[15]||(s[15]=l=>U(3)),class:o(f.value==3?"num_selected":"num")},"3",2),ms])]),e("div",_s,[f.value==1?(_(),y(I,{key:0,model:c,rules:F,"label-width":"90px","label-position":"left"},{default:t(()=>[a(r,{label:"人员名称",prop:"username"},{default:t(()=>[a(h,{modelValue:c.username,"onUpdate:modelValue":s[16]||(s[16]=l=>c.username=l),placeholder:"查找或输入服务人员姓名"},null,8,["modelValue"])]),_:1}),a(r,{label:"联系方式",prop:"phone"},{default:t(()=>[a(h,{modelValue:c.phone,"onUpdate:modelValue":s[17]||(s[17]=l=>c.phone=l),placeholder:"输入联系方式"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])):u("",!0),f.value==2?(_(),y(I,{key:1,model:c,rules:F,"label-width":"90px","label-position":"left"},{default:t(()=>[a(r,{label:"优先级",prop:"priority"},{default:t(()=>[a(h,{placeholder:"紧急/普通",modelValue:c.priority,"onUpdate:modelValue":s[18]||(s[18]=l=>c.priority=l)},null,8,["modelValue"])]),_:1}),a(r,{label:"其他字段",prop:"otherField"},{default:t(()=>[a(h,{placeholder:"参考数据字典",modelValue:c.otherField,"onUpdate:modelValue":s[19]||(s[19]=l=>c.otherField=l)},null,8,["modelValue"])]),_:1}),a(r,{label:"派工单备注",class:"customLayout"},{default:t(()=>[a(h,{modelValue:c.remark,"onUpdate:modelValue":s[20]||(s[20]=l=>c.remark=l),rows:5,type:"textarea",maxlength:"500",placeholder:"请清点货品数量，确保准确...","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])):u("",!0)])]),_:1},8,["modelValue"])]),e("div",vs,[a(R,{modelValue:$.value,"onUpdate:modelValue":s[34]||(s[34]=l=>$.value=l),title:"新建安装派工单",width:"80%","show-close":!1},{footer:t(()=>[e("div",$s,[a(b,{class:"cancel_btn",onClick:s[33]||(s[33]=l=>$.value=!1)},{default:t(()=>[d("取消")]),_:1}),v.value==1?(_(),y(b,{key:0,type:"primary",class:"primary_btn",onClick:H},{default:t(()=>[d("下一步")]),_:1})):u("",!0),v.value==2?(_(),y(b,{key:1,type:"primary",class:"primary_btn",onClick:J},{default:t(()=>[d("完成")]),_:1})):u("",!0)])]),default:t(()=>[e("div",bs,[e("span",hs,[e("span",{onClick:s[23]||(s[23]=l=>D(1)),class:o(v.value==1?"num_selected":"num")},"1",2),ys]),e("span",ks,[e("span",{onClick:s[24]||(s[24]=l=>D(2)),class:o(v.value==2?"num_selected":"num")},"2",2),xs]),e("span",gs,[e("span",{onClick:s[25]||(s[25]=l=>D(3)),class:o(v.value==3?"num_selected":"num")},"3",2),Vs])]),e("div",Cs,[v.value==1?(_(),y(I,{key:0,model:p,rules:N,"label-width":"90px","label-position":"left"},{default:t(()=>[a(r,{label:"人员名称",prop:"username"},{default:t(()=>[a(h,{placeholder:"查找或输入服务人员姓名",modelValue:p.username,"onUpdate:modelValue":s[26]||(s[26]=l=>p.username=l)},null,8,["modelValue"])]),_:1}),a(r,{label:"联系方式",prop:"phone"},{default:t(()=>[a(h,{placeholder:"输入联系方式",modelValue:p.phone,"onUpdate:modelValue":s[27]||(s[27]=l=>p.phone=l)},null,8,["modelValue"])]),_:1}),a(r,{label:"人员备注"},{default:t(()=>[a(h,{placeholder:"若该人员不存在，则显示该字段进行新增备注",modelValue:p.userRemark,"onUpdate:modelValue":s[28]||(s[28]=l=>p.userRemark=l)},null,8,["modelValue"])]),_:1}),a(r,{label:"安装小组"},{default:t(()=>[e("span",Xs,[a(M,{modelValue:p.installationTeam,"onUpdate:modelValue":s[29]||(s[29]=l=>p.installationTeam=l)},null,8,["modelValue"])])]),_:1}),a(r,{label:"添加组员"},{default:t(()=>[ws]),_:1})]),_:1},8,["model","rules"])):u("",!0),v.value==2?(_(),y(I,{key:1,model:p,rules:N,"label-width":"90px","label-position":"left"},{default:t(()=>[a(r,{label:"预约安装",prop:"scheduleInstallationTime"},{default:t(()=>[a(Q,{modelValue:p.scheduleInstallationTime,"onUpdate:modelValue":s[30]||(s[30]=l=>p.scheduleInstallationTime=l),type:"datetime",placeholder:"日期/时间"},null,8,["modelValue"])]),_:1}),a(r,{label:"优先级",prop:"priority"},{default:t(()=>[a(h,{modelValue:p.priority,"onUpdate:modelValue":s[31]||(s[31]=l=>p.priority=l),placeholder:"高/中/低"},null,8,["modelValue"])]),_:1}),a(r,{label:"派工单备注",class:"customLayout"},{default:t(()=>[a(h,{modelValue:p.remark,"onUpdate:modelValue":s[32]||(s[32]=l=>p.remark=l),rows:5,type:"textarea",maxlength:"500",placeholder:"请清点货品数量，确保准确...","show-word-limit":""},null,8,["modelValue"])]),_:1}),a(r,{label:"上传图片",class:"custom_upload"},{default:t(()=>[a(Y,{class:"avatar-uploader",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15","show-file-list":!1},{default:t(()=>[a(W,{class:"avatar-uploader-icon"},{default:t(()=>[a(de(pe))]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])):u("",!0)])]),_:1},8,["modelValue"])])])}}}),Ds=re(Os,[["__scopeId","data-v-af8ec12f"]]);export{Ds as default};
