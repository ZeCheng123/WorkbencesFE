import{_ as ne,a as ce,b as de}from"./tips-DfmWQaVF.js";import{d as ue,g as ie,r as c,y as _e,o as pe,c as u,i as e,e as s,w as a,v as C,t as r,s as w,F as v,m as h,n as re,A as ve,f as x,p as me,h as he,a as n,j as p,q as g,_ as be}from"./index-Ca3ktP95.js";import{n as fe}from"./common-CN53Xqpj.js";import"./userinfo-CWw1Q2oY.js";const o=N=>(me("data-v-10e74428"),N=N(),he(),N),xe={class:"main"},ye={class:"header"},ke={class:"title"},Ce=o(()=>e("span",null,"问题提报状态",-1)),Ve={class:"step"},ge={class:"item"},we={class:"item"},Se={class:"item"},De={class:"problem_report_info"},$e=o(()=>e("span",{class:"title"},"问题提报详情",-1)),Ne={class:"main_field"},Te={class:"row_field"},Ue={class:"field"},Ie=o(()=>e("span",{class:"label"},"问题编号：",-1)),Le={class:"value"},Me={class:"field"},Be=o(()=>e("span",{class:"label"},"专卖店名称：",-1)),qe={class:"value"},ze={class:"field"},je=o(()=>e("span",{class:"label"},"问题类别：",-1)),Ae={class:"value"},Ee={class:"row_field"},Re={class:"field"},Fe=o(()=>e("span",{class:"label"},"订单编号：",-1)),He={class:"value"},Pe={class:"field"},We=o(()=>e("span",{class:"label"},"负责人：",-1)),Ge={class:"value"},Je={class:"field"},Ke=o(()=>e("span",{class:"label"},"创建时间：",-1)),Oe={class:"value"},Qe={class:"row_field"},Xe={class:"field"},Ye=o(()=>e("span",{class:"label"},"问题描述：",-1)),Ze={class:"value"},el=o(()=>e("span",{class:"title"},"其他字段",-1)),ll={class:"other_field"},sl={class:"row_field"},tl={class:"field"},al=o(()=>e("span",{class:"label"},"客户姓名：",-1)),ol={class:"value"},nl={class:"field"},cl=o(()=>e("span",{class:"label"},"客户手机号：",-1)),dl={class:"value"},ul={class:"field"},il=o(()=>e("span",{class:"label"},"来源：",-1)),_l={class:"value"},pl={class:"row_field"},rl={class:"field"},vl=o(()=>e("span",{class:"label"},"省份：",-1)),ml={class:"value"},hl={class:"field"},bl=o(()=>e("span",{class:"label"},"城市：",-1)),fl={class:"value"},xl={class:"field"},yl=o(()=>e("span",{class:"label"},"区：",-1)),kl={class:"value"},Cl=re('<span class="row_field" data-v-10e74428><span class="field" data-v-10e74428><span class="label" data-v-10e74428>经销商内部提报：</span><span class="value" data-v-10e74428>复选框</span></span><span class="field" data-v-10e74428><span class="label" data-v-10e74428>提报人：</span><span class="value" data-v-10e74428>王工</span></span><span class="field" data-v-10e74428><span class="label" data-v-10e74428>提报人电话：</span><span class="value" data-v-10e74428>16822822288</span></span></span>',1),Vl={class:"related_documents"},gl=o(()=>e("span",{class:"title"},"相关单据",-1)),wl={class:"action_list"},Sl=o(()=>e("img",{src:ne,alt:""},null,-1)),Dl={class:"right"},$l={class:"userinfo"},Nl=o(()=>e("img",{src:ce,alt:""},null,-1)),Tl={class:"username"},Ul={class:"content"},Il={class:"date"},Ll=o(()=>e("span",{class:"reply"},"回复",-1)),Ml=o(()=>e("img",{class:"tips",src:de,alt:""},null,-1)),Bl={class:"showMainDialog"},ql={class:"step"},zl={class:"item"},jl=o(()=>e("span",{class:"name"},[p("确认问题订单 "),e("span",{class:"remark"},"选择或确认问题订单")],-1)),Al={class:"item"},El=o(()=>e("span",{class:"name"},[p("完善必填信息 "),e("span",{class:"remark"},"完善问题描述与处理方式")],-1)),Rl={class:"item"},Fl=o(()=>e("span",{class:"name"},[p("提交升级 "),e("span",{class:"remark"},"提交售后至总部")],-1)),Hl={class:"form_row"},Pl=o(()=>e("span",{class:"label required"},"订单编号",-1)),Wl={class:"form_row"},Gl=o(()=>e("span",{class:"label"},"升级备注",-1)),Jl={class:"desc_action"},Kl=o(()=>e("span",{class:"desc"},"搜索和选择/批量编辑问题产品",-1)),Ol={class:"action"},Ql={class:"search"},Xl={class:"filter_list"},Yl={class:"table"},Zl={class:"dialog-footer"},es={class:"showMainDialog2"},ls={class:"title"},ss={key:0,class:"content"},ts={class:"item"},as=o(()=>e("span",{class:"label"},"问题大类",-1)),os={class:"item"},ns=o(()=>e("span",{class:"label"},"售后问题",-1)),cs={class:"item"},ds=o(()=>e("span",{class:"label"},"责任人",-1)),us={class:"item"},is=o(()=>e("span",{class:"label"},"问题描述",-1)),_s={class:"item"},ps=o(()=>e("div",{class:"el-upload__text"},"将文件拖至此处 或 点击上传",-1)),rs=o(()=>e("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1)),vs={key:1,class:"content"},ms={class:"item"},hs=o(()=>e("span",{class:"label"},"产品分类",-1)),bs={class:"item"},fs=o(()=>e("span",{class:"label"},"部件分类",-1)),xs={class:"item"},ys=o(()=>e("span",{class:"label"},"不良分类",-1)),ks={class:"item"},Cs=o(()=>e("span",{class:"label"},"质量指标一",-1)),Vs={class:"item"},gs=o(()=>e("span",{class:"label"},"质量指标二",-1)),ws={class:"item"},Ss=o(()=>e("span",{class:"label"},"处理方式",-1)),Ds={class:"dialog-footer"},$s={class:"relatedDocumentsDialog"},Ns={class:"content"},Ts={class:"tableItem"},Us=o(()=>e("span",{class:"tableTitle"}," 1. 售后工单 ",-1)),Is={class:"tableContent"},Ls=["onClick"],Ms={class:"tableItem"},Bs=o(()=>e("span",{class:"tableTitle"}," 2. 派工单 ",-1)),qs={class:"tableContent"},zs=["onClick"],js={class:"dialog-footer"},As=ue({__name:"index",setup(N){const{proxy:I}=ie(),q=c([]),z=_e(),R=c(z.query.id),F=c(z.query.neoid),T=c(!1),_=c({orderNo:"",remark:"",searchValue:"",orderType:"1",productType:"1",productModel:"1",treeSpecies:"1",paintColor:"1",size:"1"}),y=c(1),V=c(!1),S=c(!1),U=c(1);c({value1:"1",value2:"1",value3:"1",value4:"1",value5:"1",value6:"1"});const H=c([{text1:"",text2:"CS015-00023-0-1-1",text3:"门套 (自动赋值)",text4:"示例字段...",text5:"示例字段...",text6:"示例字段...",text7:"示例字段...",text8:"2021-02-28 10:30:50"},{text1:"",text2:"CS015-00023-0-1-1",text3:"门套 (自动赋值)",text4:"示例字段...",text5:"示例字段...",text6:"示例字段...",text7:"示例字段...",text8:"2021-02-28 10:30:50"},{text1:"",text2:"CS015-00023-0-1-1",text3:"门套 (自动赋值)",text4:"示例字段...",text5:"示例字段...",text6:"示例字段...",text7:"示例字段...",text8:"2021-02-28 10:30:50"}]),P=c([{label:"全部订单",value:"1"}]),W=c([{label:"产品大类",value:"1"}]),G=c([{label:"产品型号",value:"1"}]),J=c([{label:"树种",value:"1"}]),K=c([{label:"油漆颜色",value:"1"}]),O=c([{label:"尺寸",value:"1"}]);c([{text1:"CS0011-06665-01",text2:"门套",text3:"示例字段...",text4:"混油米灰1#",text5:"2021-02-28 10:30:50",text6:""},{text1:"CS0011-06665-01",text2:"门套",text3:"示例字段...",text4:"混油米灰1#",text5:"2021-02-28 10:30:50",text6:""},{text1:"CS0011-06665-01",text2:"门套",text3:"示例字段...",text4:"混油米灰1#",text5:"2021-02-28 10:30:50",text6:""},{text1:"CS0011-06665-01",text2:"门套",text3:"示例字段...",text4:"混油米灰1#",text5:"2021-02-28 10:30:50",text6:""}]),c([{text1:"SU2024030101",text2:"已评价",text3:"示例字段...",text4:"满意",text5:"2021-02-28 10:30:50",text6:""}]),c([]);const Q=c([{text1:"111",text2:"交付任务",text3:"222",text4:"进行中",text5:"2021-02-28 10:30:50",text6:""}]),X=c([{text1:"111",text2:"交付任务",text3:"222",text4:"进行中",text5:"2021-02-28 10:30:50",text6:""}]),Y=c([{code:"1",name:"配送技工"},{code:"2",name:"安装技工"},{code:"3",name:"终端用户"},{code:"4",name:"经销商"}]),d=c({});pe(()=>{Z()});const Z=()=>{fe({id:R.value,neoid:F.value}).then(k=>{let t=k.data;t.code=="success"?(d.value=t.data,_.value.orderNo=d.value.orderNeoId):I.$message.error(t==null?void 0:t.message)})},ee=()=>{V.value=!0},L=k=>{y.value=k},j=k=>{U.value=k,V.value=!1,S.value=!0},le=()=>{I.$message.success("提交成功!"),setTimeout(()=>{V.value=!1,I.$router.push("/aftersales_workorder_details")},500)},A=()=>{ve.prompt("请填写评论内容","发起评论",{inputPattern:/\S/,inputErrorMessage:"评论内容不能为空!",confirmButtonText:"确认",cancelButtonText:"取消"}).then(({value:k})=>{q.value.push({userName:"经销商",text:k,date:new Date().toLocaleString()})}).catch(()=>{})};return(k,t)=>{var E;const m=x("el-button"),D=x("el-input"),b=x("el-option"),f=x("el-select"),se=x("el-checkbox"),i=x("el-table-column"),M=x("el-table"),B=x("el-dialog"),te=x("upload-filled"),ae=x("el-icon"),oe=x("el-upload");return n(),u("div",xe,[e("span",ye,[e("span",ke,[Ce,s(m,{class:"btn",onClick:ee},{default:a(()=>[p("升级到总部 (售后)")]),_:1})]),e("span",Ve,[e("span",ge,[e("span",{class:C(d.value.clientCaseStatusC==1?"num_selected":"num")},"1",2),e("span",{class:C(d.value.clientCaseStatusC>=1?"name_selected":"name")},"待处理",2)]),e("span",we,[e("span",{class:C(d.value.clientCaseStatusC==2?"num_selected":"num")},"2",2),e("span",{class:C(d.value.clientCaseStatusC>=2?"name_selected":"name")},"处理中",2)]),e("span",Se,[e("span",{class:C(d.value.clientCaseStatusC==3?"num_selected":"num")},"3",2),e("span",{class:C(d.value.clientCaseStatusC>=3?"name_selected":"name")},"已完成",2)])])]),e("span",De,[$e,e("span",Ne,[e("span",Te,[e("span",Ue,[Ie,e("span",Le,r(d.value["caseNo	"]),1),w("",!0)]),e("span",Me,[Be,e("span",qe,r(d.value.storeName),1)]),e("span",ze,[je,e("span",Ae,r(d.value.questionType=="1"?"售后保修":"投诉建议"),1)])]),e("span",Ee,[e("span",Re,[Fe,e("span",He,r(d.value.orderNeoId),1)]),e("span",Pe,[We,e("span",Ge,r(d.value.responsibleSubject),1)]),e("span",Je,[Ke,e("span",Oe,r(d.value.estimatedResolutionDate),1)])]),e("span",Qe,[e("span",Xe,[Ye,e("span",Ze,r(d.value.problemDescription),1)])])]),el,e("span",ll,[e("span",sl,[e("span",tl,[al,e("span",ol,r(d.value.caseAccountId),1)]),e("span",nl,[cl,e("span",dl,r(d.value.phone),1)]),e("span",ul,[il,e("span",_l,r(d.value.complaintSourceC?(E=Y.value.find(l=>l.code==d.value.complaintSourceC))==null?void 0:E.name:""),1)])]),e("span",pl,[e("span",rl,[vl,e("span",ml,r(d.value.province),1)]),e("span",hl,[bl,e("span",fl,r(d.value.city),1)]),e("span",xl,[yl,e("span",kl,r(d.value.district),1)])]),Cl])]),e("span",Vl,[gl,s(m,{class:"btn"},{default:a(()=>[p("1个售后工单")]),_:1}),s(m,{class:"btn"},{default:a(()=>[p("1个派工单")]),_:1}),e("span",{class:"view",onClick:t[0]||(t[0]=l=>T.value=!0)},"点击查看")]),e("span",wl,[e("div",{class:"left"},[Sl,e("span",{class:"initiate_comments",onClick:A},"发起评论")]),e("div",Dl,[s(m,{type:"primary",onClick:A,class:"primary_btn"},{default:a(()=>[p("编辑")]),_:1}),s(m,{type:"primary",class:"primary_btn"},{default:a(()=>[p("创建派工单")]),_:1})])]),(n(!0),u(v,null,h(q.value,l=>(n(),u("div",{class:"comment",key:l.date},[e("div",$l,[Nl,e("span",Tl,r(l.userName),1)]),e("div",Ul,r(l.text),1),e("div",Il,r(l.date),1),Ll,Ml]))),128)),e("div",Bl,[s(B,{modelValue:V.value,"onUpdate:modelValue":t[17]||(t[17]=l=>V.value=l),title:"升级到总部 (售后)",width:"80%","show-close":!1},{footer:a(()=>[e("div",Zl,[s(m,{class:"cancel_btn",onClick:t[15]||(t[15]=l=>V.value=!1)},{default:a(()=>[p("取消")]),_:1}),y.value==1?(n(),g(m,{key:0,onClick:t[16]||(t[16]=l=>y.value=2),type:"primary",class:"primary_btn",style:{}},{default:a(()=>[p("下一步")]),_:1})):w("",!0),y.value==2?(n(),g(m,{key:1,onClick:le,type:"primary",class:"primary_btn",style:{}},{default:a(()=>[p("提交")]),_:1})):w("",!0)])]),default:a(()=>[e("div",ql,[e("span",zl,[e("span",{onClick:t[1]||(t[1]=l=>L(1)),class:C(y.value==1?"num_selected":"num")},"1",2),jl]),e("span",Al,[e("span",{onClick:t[2]||(t[2]=l=>L(2)),class:C(y.value==2?"num_selected":"num")},"2",2),El]),e("span",Rl,[e("span",{onClick:t[3]||(t[3]=l=>L(3)),class:C(y.value==3?"num_selected":"num")},"3",2),Fl])]),y.value==1?(n(),u(v,{key:0},[e("span",Hl,[Pl,s(D,{modelValue:_.value.orderNo,"onUpdate:modelValue":t[4]||(t[4]=l=>_.value.orderNo=l),placeholder:"订单编号"},null,8,["modelValue"])]),e("span",Wl,[Gl,s(D,{modelValue:_.value.remark,"onUpdate:modelValue":t[5]||(t[5]=l=>_.value.remark=l),placeholder:"输入自定义备注"},null,8,["modelValue"])])],64)):w("",!0),y.value==2?(n(),u(v,{key:1},[e("div",Jl,[Kl,e("span",Ol,[s(m,{class:"btn",onClick:t[6]||(t[6]=l=>j(1))},{default:a(()=>[p("完善问题描述")]),_:1}),s(m,{class:"btn",onClick:t[7]||(t[7]=l=>j(2))},{default:a(()=>[p("定义处理方式")]),_:1})])]),e("div",Ql,[s(D,{modelValue:_.value.searchValue,"onUpdate:modelValue":t[8]||(t[8]=l=>_.value.searchValue=l),"prefix-icon":k.Search,placeholder:"搜索"},null,8,["modelValue","prefix-icon"])]),e("div",Xl,[s(f,{modelValue:_.value.orderType,"onUpdate:modelValue":t[9]||(t[9]=l=>_.value.orderType=l)},{default:a(()=>[(n(!0),u(v,null,h(P.value,l=>(n(),g(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(f,{modelValue:_.value.productType,"onUpdate:modelValue":t[10]||(t[10]=l=>_.value.productType=l)},{default:a(()=>[(n(!0),u(v,null,h(W.value,l=>(n(),g(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(f,{modelValue:_.value.productModel,"onUpdate:modelValue":t[11]||(t[11]=l=>_.value.productModel=l)},{default:a(()=>[(n(!0),u(v,null,h(G.value,l=>(n(),g(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(f,{modelValue:_.value.treeSpecies,"onUpdate:modelValue":t[12]||(t[12]=l=>_.value.treeSpecies=l)},{default:a(()=>[(n(!0),u(v,null,h(J.value,l=>(n(),g(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(f,{modelValue:_.value.paintColor,"onUpdate:modelValue":t[13]||(t[13]=l=>_.value.paintColor=l)},{default:a(()=>[(n(!0),u(v,null,h(K.value,l=>(n(),g(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(f,{modelValue:_.value.size,"onUpdate:modelValue":t[14]||(t[14]=l=>_.value.size=l)},{default:a(()=>[(n(!0),u(v,null,h(O.value,l=>(n(),g(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",Yl,[s(M,{data:H.value,stripe:!1,style:{width:"100%"}},{default:a(()=>[s(i,{prop:"text1",label:"全选",width:"80px"},{default:a(l=>[s(se,{modelValue:l.text1,"onUpdate:modelValue":$=>l.text1=$},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),s(i,{prop:"text2",label:"订单明细编号"}),s(i,{prop:"text3",label:"产品大类"}),s(i,{prop:"text4",label:"产品型号"}),s(i,{prop:"text5",label:"树种"}),s(i,{prop:"text6",label:"油漆颜色"}),s(i,{prop:"text7",label:"尺寸"}),s(i,{prop:"text8",label:"修改时间 "})]),_:1},8,["data"])])],64)):w("",!0)]),_:1},8,["modelValue"])]),e("div",es,[s(B,{modelValue:S.value,"onUpdate:modelValue":t[20]||(t[20]=l=>S.value=l),width:"25%","show-close":!1},{footer:a(()=>[e("div",Ds,[s(m,{class:"cancel_btn",onClick:t[18]||(t[18]=l=>{S.value=!1,V.value=!0})},{default:a(()=>[p("取消")]),_:1}),s(m,{onClick:t[19]||(t[19]=l=>{S.value=!1,V.value=!0}),type:"primary",class:"primary_btn",style:{}},{default:a(()=>[p("确认")]),_:1})])]),default:a(()=>[e("span",ls,r(U.value=="1"?"完善问题描述":"定义处理方式"),1),U.value=="1"?(n(),u("span",ss,[e("span",ts,[as,s(f,{placeholder:""},{default:a(()=>[(n(),u(v,null,h([],l=>s(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1})]),e("span",os,[ns,s(f,{placeholder:""},{default:a(()=>[(n(),u(v,null,h([],l=>s(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1})]),e("span",cs,[ds,s(D)]),e("span",us,[is,s(D)]),e("span",_s,[s(oe,{class:"upload",drag:"",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",multiple:""},{tip:a(()=>[rs]),default:a(()=>[s(ae,{class:"el-icon--upload"},{default:a(()=>[s(te)]),_:1}),ps]),_:1})])])):w("",!0),U.value=="2"?(n(),u("span",vs,[e("span",ms,[hs,s(f,{placeholder:""},{default:a(()=>[(n(),u(v,null,h([],l=>s(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1})]),e("span",bs,[fs,s(f,{placeholder:""},{default:a(()=>[(n(),u(v,null,h([],l=>s(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1})]),e("span",xs,[ys,s(f,{placeholder:""},{default:a(()=>[(n(),u(v,null,h([],l=>s(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1})]),e("span",ks,[Cs,s(f,{placeholder:""},{default:a(()=>[(n(),u(v,null,h([],l=>s(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1})]),e("span",Vs,[gs,s(f,{placeholder:""},{default:a(()=>[(n(),u(v,null,h([],l=>s(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1})]),e("span",ws,[Ss,s(f,{placeholder:""},{default:a(()=>[(n(),u(v,null,h([],l=>s(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1})])])):w("",!0)]),_:1},8,["modelValue"])]),e("div",$s,[s(B,{modelValue:T.value,"onUpdate:modelValue":t[22]||(t[22]=l=>T.value=l),title:"相关单据",width:"80%","show-close":!1},{footer:a(()=>[e("div",js,[s(m,{type:"primary",class:"primary_btn",onClick:t[21]||(t[21]=l=>T.value=!1)},{default:a(()=>[p("返回")]),_:1})])]),default:a(()=>[e("div",Ns,[e("span",Ts,[Us,e("span",Is,[s(M,{data:Q.value,stripe:!1,style:{width:"100%"}},{default:a(()=>[s(i,{prop:"text1",label:"售后工单编号"}),s(i,{prop:"text2",label:"类别"}),s(i,{prop:"text3",label:"负责人"}),s(i,{prop:"text3",label:"状态"},{default:a(l=>[s(m,{class:"statusing",onClick:$=>console.log(l)},{default:a(()=>[p("进行中")]),_:2},1032,["onClick"])]),_:1}),s(i,{prop:"text5",label:"修改时间"}),s(i,{prop:"text6",label:"操作",width:"80px"},{default:a(l=>[e("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:$=>console.log(l)}," 查看 ",8,Ls)]),_:1})]),_:1},8,["data"])])]),e("span",Ms,[Bs,e("span",qs,[s(M,{data:X.value,stripe:!1,style:{width:"100%"}},{default:a(()=>[s(i,{prop:"text1",label:"派工单编号"}),s(i,{prop:"text2",label:"类别"}),s(i,{prop:"text3",label:"负责人"}),s(i,{prop:"text3",label:"状态"},{default:a(l=>[s(m,{class:"statusing",onClick:$=>console.log(l)},{default:a(()=>[p("进行中")]),_:2},1032,["onClick"])]),_:1}),s(i,{prop:"text5",label:"修改时间"}),s(i,{prop:"text7",label:"操作",width:"80px"},{default:a(l=>[e("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:$=>console.log(l)}," 查看 ",8,zs)]),_:1})]),_:1},8,["data"])])])])]),_:1},8,["modelValue"])])])}}}),Ps=be(As,[["__scopeId","data-v-10e74428"]]);export{Ps as default};
