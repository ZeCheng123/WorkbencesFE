import{g as De,b as ke,c as Me,d as Se,e as Ie}from"./common-DlZ3PTDo.js";import{h as we}from"./moment-Cl4UOzQZ.js";import{d as Ce,g as Te,r as t,k as ee,o as Ue,l as xe,c as m,h as e,F as Ee,m as Ne,t as k,u as p,b as te,n as ue,e as Re,p as qe,f as Ve,i as h,q as Qe,_ as Be}from"./index-B0nIteLi.js";import"./userinfo-DAH5zaze.js";const We="/assets/main_header_image-D5xSo94Y.png",Fe="data:image/png;base64,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",M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAIjSURBVFiF1Ze/axNhGMc/7ylyFyy98x8o4lqMhKCDg0ZRcKlLqIJgHLo5SJcOgjgUKugiUgdBhwhZxEJ1qOBSEMH+CMG0oQ0tLWQIHVrt2ZS712B8HOpQbYaLvd7hd3zfe57v597ned/3TvFbrus6ppnI/RS5oZTqBUzClRaRiqFUQWsvb9v2JoAC8H2/R9ShNwqSIZu2lUBZSeuqZVk15bquc8RMTEZlvhuiqb2MYZqJXNTmAAqSppnIKc//PquUSkcNACAiReXrpk/4DRdU2ojRHMA0YjQH4HCQh1ZWa3yeq3SU+FSylxPHe8IBePb8Je/eT+LY3YHMN91vXLmc4eHIvXAAgMAJAYbuDgdNy//RA7v16vVbiqW5tnPp1En6s30HC7Aj+bewMAD6s30dv2WoAH+XoN2yp1PBr5YDKUEnKxRKCeYrizx4NPrH2DGnm9HHI+EDtNPS8iqL1SVu3bwGQL2+xtj4RKDYUAAAurqOcuf2AABTM6XoAQB+tFrU62sdxQQGWN/4yvRMac/4mdMpABqNbbLXB1ioLoe/CxzHZmx8gg8fp/bMrSx8AmCrsY3j2AzfH+LJ0xeBAZSvm/s+1tY3vjBfqXLh/NkdmK0G07MlLl08Fw3AfhT7bWgAOkZ/bYhIZ99aIUpEKoahVCEuAEOpgqG1lxcoR20uUNbay8f+c2oAWJZVa2ovo2BQRIocTGNqESkqGGxqL2NZVg3gF1291W4ntCd5AAAAAElFTkSuQmCC",Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAHxSURBVFiF7ZexahRRFIa/c5UwswayeYGkEi0kaSxEcSVP4ANoss+QOojps5Vam8SwTUQl2qWRaGlgCWzhFhFHMDiVs7CZOQ7rHhtZEpXNuEx2DPjDKe7Avd/H3B+GEX4miqJJzytVe2Z3ROQK4JFv1MyaTqSuGq+Xy+WvAAKQJMm0ybktgdmcoX+MwZ7Y99u+7wcSRdHkmFd6PSr4UYlU4znneaXqqOEAArOeV6pKnHx7JyJXRy0AYGa7kmiakH/hskZdgXAAzxUIB+BsCjx6+ADfGzs2N65fG0rg/DCbonabmZlZVmo1ALa3t3m6uTk6AYCJ8gSVyi0Ago/BsMec0Q78mnY74uDgM5cvXexPrbaSae/QV3A0qoqIsLR0D4C1tce0Wu/zEwjDL7Rarf76U/D7nTvnmF9YAODN251M8MwCy8v3WVtdPfbsZqWSGTIomTrQ7Xa5Oz9PoimJpkxNTecCzyxwmvkvcGIJVZUwDDnsdNjYeALA4WGHMAz760ajQa/X668/7O9zYXwcVcXzTvjaJ5raoHn2/IUBQ83Wy1cDz040NUk0tb9+bzmm8A78EwJaIF+dmTWLoptZ0zmRelECTqTuVON1g71Rww32VOP1wn9OHYDv+0Gq8ZzAopntcjrFVDPbFVhMNZ7zfT8A+AEGgBQxcE2H9wAAAABJRU5ErkJggg==",se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEASURBVCiRfZCxSgNhEIS/vTuUnEEULCwsUhgwhZDCtGEFCxvBR7G09BV8Agsr+4CWe3VewDKFRQrBA0+RcMlamBzx98ct55sZloHIVar9D9WTGJNQeFPd2XQfO2RzkcG22es6T8LAhvudwyHQSd3vQ/4rUKleA5dr0vn7cHgTfalSPRP3RyALSmsXuWibPTWBT9UDdx8LVEDtcLSEzw41sJ+IDFpmk2QJsplILy+KLu6jVbUvFrdbRXE8E+mutAygZTZpTCJ7zb9pOgLYNSuBMrqSQAfA3R9ys5d/V3LVzKEPTEmSq9D8J1D9TFrORU7bZtNYIJwwy0V6YvYVMwN8AyG2VN33at/IAAAAAElFTkSuQmCC",ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAP5JREFUKFN9kC9PxEAUxGdOXovGcvsB+Ayo+wYkJCBAgQQDBm5fjyDAAAkCFAgQQDAINAkSh++eBX3Xyj6ypS3X3p81L5mZX3beIwBEiXkF+UHV917gPr0267E0ZGiELVgF3qB8ljC+mwZVgDf7iblVYDMPZlyzC/FjE6oBUdpZhfLJhwj8ZKpdCQdf41ANKPbRMqDKrWa1acA3gMU/iCc2iA9rP8hwaaUmsHUJYrnQXjTLriYqRSNzD2J93jmheLCh26gqRYm5BrA9A7qxgdspjvEfkdScU7E7DilxIW23V2oTS0tqTqnY9wElzqTtDuae1ZuSdI7zGQyOmhV/AayqUOB45sN4AAAAAElFTkSuQmCC",s=U=>(qe("data-v-a70d828b"),U=U(),Ve(),U),Ye={class:"main"},Ge={class:"main_left"},ze=s(()=>e("img",{class:"main_header_image",src:We,alt:"Logo"},null,-1)),Le={class:"function_guide"},Oe=s(()=>e("div",{class:"header"},[e("label",{class:"label"},"功能指引"),e("img",{class:"logo",src:Fe,alt:""})],-1)),Je={class:"function_item"},Pe={class:"item"},je=s(()=>e("img",{class:"icon",src:M,alt:""},null,-1)),He=s(()=>e("label",{class:"name"},"资质信息",-1)),Xe=[je,He],Ke=s(()=>e("img",{class:"icon",src:M,alt:""},null,-1)),$e=s(()=>e("label",{class:"name"},"我的人员",-1)),et=[Ke,$e],tt=s(()=>e("div",{class:"line"},null,-1)),st={class:"item"},at=s(()=>e("img",{class:"icon",src:M,alt:""},null,-1)),lt=s(()=>e("label",{class:"name"},"交付任务",-1)),ot=[at,lt],nt=s(()=>e("img",{class:"icon",src:M,alt:""},null,-1)),it=s(()=>e("label",{class:"name"},"历史订单",-1)),ct=[nt,it],dt=s(()=>e("div",{class:"line"},null,-1)),rt={class:"item"},ut=s(()=>e("img",{class:"icon",src:M,alt:""},null,-1)),vt=s(()=>e("label",{class:"name"},"派工单",-1)),At=[ut,vt],mt=s(()=>e("div",{class:"menu"},null,-1)),ht=s(()=>e("div",{class:"line"},null,-1)),pt={class:"item"},_t=s(()=>e("img",{class:"icon",src:M,alt:""},null,-1)),gt=s(()=>e("label",{class:"name"},"问题提报",-1)),ft=[_t,gt],bt=s(()=>e("div",{class:"menu"},null,-1)),yt=s(()=>e("div",{class:"line2"},null,-1)),Dt={class:"item"},kt=s(()=>e("img",{class:"icon",src:M,alt:""},null,-1)),Mt=s(()=>e("label",{class:"name"},"售后工单",-1)),St=[kt,Mt],It=s(()=>e("div",{class:"menu"},null,-1)),wt=s(()=>e("div",{class:"line2"},null,-1)),Ct=s(()=>e("div",{class:"item"},null,-1)),Tt=ue('<div class="function_direction" data-v-a70d828b><div class="item" data-v-a70d828b><div class="end" data-v-a70d828b></div></div></div><div class="function_category" data-v-a70d828b><div class="item" data-v-a70d828b>管理我的组织</div><div class="item" data-v-a70d828b>交付执行</div><div class="item" data-v-a70d828b>技工服务</div><div class="item" data-v-a70d828b>售后无忧</div><div class="item" data-v-a70d828b>售后进度</div><div class="item" data-v-a70d828b></div></div>',2),Ut={class:"notification_message"},xt=s(()=>e("div",{class:"header"},[e("label",{class:"label"},"通知中心"),e("label",{class:"more"},"查看更多")],-1)),Et={class:"list"},Nt=["onClick"],Rt=s(()=>e("span",{class:"type message"},"消息",-1)),qt={class:"tips"},Vt={key:0,class:"important"},Qt={class:"main_right"},Bt={class:"top"},Wt=ue('<div class="other_function" data-v-a70d828b><div class="title" data-v-a70d828b>其他功能</div><div class="menu" data-v-a70d828b><div class="item" data-v-a70d828b><img class="icon" src="'+Ze+'" alt="" data-v-a70d828b><span class="name" data-v-a70d828b>数据报表</span></div></div></div>',1),Ft={class:"total_order_amount"},Zt=s(()=>e("span",{class:"title"},"当前订单",-1)),Yt={class:"content"},Gt={class:"left"},zt={class:"num"},Lt={class:"desc"},Ot=s(()=>e("span",{class:"text1"},"较上月",-1)),Jt={class:"text2"},Pt={key:0,class:"text3"},jt=s(()=>e("img",{src:se,alt:""},null,-1)),Ht=[jt],Xt={key:1,class:"text3"},Kt=s(()=>e("img",{src:ae,alt:""},null,-1)),$t=[Kt],es={class:"right"},ts={class:"aftersales_workorder"},ss=s(()=>e("span",{class:"title"},"任务分布",-1)),as={class:"content"},ls={class:"left"},os={class:"num"},ns={class:"desc"},is=s(()=>e("span",{class:"text1"},"较上月",-1)),cs={class:"text2"},ds={key:0,class:"text3"},rs=s(()=>e("img",{src:se,alt:""},null,-1)),us=[rs],vs={key:1,class:"text3"},As=s(()=>e("img",{src:ae,alt:""},null,-1)),ms=[As],hs={class:"right"},ps={class:"dispatch_distribution"},_s=s(()=>e("span",{class:"title"},"派工分布",-1)),gs={class:"content"},fs={class:"left"},bs={class:"num"},ys={class:"desc"},Ds=s(()=>e("span",{class:"text1"},"较上月",-1)),ks={class:"text2"},Ms={key:0,class:"text3"},Ss=s(()=>e("img",{src:se,alt:""},null,-1)),Is=[Ss],ws={key:1,class:"text3"},Cs=s(()=>e("img",{src:ae,alt:""},null,-1)),Ts=[Cs],Us={class:"right"},xs=Ce({__name:"index",setup(U){const{proxy:C}=Te(),le=t(null),x=t(null),E=t(null),N=t(null);t(null),t([]);const V=t([]),ve=t(null);t(0);let oe=t(0),Q=t(0),B=t(0),W=t(0),F=t(0),Z=t(0),Y=t(0),G=t(0),ne=t(0),z=t(0),L=t(0),O=t(0),J=t(0),P=t(0),j=t(0),H=t(0),X=t(0),ie=t(0),K=t(0),$=t(0);const S=t(1),Ae=ee(()=>({tooltip:{trigger:"item"},legend:{top:"10",left:"50%",orient:"vertical",data:[{name:"总部分配",icon:"circle"},{name:"零售订单",icon:"circle"},{name:"其他",icon:"circle"}]},series:[{name:"当前订单",type:"pie",radius:["50%","80%"],center:["20%","55%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:1,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},color:["#8D4EDA","#165DFF","#00B2FF"],data:[{value:B.value,name:"总部分配"},{value:Q.value,name:"零售订单"},{value:W.value,name:"其他"}]}]})),me=ee(()=>({tooltip:{trigger:"item"},legend:{top:"10",left:"40%",orient:"vertical",data:[{name:"待处理",icon:"circle"},{name:"提货",icon:"circle"},{name:"入库",icon:"circle"},{name:"配送",icon:"circle"},{name:"安装",icon:"circle"},{name:"完成",icon:"circle"}]},series:[{name:"任务分布",type:"pie",radius:["50%","80%"],center:["20%","55%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:1,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},color:["#8D4EDA","#165DFF","#00B2FF","rgb(238 102 102)","rgb(250 200 88)","rgb(145 204 117)"],data:[{value:O.value,name:"待处理"},{value:J.value,name:"提货"},{value:P.value,name:"入库"},{value:j.value,name:"配送"},{value:H.value,name:"安装"},{value:X.value,name:"完成"}]}]})),he=ee(()=>({tooltip:{trigger:"item"},legend:{top:"10",left:"50%",orient:"vertical",data:[{name:"待处理",icon:"circle"},{name:"进行中",icon:"circle"},{name:"已完成",icon:"circle"}]},series:[{name:"派工分布",type:"pie",radius:["50%","80%"],center:["20%","55%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:1,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},color:["#8D4EDA","#165DFF","#00B2FF"],data:[{value:Z.value,name:"待处理"},{value:Y.value,name:"进行中"},{value:G.value,name:"已完成"}]}]}));Ue(()=>{C.$nextTick(()=>{pe()}),de(),re(),ve.value=setInterval(fe,6e4)});const pe=()=>{le.value=setInterval(()=>{x.value.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:S.value}),E.value.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:S.value}),N.value.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:S.value}),S.value++,S.value>=3&&(S.value=0)},3e3)},_e=a=>{let l="id="+a.id+"&neoid="+a.neoid,i={id:a.id,questionType:a.questionType?a.questionType:0,name:a.name,caseStatus:2,dealerAcceptanceTime:we().format("YYYY-MM-DD HH:mm:ss")};a.caseStatus===1?ge(i,l):C.$router.push(`/problem_report_details?${l}`)},ge=(a,l)=>{a.id!=null?Ie(a).then(i=>{let o=i.data;o.code=="success"&&o.data!=null?(C.$router.push(`/problem_report_details?${l}`),console.info("更新成功")):console.info("更新失败")}):C.$router.push(`/problem_report_details?${l}`)},b=a=>{C.$router.push(a)};xe(()=>{clearInterval(le.value)});function y(a,l=2){return String(a).padStart(l,"0")}function fe(){de(),re()}function R(a){const l=a.getFullYear(),i=y(a.getMonth()+1),o=y(a.getDate()),u=y(a.getHours()),n=y(a.getMinutes()),c=y(a.getSeconds());return`${l}-${i}-${o} ${u}:${n}:${c}`}function ce(a){const l=a.getFullYear(),i=y(a.getMonth()+1),o=y(a.getDate());return`${l}-${i}-${o}`}const I=new Date,T=new Date(I.getFullYear(),I.getMonth()-1,1,0,0,0,0),D=new Date(I.getFullYear(),I.getMonth(),1,0,0,0,0),be=new Date(I.getFullYear(),I.getMonth()+1,1,0,0,0,0),w=new Date(be.getTime()-1),de=()=>{const a=new Date().getTime();let l={caseStatus:"1;2",from:R(D),to:R(w),pageNo:1,pageSize:1e5};De(l).then(i=>{let o=i.data;if(o.code=="success"){const u=o.data;return V.value=u.map(n=>{let c="",r=0;if(n.caseStatus===1&&n.createdTime){const v=Date.parse(n.createdTime);if((a-v)/(1e3*60*60)>3)return c=`服务工单${n.caseNo}【创建时间】大于3小时，未处理`,r=1,{...n,text:c,important:r}}if(n.caseStatus===2&&n.dealerAcceptanceTime){const v=Date.parse(n.dealerAcceptanceTime);if((a-v)/(1e3*60*60)>24)return c=`服务工单${n.caseNo}【已受理时间】大于24小时，未处理`,r=1,{...n,text:c,important:r}}}).filter(n=>n!==void 0),{filteredData:V}}})},re=()=>{let a={from:R(T),to:R(w),pageNo:1,pageSize:1e4};ke(a).then(i=>{let o=i.data,u=t([]),n=t([]),c=0,r=0,v=t(0),_=t(0),A=t(0);if(o.code=="success"){o.data.forEach(d=>{if(d.createdTime&&d.createdTime!==""&&typeof d.productsAmount=="number"&&!isNaN(d.productsAmount)){const q=new Date(d.createdTime);if(q>=T&&q<D&&(u.value.push(d),c+=d.productsAmount),q>=D&&q<=w)switch(n.value.push(d),r+=d.productsAmount,d.typeOfSale__c){case"零售":v.value++;break;case"分配":_.value++;break;default:A.value++;break}}}),oe.value=r,Q.value=v.value,B.value=_.value,W.value=A.value;let f=(r-c)/c*100;F.value=Number(f.toFixed(4)),x.value!==null&&x.value.setOption({series:[{data:[{value:B.value,name:"总部分配"},{value:Q.value,name:"零售订单"},{value:W.value,name:"其他"}]}]})}});let l={createdTimeStart:ce(T),createdTimeEnd:ce(w),pageNo:1,pageSize:1e4};Me(l).then(i=>{let o=i.data,u=t([]),n=t([]),c=t(0),r=t(0),v=t(0),_=t(0),A=t(0),g=t(0);o.code=="success"&&(o.data.forEach(f=>{if(f.createdTime&&f.createdTime!==""){const d=new Date(f.createdTime);if(d>=T&&d<D&&u.value.push(f),d>=D&&d<=w)switch(n.value.push(f),f.status){case 0:c.value++;break;case 2:r.value++;break;case 3:v.value++;break;case 4:_.value++;break;case 5:A.value++;break;default:g.value++;break}}}),O.value=c.value,J.value=r.value,P.value=v.value,j.value=_.value,H.value=A.value,X.value=g.value,ie.value=u.value.length,K.value=n.value.length,$.value=Number(K.value)-Number(ie.value),E.value!==null&&E.value.setOption({series:[{data:[{value:O.value,name:"待处理"},{value:J.value,name:"提货"},{value:P.value,name:"入库"},{value:j.value,name:"配送"},{value:H.value,name:"安装"},{value:X.value,name:"完成"}]}]}))}),Se(a).then(i=>{let o=i.data,u=t([]),n=t([]),c=t(0),r=t(0),v=t(0);o.code=="success"&&(o.data.forEach(A=>{if(A.createdTime&&A.createdTime!==""){const g=new Date(A.createdTime);if(g>=T&&g<D&&u.value.push(A),g>=D&&g<=w)switch(n.value.push(A),A.stage__c){case 0:c.value++;break;case 1:r.value++;break;default:v.value++;break}}}),Z.value=c.value,Y.value=r.value,G.value=v.value,ne.value=u.value.length,z.value=n.value.length,L.value=Number(z.value)-Number(ne.value),N.value!==null&&N.value.setOption({series:[{data:[{value:Z.value,name:"待处理"},{value:Y.value,name:"进行中"},{value:G.value,name:"已完成"}]}]}))})};return(a,l)=>{const i=Re("e-charts");return h(),m("div",Ye,[e("div",Ge,[ze,e("div",Le,[Oe,e("div",Je,[e("div",Pe,[e("div",{class:"menu",onClick:l[0]||(l[0]=o=>b("qualification_information"))},Xe),e("div",{class:"menu",onClick:l[1]||(l[1]=o=>b("my_personnel"))},et),tt]),e("div",st,[e("div",{class:"menu",onClick:l[2]||(l[2]=o=>b("delivery_tasks"))},ot),e("div",{class:"menu",onClick:l[3]||(l[3]=o=>b("historical_orders"))},ct),dt]),e("div",rt,[e("div",{class:"menu",onClick:l[4]||(l[4]=o=>b("dispatch_list"))},At),mt,ht]),e("div",pt,[e("div",{class:"menu",onClick:l[5]||(l[5]=o=>b("problem_report_list"))},ft),bt,yt]),e("div",Dt,[e("div",{class:"menu",onClick:l[6]||(l[6]=o=>b("aftersales_workorder"))},St),It,wt]),Ct]),Tt]),e("div",Ut,[xt,e("div",Et,[(h(!0),m(Ee,null,Ne(V.value,(o,u)=>(h(),m("div",{class:"list_item",key:u,onClick:n=>_e(o)},[Rt,e("span",qt,k(o.text),1),o.important==1?(h(),m("span",Vt,"重要")):Qe("",!0)],8,Nt))),128))])])]),e("div",Qt,[e("div",Bt,[Wt,e("div",Ft,[Zt,e("span",Yt,[e("div",Gt,[e("span",zt,"¥"+k(p(oe).toFixed(2)),1),e("span",Lt,[Ot,e("span",Jt,k(p(F))+"%",1),p(F)>0?(h(),m("span",Pt,Ht)):(h(),m("span",Xt,$t))])]),e("div",es,[te(i,{ref_key:"chart1",ref:x,class:"chart",option:Ae.value},null,8,["option"])])])]),e("div",ts,[ss,e("span",as,[e("div",ls,[e("span",os,k(p(K)),1),e("span",ns,[is,e("span",cs,k(p($)),1),p($)>0?(h(),m("span",ds,us)):(h(),m("span",vs,ms))])]),e("div",hs,[te(i,{ref_key:"chart2",ref:E,class:"chart",option:me.value},null,8,["option"])])])])]),e("div",ps,[_s,e("span",gs,[e("div",fs,[e("span",bs,k(p(z)),1),e("span",ys,[Ds,e("span",ks,k(p(L)),1),p(L)>0?(h(),m("span",Ms,Is)):(h(),m("span",ws,Ts))])]),e("div",Us,[te(i,{ref_key:"chart3",ref:N,class:"chart",option:he.value},null,8,["option"])])])])])])}}}),Vs=Be(xs,[["__scopeId","data-v-a70d828b"]]);export{Vs as default};
