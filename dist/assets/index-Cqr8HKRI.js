import{_ as Se,a as De,b as Ce}from"./tips-DfmWQaVF.js";import{d as Pe,g as Le,r as p,y as Ue,o as Ne,E as T,c as y,i as e,v as b,t as i,s as A,e as a,w as u,F as k,m as w,A as Oe,f as V,p as qe,h as Be,a as r,j as S,q as I,u as Ee,x as Me,B as $e,_ as Ae}from"./index-k7gRZT9c.js";import{q as Fe,r as We,t as X,n as je,v as ze}from"./common-DoACQn11.js";import"./userinfo-CU9lpgZY.js";const o=O=>(qe("data-v-9fba5f1f"),O=O(),Be(),O),Re={class:"main"},Je={class:"header"},He=o(()=>e("span",{class:"title"},"售后工单状态",-1)),Ge={class:"step"},Ke={class:"item"},Qe={class:"item"},Xe={class:"item"},Ye={class:"item"},Ze={class:"item"},es={class:"item"},ss={class:"item"},as={class:"item"},ls={class:"order_info"},os=o(()=>e("span",{class:"title"},"售后工单详情 ",-1)),ts={class:"main_field"},ns={class:"row_field"},cs={class:"field"},ds=o(()=>e("span",{class:"label"},"工单编号：",-1)),is={class:"value"},ps={class:"field"},us=o(()=>e("span",{class:"label"},"业务类型：",-1)),_s={class:"value"},rs={class:"field"},ms=o(()=>e("span",{class:"label"},"售后工单来源：",-1)),hs={class:"value"},vs={class:"row_field"},fs={class:"field"},bs=o(()=>e("span",{class:"label"},"订单编号：",-1)),ys={class:"value"},gs={class:"field"},ks=o(()=>e("span",{class:"label"},"服务工单：",-1)),ws={class:"value"},Vs=o(()=>e("span",{class:"field"},[e("span",{class:"label"},"所有人："),e("span",{class:"value"})],-1)),Is={class:"row_field"},xs={class:"field"},Ts=o(()=>e("span",{class:"label"},"升级备注：",-1)),Ss={class:"value"},Ds={class:"field"},Cs=o(()=>e("span",{class:"label"},"专卖店名称：",-1)),Ps={class:"value"},Ls={class:"field"},Us=o(()=>e("span",{class:"label"},"创建时间：",-1)),Ns={class:"value"},Os=o(()=>e("span",{class:"title"},"客户信息",-1)),qs={class:"other_field"},Bs={class:"row_field"},Es={class:"field"},Ms=o(()=>e("span",{class:"label"},"客户姓名：",-1)),$s={class:"value"},As={class:"field"},Fs=o(()=>e("span",{class:"label"},"客户电话：",-1)),Ws={class:"value"},js={class:"field"},zs=o(()=>e("span",{class:"label"},"提报人：",-1)),Rs={class:"value"},Js={class:"row_field"},Hs={class:"field"},Gs=o(()=>e("span",{class:"label"},"客户地址：",-1)),Ks={class:"value"},Qs={class:"order_list"},Xs=o(()=>e("span",{class:"table_title"},"售后工单处理记录",-1)),Ys={class:"table_content"},Zs=["onClick"],ea={class:"action_list"},sa=o(()=>e("img",{src:Se,alt:""},null,-1)),aa={class:"right"},la={class:"userinfo"},oa=o(()=>e("img",{src:De,alt:""},null,-1)),ta={class:"username"},na={class:"content"},ca={class:"date"},da=o(()=>e("span",{class:"reply"},"回复",-1)),ia=o(()=>e("img",{class:"tips",src:Ce,alt:""},null,-1)),pa={class:"showMainDialog2"},ua={class:"title"},_a={key:0,class:"content"},ra={class:"item"},ma=o(()=>e("span",{class:"label"},"问题大类",-1)),ha={class:"item"},va=o(()=>e("span",{class:"label"},"售后问题",-1)),fa={class:"item"},ba=o(()=>e("span",{class:"label"},"责任人",-1)),ya={class:"item"},ga=o(()=>e("span",{class:"label"},"问题描述",-1)),ka={class:"item"},wa=o(()=>e("div",{class:"el-upload__text"},"将文件拖至此处 或 点击上传",-1)),Va=o(()=>e("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1)),Ia={key:1,class:"content"},xa={class:"item"},Ta=o(()=>e("span",{class:"label"},"产品分类",-1)),Sa={class:"item"},Da=o(()=>e("span",{class:"label"},"部件分类",-1)),Ca={class:"item"},Pa=o(()=>e("span",{class:"label"},"不良分类",-1)),La={class:"item"},Ua=o(()=>e("span",{class:"label"},"质量指标一",-1)),Na={class:"item"},Oa=o(()=>e("span",{class:"label"},"质量指标二",-1)),qa={class:"item"},Ba=o(()=>e("span",{class:"label"},"处理方式",-1)),Ea={class:"dialog-footer"},Ma={class:"showMainDialog3"},$a=o(()=>e("span",{class:"title"},"售后处理记录详情",-1)),Aa={class:"content"},Fa={class:"base_field"},Wa={class:"row_field"},ja={class:"field"},za=o(()=>e("span",{class:"label"},"售后处理记录编号：",-1)),Ra={class:"value"},Ja={class:"field"},Ha=o(()=>e("span",{class:"label"},"经销商名称：",-1)),Ga={class:"value"},Ka={class:"field"},Qa=o(()=>e("span",{class:"label"},"经销商电话：",-1)),Xa={class:"value"},Ya={class:"row_field"},Za={class:"field"},el=o(()=>e("span",{class:"label"},"专卖店名称：",-1)),sl={class:"value"},al={class:"field"},ll=o(()=>e("span",{class:"label"},"专卖店电话：",-1)),ol={class:"value"},tl={class:"field"},nl=o(()=>e("span",{class:"label"},"订单编号：",-1)),cl={class:"value"},dl={class:"row_field"},il={class:"field"},pl=o(()=>e("span",{class:"label"},"生产单号：",-1)),ul={class:"value"},_l={class:"field"},rl=o(()=>e("span",{class:"label"},"订单类型：",-1)),ml={class:"value"},hl={class:"field"},vl=o(()=>e("span",{class:"label"},"处理进度：",-1)),fl={class:"value"},bl={class:"row_field"},yl={class:"field"},gl=o(()=>e("span",{class:"label"},"客户姓名：",-1)),kl={class:"value"},wl={class:"field"},Vl=o(()=>e("span",{class:"label"},"客户电话：",-1)),Il={class:"value"},xl={class:"field"},Tl=o(()=>e("span",{class:"label"},"客户地址：",-1)),Sl={class:"value"},Dl={class:"row_field"},Cl={class:"field"},Pl=o(()=>e("span",{class:"label"},"生产分厂：",-1)),Ll={class:"value"},Ul={class:"field"},Nl=o(()=>e("span",{class:"label"},"供应基地：",-1)),Ol={class:"value"},ql={class:"field"},Bl=o(()=>e("span",{class:"label"},"冲款金额小计：",-1)),El={class:"value"},Ml={class:"row_field"},$l={class:"field"},Al=o(()=>e("span",{class:"label"},"售后审核员：",-1)),Fl={class:"value"},Wl={class:"field"},jl=o(()=>e("span",{class:"label"},"提报人：",-1)),zl={class:"value"},Rl={class:"field"},Jl=o(()=>e("span",{class:"label"},"提报人电话：",-1)),Hl={class:"value"},Gl={class:"row_field"},Kl={class:"field"},Ql=o(()=>e("span",{class:"label"},"消费者需求描述：",-1)),Xl={class:"value"},Yl={class:"field"},Zl=o(()=>e("span",{class:"label"},"经销商需求描述：",-1)),eo={class:"value"},so={class:"field"},ao=o(()=>e("span",{class:"label"},"原因调查情况：",-1)),lo={class:"value"},oo={class:"dialog-footer"},to={class:"showTicketSolutionDetailsDialog"},no={class:"table"},co={style:{display:"flex","align-items":"center"}},io={class:"responsibilityPerson"},po=o(()=>e("span",{class:"label required"},"问题大类",-1)),uo=o(()=>e("span",{class:"label required"},"售后问题",-1)),_o=o(()=>e("span",{class:"label required"},"责任人",-1)),ro={class:"responsibilityPerson"},mo=o(()=>e("span",{class:"label required"},"问题描述",-1)),ho=o(()=>e("div",{class:"responsibilityPerson"},[e("span",{class:"label"},"上传文件")],-1)),vo={class:"containerUpload"},fo={class:"item"},bo={class:"dialog-footer"},yo=Pe({__name:"index",setup(O){const{proxy:D}=Le(),v=p(4),Y=Ue(),q=p(!1),F=p({}),W=p({}),j=p([]),n=p({problemType:"",afterSalesIssues:"",responsiblePerson:"",problemDesc:"",fileList:[],poductType:"",componentType:"",badType:"",qualityIndicator1:"",qualityIndicator2:"",handleWay:""}),E=p([{code:"1",name:"经销商问题"},{code:"2",name:"公司问题"},{code:"3",name:"物流问题"}]),z=p([{code:"1",name:"店面测量师漏单"},{code:"2",name:"店面测量师量错"},{code:"3",name:"店里设计师漏分解"},{code:"4",name:"店里设计师分解错"},{code:"5",name:"店里设计不合理"},{code:"6",name:"店里下单员漏单"},{code:"7",name:"店里下单员下错"},{code:"8",name:"店里安装师问题"},{code:"9",name:"消费者补单"},{code:"10",name:"消费者使用不当"},{code:"11",name:"产品丢失"},{code:"12",name:"公司问题"},{code:"13",name:"物流问题"}]),R=p([]),Z=p({1:[{code:"1",name:"店面测量师漏单"},{code:"2",name:"店面测量师量错"},{code:"3",name:"店里设计师漏分解"},{code:"4",name:"店里设计师分解错"},{code:"5",name:"店里设计不合理"},{code:"6",name:"店里下单员漏单"},{code:"7",name:"店里下单员下错"},{code:"8",name:"店里安装师问题"},{code:"9",name:"消费者补单"},{code:"10",name:"消费者使用不当"},{code:"11",name:"产品丢失"}],2:[{code:"12",name:"公司问题"}],3:[{code:"13",name:"物流问题"}]}),ee=p([{code:"1",name:"墙板"},{code:"2",name:"线条"},{code:"3",name:"五金"},{code:"4",name:"门套"},{code:"5",name:"门扇"},{code:"6",name:"柜体"},{code:"7",name:"柜门"},{code:"8",name:"玻璃"},{code:"9",name:"挂板"},{code:"10",name:"罗马柱"},{code:"11",name:"帽头"},{code:"12",name:"装饰块"},{code:"13",name:"雕花件"},{code:"14",name:"色板"},{code:"15",name:"整单"},{code:"16",name:"入户门"}]),se=p([{code:"1",name:"边梃"},{code:"2",name:"挂线条"},{code:"3",name:"芯板"},{code:"4",name:"金属条"},{code:"5",name:"码头"},{code:"6",name:"封边"},{code:"7",name:"L边"},{code:"8",name:"整体"},{code:"9",name:"面板执手"},{code:"10",name:"锁体"},{code:"11",name:"铰链"},{code:"12",name:"铰链底座"},{code:"13",name:"灯带"},{code:"14",name:"抽屉轨道"},{code:"15",name:"三合一"},{code:"16",name:"其他五金"},{code:"17",name:"档条"},{code:"18",name:"密封条"},{code:"19",name:"套板"},{code:"20",name:"门套"},{code:"21",name:"玻璃"},{code:"22",name:"门标"},{code:"23",name:"门芯板"},{code:"24",name:"配件"},{code:"25",name:"五金配件"},{code:"26",name:"8属边"},{code:"27",name:"背板"},{code:"28",name:"层板"},{code:"29",name:"抽屉板"},{code:"30",name:"底板"},{code:"31",name:"顶板"},{code:"32",name:"台面板"},{code:"33",name:"立板"},{code:"34",name:"侧板"},{code:"35",name:"踢脚板"},{code:"36",name:"五金件"},{code:"37",name:"挂板"},{code:"38",name:"罗马柱"},{code:"39",name:"帽头"},{code:"40",name:"装饰块"},{code:"41",name:"雕花件"},{code:"42",name:"色板"},{code:"43",name:"整单"},{code:"44",name:"修补漆"},{code:"45",name:"入户门扇"}]),ae=p([{code:"1",name:"消费者"},{code:"2",name:"经销商"},{code:"3",name:"订单分解"},{code:"4",name:"备料"},{code:"5",name:"加工"},{code:"6",name:"免漆加工"},{code:"7",name:"油漆"},{code:"8",name:"少货"},{code:"9",name:"包装问题"},{code:"10",name:"五金问题"},{code:"11",name:"辅料问题"},{code:"12",name:"仓库发货"},{code:"13",name:"物流送达"},{code:"14",name:"系统问题"},{code:"15",name:"新品设计问题"},{code:"16",name:"隔音等级"},{code:"17",name:"受潮"},{code:"18",name:"无法提供证明的少货"},{code:"19",name:"交期延误"},{code:"20",name:"霉变"},{code:"21",name:"气味"},{code:"22",name:"长虫"},{code:"23",name:"过质保期"},{code:"24",name:"变色"},{code:"25",name:"入户门问题"}]),f=p({}),le=p([{code:"1",name:"订单分解错"},{code:"2",name:"订单漏分解"},{code:"3",name:"变形"}]),oe=p([{code:"1",name:"漏备注"},{code:"2",name:"产品漏分解"},{code:"3",name:"配件漏分解"},{code:"4",name:"五金漏分解"},{code:"5",name:"孔位漏分解"}]),te=p([{label:"处理方式",value:"1"}]),P=p(!1),M=p(!1),B=p(1);p({value1:"1",value2:"1",value3:"1",value4:"1",value5:"1",value6:"1"});const ne=p({Content:"application/json",Authorization:"",isImage:"true",needFileId:"true","Trace-Id":""}),J=p([]);p([{label:"全部订单",value:"1"}]),p([{label:"产品大类",value:"1"}]),p([{label:"产品型号",value:"1"}]),p([{label:"树种",value:"1"}]),p([{label:"油漆颜色",value:"1"}]),p([{label:"尺寸",value:"1"}]);const L=p([]),m=p({}),H=p({files:[],name:"files"}),ce=c=>{H.value.files=[c]},de=c=>{v.value=c},ie=c=>{B.value=c,P.value=!0},pe=()=>{Oe.prompt("请填写评论内容","发起评论",{inputPattern:/\S/,inputErrorMessage:"评论内容不能为空!",confirmButtonText:"确认",cancelButtonText:"取消"}).then(({value:c})=>{j.value.push({userName:"经销商",text:c,date:new Date().toLocaleString()})}).catch(()=>{})},ue=()=>{D.$message.success("保存成功!"),setTimeout(()=>{P.value=!1},500)};Ne(()=>{_e(!1)});const _e=c=>{Fe(Y.query.id).then(l=>{let t=l.data.data;t!=null?(f.value=t,de(f.value.status__c),re(),me(),he(),c&&T({message:"查询成功",type:"success"})):T({message:"获取数据失败",type:"error"})}).catch(l=>{T({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",l)})},re=()=>{We(f.value.neoId).then(c=>{let l=c.data.data;if(l!=null){let t=l;m.value=t.details,U.value=t.details,delete t.details,L.value=[t]}else console.log("获取数据失败!")}).catch(c=>{T({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",c)})},me=()=>{X(f.value.orderNeoId).then(c=>{let l=c.data.data;l!=null?F.value=l:console.log("无对应数据!")}).catch(c=>{T({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",c)})},he=()=>{let c={id:"",neoid:f.value.serviceCase__c};je(c).then(l=>{let t=l.data.data;t!=null?W.value=t:console.log("无对应数据!")}).catch(l=>{T({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",l)})},ve=c=>{we(),q.value=!0},x=p([]),fe=c=>{console.log(c),c.code=="success"&&(x.value=x.value.concat(c.data.map(l=>l.fileId)))},be=c=>{var l=c.response;if(l.code=="success"){const t=l.data[0].fileId,d=x.value.findIndex(h=>h===t);d!==-1&&x.value.splice(d,1)}},U=p([]),ye=p(),ge=p([]);n.value=p({});const ke=c=>{console.info("选择的数据：",c),ge.value=c},we=()=>{X(f.value.orderNeoId).then(c=>{if(c.data.code=="success"){let l=c.data.data.po,t=c.data.data.items;U.value.forEach(d=>{d.checked=!1,d.orderPo=l}),t&&t.length>0?(U.value.forEach(d=>{let h=t.find(_=>d.orderProductId==_.neoid);if(h&&(d.productionOrderNo__c=h.productionOrderNo__c,d.quantity=h.quantity,d.name=h.name,d.productName=h.productName,d.paintColor__c=h.paintColor__c,d.treeSpecies__c=h.treeSpecies__c,d.fscProductSpec=h.fscProductSpec,d.fscProductModel=h.fscProductModel,d.category1=h.category1,d.ticketProblem&&$e.isArray(d.ticketProblem))){let _="";console.log(),d.ticketProblem.forEach(g=>{_=_+z.value.find(C=>C.code==g).name+","}),d.ticketProblem=_.substring(0,_.length-1)}}),console.log("tableData222",J.value)):console.info("details没数据")}else D.$message.error("数据异常!")})},Ve=()=>{console.info("fileIdfileId",x);const c=U.value.filter(d=>d.checked);if(console.info("过滤：",c.id),c.length<=0){D.$message.error("必须勾选数据!");return}let l=JSON.parse(JSON.stringify(c));l.forEach(d=>{d.picture=x.value,d.treeSpecies=d.treeSpecies__c,d.category=d.category1,d.paintColor=d.paintColor__c,d.ticketClassification=n.value.problemType,d.ticketProblem=n.value.afterSalesIssues,d.personLiable=n.value.responsiblePerson,d.descriptionOfTicketProblem=n.value.problemDesc});let t={id:L.value[0].id,serviceTicket:f.value.id,serviceTicketId:parseInt(L.value[0].serviceTicketId),serviceCaseId:parseInt(L.value[0].serviceCaseId),details:l};console.info("selectDataselectData",c),!n.value.problemType||!n.value.afterSalesIssues||!n.value.responsiblePerson||!n.value.problemDesc?D.$message.error("必填选项不能为空!"):setTimeout(()=>{ze(t).then(d=>{let h=d.data.data;d.data.code=="success"&&h!=null?(c.forEach(_=>{_.picture=x.value,_.treeSpecies=_.treeSpecies__c,_.category=_.category1,_.paintColor=_.paintColor__c,_.ticketClassification=n.value.problemType,_.ticketProblem=n.value.afterSalesIssues,_.personLiable=n.value.responsiblePerson,_.descriptionOfTicketProblem=n.value.problemDesc}),D.$message.success("提交成功")):D.$message.warning("提交失败，请重试")}).catch(d=>{T({message:"系统异常,提交失败",type:"error"})})},500)},Ie=c=>{R.value=Z.value[c],n.value.afterSalesIssues=[]},xe=c=>{J.value.forEach(l=>{l.checked=c})};return(c,l)=>{const t=V("el-table-column"),d=V("el-table"),h=V("el-button"),_=V("el-option"),g=V("el-select"),C=V("el-input"),G=V("el-icon"),K=V("el-upload"),$=V("el-dialog"),Q=V("el-checkbox");return r(),y("div",Re,[e("span",Je,[He,e("span",Ge,[e("span",Ke,[e("span",{class:b(v.value==1?"num_selected":"num")},"1",2),e("span",{class:b(v.value>=1?"name_selected":"name")},"开始",2)]),e("span",Qe,[e("span",{class:b(v.value==2?"num_selected":"num")},"2",2),e("span",{class:b(v.value>=2?"name_selected":"name")},"已提报问题",2)]),e("span",Xe,[e("span",{class:b(v.value==3?"num_selected":"num")},"3",2),e("span",{class:b(v.value>=3?"name_selected":"name")},"售后审核",2)]),e("span",Ye,[e("span",{class:b(v.value==4?"num_selected":"num")},"4",2),e("span",{class:b(v.value>=4?"name_selected":"name")},"已定损",2)]),e("span",Ze,[e("span",{class:b(v.value==5?"num_selected":"num")},"5",2),e("span",{class:b(v.value>=5?"name_selected":"name")},"定责发起",2)]),e("span",es,[e("span",{class:b(v.value==6?"num_selected":"num")},"6",2),e("span",{class:b(v.value>=6?"name_selected":"name")},"已提交OA审批",2)]),e("span",ss,[e("span",{class:b(v.value==7?"num_selected":"num")},"7",2),e("span",{class:b(v.value>=7?"name_selected":"name")},"已追责",2)]),e("span",as,[e("span",{class:b(v.value==8?"num_selected":"num")},"8",2),e("span",{class:b(v.value>=8?"name_selected":"name")},"结束",2)])])]),e("span",ls,[os,e("span",ts,[e("span",ns,[e("span",cs,[ds,e("span",is,i(f.value.name),1),A("",!0)]),e("span",ps,[us,e("span",_s,i(f.value.entityType),1)]),e("span",rs,[ms,e("span",hs,i(f.value.ticketSource__c),1)])]),e("span",vs,[e("span",fs,[bs,e("span",ys,i(F.value.po),1)]),e("span",gs,[ks,e("span",ws,i(W.value.caseNo),1)]),Vs]),e("span",Is,[e("span",xs,[Ts,e("span",Ss,i(f.value.distributorDemands__c),1)]),e("span",Ds,[Cs,e("span",Ps,i(f.value.storeName),1)]),e("span",Ls,[Us,e("span",Ns,i(f.value.createdTime),1)])])]),Os,e("span",qs,[e("span",Bs,[e("span",Es,[Ms,e("span",$s,i(f.value.accountName),1)]),e("span",As,[Fs,e("span",Ws,i(f.value.customerPhone__c),1)]),e("span",js,[zs,e("span",Rs,i(f.value.reporter__c),1)])]),e("span",Js,[e("span",Hs,[Gs,e("span",Ks,i(f.value.customerAddress__c),1)])])])]),e("span",Qs,[Xs,e("span",Ys,[a(d,{data:L.value,stripe:!1,style:{width:"100%"}},{default:u(()=>[a(t,{prop:"name",label:"售后处理记录编号"}),a(t,{prop:"text2",label:"生产单号"}),a(t,{prop:"text3",label:"售后审核员"}),a(t,{prop:"text4",label:"处理方式"}),a(t,{prop:"text5",label:"状态"}),a(t,{prop:"text6",label:"退回原因"}),a(t,{prop:"text7",label:"创建时间"}),a(t,{prop:"text8",label:"操作"},{default:u(s=>[e("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:N=>ve(s.row)}," 查看 ",8,Zs)]),_:1})]),_:1},8,["data"])])]),e("span",ea,[e("div",{class:"left"},[sa,e("span",{class:"initiate_comments",onClick:pe},"发起评论")]),e("div",aa,[a(h,{type:"primary",class:"primary_btn",onClick:l[0]||(l[0]=s=>ie(1))},{default:u(()=>[S("完善问题描述")]),_:1})])]),(r(!0),y(k,null,w(j.value,s=>(r(),y("div",{class:"comment",key:s.date},[e("div",la,[oa,e("span",ta,i(s.userName),1)]),e("div",na,i(s.text),1),e("div",ca,i(s.date),1),da,ia]))),128)),e("div",pa,[a($,{modelValue:P.value,"onUpdate:modelValue":l[12]||(l[12]=s=>P.value=s),width:"25%","show-close":!1},{footer:u(()=>[e("div",Ea,[a(h,{class:"cancel_btn",onClick:l[11]||(l[11]=s=>P.value=!1)},{default:u(()=>[S("取消")]),_:1}),a(h,{onClick:ue,type:"primary",class:"primary_btn",style:{"margin-left":"50px !important"}},{default:u(()=>[S("保存")]),_:1})])]),default:u(()=>[e("span",ua,i(B.value==1?"完善问题描述":"定义处理方式"),1),B.value==1?(r(),y("span",_a,[e("span",ra,[ma,a(g,{modelValue:n.value.problemType,"onUpdate:modelValue":l[1]||(l[1]=s=>n.value.problemType=s),placeholder:""},{default:u(()=>[(r(!0),y(k,null,w(E.value,s=>(r(),I(_,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",ha,[va,a(g,{modelValue:n.value.afterSalesIssues,"onUpdate:modelValue":l[2]||(l[2]=s=>n.value.afterSalesIssues=s),placeholder:""},{default:u(()=>[(r(!0),y(k,null,w(z.value,s=>(r(),I(_,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",fa,[ba,a(C,{modelValue:n.value.responsiblePerson,"onUpdate:modelValue":l[3]||(l[3]=s=>n.value.responsiblePerson=s)},null,8,["modelValue"])]),e("span",ya,[ga,a(C,{modelValue:n.value.problemDesc,"onUpdate:modelValue":l[4]||(l[4]=s=>n.value.problemDesc=s)},null,8,["modelValue"])]),e("span",ka,[a(K,{"file-list":n.value.fileList,class:"upload",drag:"",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",multiple:""},{tip:u(()=>[Va]),default:u(()=>[a(G,{class:"el-icon--upload"}),wa]),_:1},8,["file-list"])])])):A("",!0),B.value==2?(r(),y("span",Ia,[e("span",xa,[Ta,a(g,{modelValue:n.value.poductType,"onUpdate:modelValue":l[5]||(l[5]=s=>n.value.poductType=s),placeholder:""},{default:u(()=>[(r(!0),y(k,null,w(ee.value,s=>(r(),I(_,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",Sa,[Da,a(g,{modelValue:n.value.componentType,"onUpdate:modelValue":l[6]||(l[6]=s=>n.value.componentType=s),placeholder:""},{default:u(()=>[(r(!0),y(k,null,w(se.value,s=>(r(),I(_,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",Ca,[Pa,a(g,{modelValue:n.value.badType,"onUpdate:modelValue":l[7]||(l[7]=s=>n.value.badType=s),placeholder:""},{default:u(()=>[(r(!0),y(k,null,w(ae.value,s=>(r(),I(_,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",La,[Ua,a(g,{modelValue:n.value.qualityIndicator1,"onUpdate:modelValue":l[8]||(l[8]=s=>n.value.qualityIndicator1=s),placeholder:""},{default:u(()=>[(r(!0),y(k,null,w(le.value,s=>(r(),I(_,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",Na,[Oa,a(g,{modelValue:n.value.qualityIndicator2,"onUpdate:modelValue":l[9]||(l[9]=s=>n.value.qualityIndicator2=s),placeholder:""},{default:u(()=>[(r(!0),y(k,null,w(oe.value,s=>(r(),I(_,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",qa,[Ba,a(g,{modelValue:n.value.handleWay,"onUpdate:modelValue":l[10]||(l[10]=s=>n.value.handleWay=s),placeholder:""},{default:u(()=>[(r(!0),y(k,null,w(te.value,s=>(r(),I(_,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):A("",!0)]),_:1},8,["modelValue"])]),e("div",Ma,[a($,{modelValue:M.value,"onUpdate:modelValue":l[14]||(l[14]=s=>M.value=s),width:"100%","show-close":!1},{footer:u(()=>[e("div",oo,[a(h,{class:"cancel_btn",onClick:l[13]||(l[13]=s=>M.value=!1)},{default:u(()=>[S("返回")]),_:1})])]),default:u(()=>[$a,e("span",Aa,[e("span",Fa,[e("span",Wa,[e("span",ja,[za,e("span",Ra,i(m.value.name),1)]),e("span",Ja,[Ha,e("span",Ga,i(m.value.distributor),1)]),e("span",Ka,[Qa,e("span",Xa,i(m.value.distributorPhone),1)])]),e("span",Ya,[e("span",Za,[el,e("span",sl,i(m.value.store),1)]),e("span",al,[ll,e("span",ol,i(m.value.storePhone),1)]),e("span",tl,[nl,e("span",cl,i(m.value.orderId),1)])]),e("span",dl,[e("span",il,[pl,e("span",ul,i(m.value.productionOrderNo),1)]),e("span",_l,[rl,e("span",ml,i(m.value.orderType),1)]),e("span",hl,[vl,e("span",fl,i(m.value.status),1)])]),e("span",bl,[e("span",yl,[gl,e("span",kl,i(m.value.accountName),1)]),e("span",wl,[Vl,e("span",Il,i(m.value.customerPhone),1)]),e("span",xl,[Tl,e("span",Sl,i(m.value.customerAddress),1)])]),e("span",Dl,[e("span",Cl,[Pl,e("span",Ll,i(m.value.productionBranch),1)]),e("span",Ul,[Nl,e("span",Ol,i(m.value.supplyBase),1)]),e("span",ql,[Bl,e("span",El,i(m.value.subtotalOfChargebackAmount),1)])]),e("span",Ml,[e("span",$l,[Al,e("span",Fl,i(m.value.auditor),1)]),e("span",Wl,[jl,e("span",zl,i(m.value.reporter),1)]),e("span",Rl,[Jl,e("span",Hl,i(m.value.reporterPhone),1)])]),e("span",Gl,[e("span",Kl,[Ql,e("span",Xl,i(m.value.customerDemands),1)]),e("span",Yl,[Zl,e("span",eo,i(m.value.distributorDemands),1)]),e("span",so,[ao,e("span",lo,i(m.value.investigationOfCause),1)])])]),a(d,{class:"table_dialog3",data:m.value.details,stripe:!1},{default:u(()=>[a(t,{prop:"ticketSolutionId",width:"150px",label:"售后处理记录编号"}),a(t,{prop:"solution",width:"150px",label:"处理方式"}),a(t,{prop:"plannedOrderId",width:"150px",label:"预订单"}),a(t,{prop:"supplementaryOrderId",width:"150px",label:"售后订单"}),a(t,{prop:"orderedDate",width:"150px",label:"下单时间"}),a(t,{prop:"dateOfApproval",width:"150px",label:"审核日期"}),a(t,{prop:"deliveryDate",width:"150px",label:"交货日期"}),a(t,{prop:"accountabilityUnit",width:"150px",label:"责任部门"}),a(t,{prop:"orderId",width:"150px",label:"订单编号"}),a(t,{prop:"",width:"150px",label:"订单明细"}),a(t,{prop:"sku",width:"150px",label:"详单编号"}),a(t,{prop:"barcode",width:"150px",label:"详单条码"}),a(t,{prop:"treeSpecies",width:"150px",label:"树种"}),a(t,{prop:"",label:"尺寸",width:"150px"}),a(t,{prop:"productClassificationSummary",width:"150px",label:"大类汇总"}),a(t,{prop:"model",label:"产品型号",width:"150px"}),a(t,{prop:"productCount",label:"数量",width:"150px"}),a(t,{prop:"suggestion",label:"分析纠正及处理建议",width:"150px"})]),_:1},8,["data"])])]),_:1},8,["modelValue"])]),e("div",to,[a($,{modelValue:q.value,"onUpdate:modelValue":l[21]||(l[21]=s=>q.value=s),title:"售后处理明细",width:"80% ","show-close":!1},{footer:u(()=>[e("div",bo,[a(h,{class:"cancel_btn",onClick:l[20]||(l[20]=s=>q.value=!1)},{default:u(()=>[S("取消")]),_:1}),a(h,{onClick:Ve,type:"primary",class:"primary_btn",style:{"margin-left":"50px !important"}},{default:u(()=>[S("提交")]),_:1})])]),default:u(()=>[e("div",no,[a(d,{ref_key:"multipleTableRef",ref:ye,"selection-change":ke,data:U.value,stripe:!1,style:{width:"100%",overflow:"auto"},"max-height":"300"},{default:u(()=>[a(t,{prop:"checked",label:"全选",width:"80px"},{header:u(()=>[a(Q,{onChange:xe},{default:u(()=>[S("全选")]),_:1})]),default:u(s=>[a(Q,{modelValue:s.row.checked,"onUpdate:modelValue":N=>s.row.checked=N},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(t,{prop:"orderPo",label:"订单编号"}),a(t,{prop:"sku",label:"详单编号"}),a(t,{prop:"category1",label:"产品大类"}),a(t,{prop:"fscProductModel",label:"产品型号"}),a(t,{prop:"treeSpecies__c",label:"树种"}),a(t,{prop:"paintColor__c",label:"油漆颜色 "}),a(t,{prop:"fscProductSpec",label:"尺寸 "}),a(t,{prop:"ticketClassification",label:"问题大类"},{default:u(s=>{var N;return[e("div",co,i(s.row.ticketClassification?(N=E.value.find(Te=>Te.code==s.row.ticketClassification))==null?void 0:N.name:""),1)]}),_:1}),a(t,{prop:"ticketProblem",label:"售后问题 "}),a(t,{prop:"",label:"责任人 "}),a(t,{prop:"descriptionOfTicketProblem",label:"问题描述 "})]),_:1},8,["data"])]),e("div",io,[po,a(g,{modelValue:n.value.problemType,"onUpdate:modelValue":l[15]||(l[15]=s=>n.value.problemType=s),placeholder:"",onChange:Ie},{default:u(()=>[(r(!0),y(k,null,w(E.value,s=>(r(),I(_,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),uo,a(g,{multiple:"","collapse-tags":"",modelValue:n.value.afterSalesIssues,"onUpdate:modelValue":l[16]||(l[16]=s=>n.value.afterSalesIssues=s),placeholder:""},{default:u(()=>[(r(!0),y(k,null,w(R.value,s=>(r(),I(_,{key:s.code,label:s.name,value:s.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),_o,a(C,{modelValue:n.value.responsiblePerson,"onUpdate:modelValue":l[17]||(l[17]=s=>n.value.responsiblePerson=s),style:{width:"240px"},placeholder:"请输入责任人"},null,8,["modelValue"])]),e("div",ro,[mo,a(C,{modelValue:n.value.problemDesc,"onUpdate:modelValue":l[18]||(l[18]=s=>n.value.problemDesc=s),style:{width:"440px"},rows:2,type:"textarea",placeholder:"请输入问题描述"},null,8,["modelValue"])]),ho,e("div",vo,[e("span",fo,[a(K,{"on-success":fe,"on-remove":be,"auto-upload":!0,data:H.value,headers:ne.value,"before-upload":ce,"list-type":"picture-card",class:"avatar-uploader",action:"https://sh.mengtian.com.cn:9595/md/api/common/file/upload","show-file-list":!0,"file-list":n.value.fileList,"onUpdate:fileList":l[19]||(l[19]=s=>n.value.fileList=s)},{default:u(()=>[a(G,null,{default:u(()=>[a(Ee(Me))]),_:1})]),_:1},8,["data","headers","file-list"])])])]),_:1},8,["modelValue"])])])}}}),Io=Ae(yo,[["__scopeId","data-v-9fba5f1f"]]);export{Io as default};
