import{d as V,g as w,r as u,u as B,a as x,c as h,b as n,e as p,w as c,l as C,f as g,p as U,h as D,o as m,t as F,i as f,s as y,_ as M}from"./index-CXdlkYQW.js";const R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAYdJREFUSEu1lDFLA0EQhWcuCIIgin9AQSRBLAQbbbRNp4KFegfaaCEIlskmGNAkloIiKILh7gTRIjaKlbWNxELInljkF9gG0exIEhJNvE2yC7lyb+fbN483g9ClD7vEBS3wuJkeLRkiDEIMVYShUeAOy/wVqQyeWEkPfgXEh0+nz9xhU7VzZXDQ3EsAGrt+FgrChTc3eltpQtXjkJm8J4SwpG69ZokyOGglSSomYIzwTKSgpVgGJoQXz2aT+h5b+y4ArjarJsBDz4nuaIPLhSErdU1ASw3xEjSdv4w9aYMlqbjiDlvWzrEsakQi7Lnxh5bganFgFoDmyheJ4MRz2ZZf+1UQHnAnGmn2vB634bXEQG+p5w4AZv5fwptmT6tMyHKbLfrFrw4eM1PzBlJWZWC4w6RzUP/RalTb7YWWihXAZ9xhm+06+1VsJTcA4FRegI+I4jhvxzqyq8Ejn3EtAkCOSJx7bvyinUpp3GoLHAGKhEbuu7/v9f1o+1MFqD15nT6ivDY7Bf8ADkOHFwvZKY0AAAAASUVORK5CYII=",G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAihJREFUSEvN1E9o01AcB/Dv7yVZb0MFFQ/zMmbrpidXsEykguBBFCtOxBlF9KzCDqJdMWDrQBTBu0VMnSD4BwVRT70JdijI6hqVXRQsTLzMS9fk/ST749o1aSJSMMe87/vk9977vRA69FCHXISCtx7P7mZBoxA0SJJvb/xWv1ksGna7otrC245lexyVRplwvglhlARw42Mh/dAPb4Fjem4fWCZAYieABIBu38oIFZKYlMQlEBWte+kPy9kmOKpnhwnkW0XQeSgs+sqFS1/cXBMcO3HVAIkrQYDvOMs9lUKm+L/CVIagU2DeBObnC6v494qprEgcXd83/6k6oz0A48jfwHcrZvp0TM89A3BgZV8XUTuifCXbdtH9f8b8Ko7q2QsEurUUnFJYpFCrVZ2I9hKEIWARrXVhVrUxAfDexoN0IPs/m5nplsPbMjIeF0K+bQi/qaN+SCFVEyxeuSh1yTnHpgkGdq3qjncVM73Ds4+TSUP93qPNErBmZXn82l7bfTDy81ev1NQ6O/Z9gOMeLXe5YqbHPWH3Zexk7jEYqVUTH4HlFIRyGMzbvfqYwXHLHJv0hQfOGOucee09gM1hLwqD71jm2NnGvOdPaGDkWr8juBwOpjJrSsLKX5wLhN1AVM8OEqgUgP8Ay+HlaxwKdkO9urFBIy3f1KtLswnIS5bXrULG8vp44I8+aRhqdUY9R4wUAzEATwj8dNrMvGi3mkA43D63pjoG/waphdwXWEUOPAAAAABJRU5ErkJggg==",d=A=>(U("data-v-f2a4b120"),A=A(),D(),A),X={class:"main"},J={class:"login_box"},Q=d(()=>n("div",{class:"desc"},"欢迎进入客户端系统",-1)),T={class:"content"},O=d(()=>n("span",{class:"title"},"登录",-1)),q=d(()=>n("img",{src:R,alt:""},null,-1)),K=d(()=>n("img",{src:G,alt:""},null,-1)),N={key:0,class:"sendCode"},Y={class:"checkbox_btn"},j=d(()=>n("span",{class:"protocol"},"《自助服务隐私协议》",-1)),W=V({__name:"index",setup(A){const{proxy:s}=w(),i=u(!1),b=B(),e=x({phone:"",code:""}),l=u(0),_=u(null),I=()=>{if(!e.phone){s.$message.error("手机号不能为空!");return}if(!/^1[3-9]\d{9}$/.test(e.phone)){s.$message.error("手机号不合法!");return}y({phone:e.phone}).then(o=>{var a;let t=o.data;t.code=="success"&&(e.code=(a=t.data)==null?void 0:a.captcha,l.value=60,S())})},E=()=>{if(!e.phone){s.$message.error("手机号不能为空!");return}if(!/^1[3-9]\d{9}$/.test(e.phone)){s.$message.error("手机号不合法!");return}if(!e.code){s.$message.error("验证码不能为空!");return}if(!i.value){s.$message.error("请勾选自服务隐私协议");return}C({phone:e.phone,captcha:e.code,userType:1}).then(o=>{let t=o.data;if(t.code=="success"){let a=t.data||{};b.setUserInfo(a),s.$router.push("/main")}else s.$message.error(o==null?void 0:o.message)})},S=()=>{_.value=setInterval(()=>{l.value>0?l.value-=1:clearInterval(_.value)},1e3)};return(v,o)=>{const t=g("el-input"),a=g("el-button"),k=g("el-checkbox");return m(),h("div",X,[n("div",J,[Q,n("div",T,[O,p(t,{class:"phone",placeholder:"请输入手机号",modelValue:e.phone,"onUpdate:modelValue":o[0]||(o[0]=r=>e.phone=r)},{prepend:c(()=>[q]),_:1},8,["modelValue"]),p(t,{class:"code",placeholder:"请输入验证码",modelValue:e.code,"onUpdate:modelValue":o[1]||(o[1]=r=>e.code=r)},{prepend:c(()=>[K]),append:c(()=>[l.value>0?(m(),h("span",N,F(l.value)+"s",1)):(m(),h("span",{key:1,class:"sendCode",onClick:I},"发送验证码"))]),_:1},8,["modelValue"]),p(a,{class:"login_btn",onClick:E},{default:c(()=>[f("登录")]),_:1}),n("span",Y,[p(k,{modelValue:i.value,"onUpdate:modelValue":o[2]||(o[2]=r=>i.value=r)},{default:c(()=>[f("已通知并阅读"),j]),_:1},8,["modelValue"])])])])])}}}),Z=M(W,[["__scopeId","data-v-f2a4b120"]]);export{Z as default};
