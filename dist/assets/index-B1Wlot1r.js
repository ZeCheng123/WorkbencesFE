import{_ as Ze,a as ea,b as aa}from"./tips-DfmWQaVF.js";import{_ as la}from"./add-CRTT_dyr.js";import{d as sa,g as ta,r as d,y as oa,k as ce,a as ie,c as y,b as e,e as s,w as t,s as g,x as b,q as L,F as w,v as D,m as na,z as da,f as x,p as ca,h as ia,o as r,i as _,n as h,u as f,E as Y,_ as ra}from"./index-zSdT-s-c.js";import{h as ua,e as re,o as j,p as pa,d as ma}from"./common-Bv_4f9YQ.js";const c=O=>(ca("data-v-1e321ec6"),O=O(),ia(),O),_a={class:"main"},va={class:"header"},fa={class:"title"},ba=c(()=>e("span",null,"问题提报状态",-1)),ha={class:"step"},ya={class:"item"},ga={class:"item"},xa={class:"item"},Va={class:"problem_report_info"},Ca=c(()=>e("span",{class:"title"},"问题提报详情",-1)),ka={class:"main_field"},wa={class:"row_field"},Da={class:"field"},Sa=c(()=>e("span",{class:"label"},"问题编号：",-1)),Ta={class:"value"},Ia={class:"field"},La=c(()=>e("span",{class:"label"},"专卖店名称：",-1)),Ua={class:"value"},qa={class:"field"},Pa=c(()=>e("span",{class:"label"},"问题类别：",-1)),Na={class:"value"},$a={class:"row_field"},Oa={class:"field"},Ma=c(()=>e("span",{class:"label"},"订单编号：",-1)),Ea={class:"value"},Ba={class:"field"},Ja=c(()=>e("span",{class:"label"},"负责人：",-1)),Fa={class:"value"},Ya={class:"field"},ja=c(()=>e("span",{class:"label"},"创建时间：",-1)),za={class:"value"},Ra={class:"row_field"},Ha={class:"field"},Aa=c(()=>e("span",{class:"label"},"问题描述：",-1)),Wa={class:"value"},Ga=c(()=>e("span",{class:"title"},"其他字段",-1)),Ka={class:"other_field"},Qa={class:"row_field"},Xa={class:"field"},Za=c(()=>e("span",{class:"label"},"客户姓名：",-1)),el={class:"value"},al={class:"field"},ll=c(()=>e("span",{class:"label"},"客户手机号：",-1)),sl={class:"value"},tl={class:"field"},ol=c(()=>e("span",{class:"label"},"来源：",-1)),nl={class:"value"},dl={class:"row_field"},cl={class:"field"},il=c(()=>e("span",{class:"label"},"省份：",-1)),rl={class:"value"},ul={class:"field"},pl=c(()=>e("span",{class:"label"},"城市：",-1)),ml={class:"value"},_l={class:"field"},vl=c(()=>e("span",{class:"label"},"区：",-1)),fl={class:"value"},bl=na('<span class="row_field" data-v-1e321ec6><span class="field" data-v-1e321ec6><span class="label" data-v-1e321ec6>经销商内部提报：</span><span class="value" data-v-1e321ec6>复选框</span></span><span class="field" data-v-1e321ec6><span class="label" data-v-1e321ec6>提报人：</span><span class="value" data-v-1e321ec6>王工</span></span><span class="field" data-v-1e321ec6><span class="label" data-v-1e321ec6>提报人电话：</span><span class="value" data-v-1e321ec6>16822822288</span></span></span>',1),hl={class:"related_documents"},yl=c(()=>e("span",{class:"title"},"相关单据",-1)),gl={class:"action_list"},xl=c(()=>e("img",{src:Ze,alt:""},null,-1)),Vl={class:"right"},Cl={class:"userinfo"},kl=c(()=>e("img",{src:ea,alt:""},null,-1)),wl={class:"username"},Dl={class:"content"},Sl={class:"date"},Tl=c(()=>e("span",{class:"reply"},"回复",-1)),Il=c(()=>e("img",{class:"tips",src:aa,alt:""},null,-1)),Ll={class:"showMainDialog"},Ul={class:"step"},ql={class:"item"},Pl=c(()=>e("span",{class:"name"},[_("确认问题订单 "),e("span",{class:"remark"},"选择或确认问题订单")],-1)),Nl={class:"item"},$l=c(()=>e("span",{class:"name"},[_("完善必填信息 "),e("span",{class:"remark"},"完善问题描述与处理方式")],-1)),Ol={class:"item"},Ml=c(()=>e("span",{class:"name"},[_("提交升级 "),e("span",{class:"remark"},"提交售后至总部")],-1)),El={class:"form_row"},Bl=c(()=>e("span",{class:"label required"},"订单编号",-1)),Jl={class:"form_row"},Fl=c(()=>e("span",{class:"label"},"升级备注",-1)),Yl={class:"desc_action"},jl=c(()=>e("span",{class:"desc"},"搜索和选择/批量编辑问题产品",-1)),zl={class:"action"},Rl={class:"search"},Hl={class:"filter_list"},Al={class:"table"},Wl={class:"responsibilityPerson"},Gl=c(()=>e("span",{class:"label required"},"问题大类",-1)),Kl=c(()=>e("span",{class:"label required"},"售后问题",-1)),Ql=c(()=>e("span",{class:"label required"},"责任人",-1)),Xl={class:"responsibilityPerson"},Zl=c(()=>e("span",{class:"label required"},"问题描述",-1)),es=c(()=>e("div",{class:"responsibilityPerson"},[e("span",{class:"label"},"上传文件")],-1)),as={class:"containerUpload"},ls={class:"item"},ss=c(()=>e("div",{class:"el-upload__text"},"将文件拖至此处 或 点击上传",-1)),ts=c(()=>e("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1)),os={class:"dialog-footer"},ns={class:"deliveryOrderDialog"},ds={class:"step"},cs={class:"item"},is=c(()=>e("span",{class:"remark"},"选择配送货品的司机",-1)),rs={class:"item"},us=c(()=>e("span",{class:"remark"},"如有,请填写关键备注",-1)),ps={class:"item"},ms=c(()=>e("span",{class:"remark"},"等待司机配送",-1)),_s={class:"content"},vs=c(()=>e("span",{class:"custom_item"},[e("img",{src:la,alt:""})],-1)),fs={class:"dialog-footer"},bs={class:"relatedDocumentsDialog"},hs={class:"content"},ys={class:"tableItem"},gs=c(()=>e("span",{class:"tableTitle"}," 1. 售后工单 ",-1)),xs={class:"tableContent"},Vs=["onClick"],Cs={class:"tableItem"},ks=c(()=>e("span",{class:"tableTitle"}," 2. 派工单 ",-1)),ws={class:"tableContent"},Ds=["onClick"],Ss={class:"dialog-footer"},Ts=sa({__name:"index",setup(O){const{proxy:U}=ta(),z=d([]),V=d(1),C=oa(),ue=d(C.query.id),R=d(C.query.neoid),pe=C.query.status!=null?parseInt(C.query.status.toString(),0)+1:1,M=d(!1),N=d(!1),H=d([]),A=d([]),me=d([]),v=d({orderNo:"",remark:"",searchValue:"",orderType:"1",productType:"1",productModel:"1",treeSpecies:"1",paintColor:"1",size:"1"}),k=d({serviceTicketId:0,problemType:"",afterSalesIssues:"",responsiblePerson:"",problemDesc:"",fileList:[],poductType:"",componentType:"",badType:"",qualityIndicator1:"",qualityIndicator2:"",handleWay:""}),_e=d([{code:"1",name:"经销商问题"},{code:"2",name:"公司问题"},{code:"3",name:"物流问题"}]),ve=d([{code:"1",name:"店面测量师漏单"},{code:"2",name:"店面测量师量错"},{code:"3",name:"店里设计师漏分解"},{code:"4",name:"店里设计师分解错"},{code:"5",name:"店里设计不合理"},{code:"6",name:"店里下单员漏单"},{code:"7",name:"店里下单员下错"},{code:"8",name:"店里安装师问题"},{code:"9",name:"消费者补单"},{code:"10",name:"消费者使用不当"},{code:"11",name:"产品丢失"}]);d([{code:"1",name:"墙板"},{code:"2",name:"线条"},{code:"3",name:"五金"},{code:"4",name:"门套"},{code:"5",name:"门扇"},{code:"6",name:"柜体"},{code:"7",name:"柜门"},{code:"8",name:"玻璃"},{code:"9",name:"挂板"},{code:"10",name:"罗马柱"},{code:"11",name:"帽头"},{code:"12",name:"装饰块"},{code:"13",name:"雕花件"},{code:"14",name:"色板"},{code:"15",name:"整单"},{code:"16",name:"入户门"}]),d([{code:"1",name:"边梃"},{code:"2",name:"挂线条"},{code:"3",name:"芯板"},{code:"4",name:"金属条"},{code:"5",name:"码头"},{code:"6",name:"封边"},{code:"7",name:"L边"},{code:"8",name:"整体"},{code:"9",name:"面板执手"},{code:"10",name:"锁体"},{code:"11",name:"铰链"},{code:"12",name:"铰链底座"},{code:"13",name:"灯带"},{code:"14",name:"抽屉轨道"},{code:"15",name:"三合一"},{code:"16",name:"其他五金"},{code:"17",name:"档条"},{code:"18",name:"密封条"},{code:"19",name:"套板"},{code:"20",name:"门套"},{code:"21",name:"玻璃"},{code:"22",name:"门标"},{code:"23",name:"门芯板"},{code:"24",name:"配件"},{code:"25",name:"五金配件"},{code:"26",name:"8属边"},{code:"27",name:"背板"},{code:"28",name:"层板"},{code:"29",name:"抽屉板"},{code:"30",name:"底板"},{code:"31",name:"顶板"},{code:"32",name:"台面板"},{code:"33",name:"立板"},{code:"34",name:"侧板"},{code:"35",name:"踢脚板"},{code:"36",name:"五金件"},{code:"37",name:"挂板"},{code:"38",name:"罗马柱"},{code:"39",name:"帽头"},{code:"40",name:"装饰块"},{code:"41",name:"雕花件"},{code:"42",name:"色板"},{code:"43",name:"整单"},{code:"44",name:"修补漆"},{code:"45",name:"入户门扇"}]),d([{code:"1",name:"消费者"},{code:"2",name:"经销商"},{code:"3",name:"订单分解"},{code:"4",name:"备料"},{code:"5",name:"加工"},{code:"6",name:"免漆加工"},{code:"7",name:"油漆"},{code:"8",name:"少货"},{code:"9",name:"包装问题"},{code:"10",name:"五金问题"},{code:"11",name:"辅料问题"},{code:"12",name:"仓库发货"},{code:"13",name:"物流送达"},{code:"14",name:"系统问题"},{code:"15",name:"新品设计问题"},{code:"16",name:"隔音等级"},{code:"17",name:"受潮"},{code:"18",name:"无法提供证明的少货"},{code:"19",name:"交期延误"},{code:"20",name:"霉变"},{code:"21",name:"气味"},{code:"22",name:"长虫"},{code:"23",name:"过质保期"},{code:"24",name:"变色"},{code:"25",name:"入户门问题"}]),d({}),d([{code:"1",name:"订单分解错"},{code:"2",name:"订单漏分解"},{code:"3",name:"变形"}]),d([{code:"1",name:"漏备注"},{code:"2",name:"产品漏分解"},{code:"3",name:"配件漏分解"},{code:"4",name:"五金漏分解"},{code:"5",name:"孔位漏分解"}]),d([{label:"处理方式",value:"1"}]);const T=d(1),P=d(!1),fe=d(!1),be=d(1);ce(()=>{Ne()}),d({value1:"1",value2:"1",value3:"1",value4:"1",value5:"1",value6:"1"});const he=()=>{V.value=2},ye=d({taskid:C.query.id,serviceCaseNeoId:C.query.serviceCaseId,orderId:C.query.orderId,taskStatus:pe,accountName:C.query.accountName,distributorName:C.query.distributorName,followerName:C.query.followerName,createdTime:C.query.createdTime,createdBy:C.query.createdBy});let i=ie({fieldJobContactName:"",contactTelephone:"",priority:"",type:"配送派工",remark:"",appointmentStartTime:"",appointmentEndTime:"",haveInstallConditions:!1,fieldJobOrderId:C.query.orderId,fieldJobType__c:0,stage__c:0,name:ye.value.accountName+"的配送派工单",fileList:[],filePath:[],followerId:null});const W=ie({followerId:[{required:!0,message:"Please input username",trigger:"blur"}],fieldJobContactName:[{required:!0,message:"Please input username",trigger:"blur"}],contactTelephone:[{required:!0,message:"Please input phone",trigger:"blur"}],priority:[{required:!0,message:"Please input priority",trigger:"blur"}],appointmentStartTime:[{required:!0,message:"Please input appointment start time",trigger:"blur"}],appointmentEndTime:[{required:!0,message:"Please input appointment end time",trigger:"blur"}]}),ge=o=>{o.response},xe=o=>{if(console.log(o),o.code=="success"){let l=o.data.map(n=>n.fileUrl);i.filePath=i.filePath.concat(l)}},G=d({files:[],name:"files"}),Ve=d({Content:"application/json",Authorization:"",isImage:"true",needFileId:"true","Trace-Id":""}),Ce=o=>{let l=A.value.find(n=>n.id==o);l&&(i.fieldJobContactName=l.name,i.contactTelephone=l.phone)},K=d([]);d([]);const ke=d([{label:"全部订单",value:"1"}]),we=d([{label:"产品大类",value:"1"}]),De=d([{label:"产品型号",value:"1"}]),Se=d([{label:"树种",value:"1"}]),Te=d([{label:"油漆颜色",value:"1"}]),Ie=d([{label:"尺寸",value:"1"}]);d([{text1:"CS0011-06665-01",text2:"门套",text3:"示例字段...",text4:"混油米灰1#",text5:"2021-02-28 10:30:50",text6:""},{text1:"CS0011-06665-01",text2:"门套",text3:"示例字段...",text4:"混油米灰1#",text5:"2021-02-28 10:30:50",text6:""},{text1:"CS0011-06665-01",text2:"门套",text3:"示例字段...",text4:"混油米灰1#",text5:"2021-02-28 10:30:50",text6:""},{text1:"CS0011-06665-01",text2:"门套",text3:"示例字段...",text4:"混油米灰1#",text5:"2021-02-28 10:30:50",text6:""}]),d([{text1:"SU2024030101",text2:"已评价",text3:"其他",text4:"满意",text5:"2021-02-28 10:30:50",text6:""}]),d([]);const Le=d([{text1:"456",text2:"交付任务",text3:"2222",text4:"进行中",text5:"2021-02-28 10:30:50",text6:""}]),Ue=d([{text1:"123",text2:"交付任务",text3:"1111",text4:"进行中",text5:"2021-02-28 10:30:50",text6:""}]),qe=d([{code:"1",name:"配送技工"},{code:"2",name:"安装技工"},{code:"3",name:"终端用户"},{code:"4",name:"经销商"}]),m=d({}),Q=d([]),X=d([]),Z=d([]);ce(()=>{Pe(),Be(),Je(),Fe()});const Pe=()=>{ua({id:ue.value,neoid:R.value==null?"":R.value}).then(o=>{let l=o.data;l.code=="success"?(m.value=l.data,v.value.orderNo=m.value.orderNeoId):U.$message.error(l==null?void 0:l.message)})},E=o=>{V.value=o},Ne=()=>{re({deliveryDate:"",status__c:"",orderType__c:"",transactionDate:"",po:"",accountName:"",accountPhone:""}).then(l=>{let n=l.data;n.code=="success"?H.value=n.data:U.$message.error(n==null?void 0:n.message)})},$e=()=>{P.value=!0},B=o=>{T.value=o},ee=o=>{be.value=o,P.value=!1,fe.value=!0},Oe=()=>{v.value.orderNo?(T.value=2,je(v.value.id)):U.$message.error("订单号不能为空!")},Me=()=>{!k.value.problemType||!k.value.afterSalesIssues||!k.value.responsiblePerson||!k.value.problemDesc?U.$message.error("必填选项不能为空!"):(U.$message.success("提交成功!"),setTimeout(()=>{P.value=!1,ze()},500))},ae=()=>{da.prompt("请填写评论内容","发起评论",{inputPattern:/\S/,inputErrorMessage:"评论内容不能为空!",confirmButtonText:"确认",cancelButtonText:"取消"}).then(({value:o})=>{z.value.push({userName:"经销商",text:o,date:new Date().toLocaleString()})}).catch(()=>{})},Ee=()=>{N.value=!0},Be=()=>{j("province").then(o=>{let l=o.data;l.code=="success"&&(Q.value=l.data)})},Je=()=>{j("city").then(o=>{let l=o.data;l.code=="success"&&(X.value=l.data)})},Fe=()=>{j("district").then(o=>{let l=o.data;l.code=="success"&&(Z.value=l.data)})},Ye=o=>{G.value.files.push(o)},je=o=>{re({po:""}).then(n=>{console.log(n),n.data.code=="success"?K.value=n.data.data:U.$message.error("数据异常!")})},ze=()=>{let o=k.value;pa(o).then(l=>{console.log(l)})},Re=()=>{let o=i;o.picture=o.filePath.join(","),o.goodsPicture=o.filePath.join(","),ma(o).then(l=>{let n=l.data.data;me.value.push(n),n!=null?Y({message:"新增派工单成功",type:"success"}):Y({message:"新增派工单失败",type:"error"}),Object.keys(i).forEach(p=>{!p.includes("type")&&!p.includes("haveInstallConditions")&&p!=="fieldJobOrderId"&&p!=="fieldJobType__c"&&p!=="stage__c"&&p!=="name"&&(i[p]=""),p==="haveInstallConditions"&&(i[p]=!1),(p=="fileList"||p=="filePath")&&(i[p]=[])})}).catch(l=>{Y({message:"请求新增派工单失败，请重试",type:"error"}),Object.keys(i).forEach(n=>{n!=="type"&&n!=="haveInstallConditions"&&n!=="fieldJobOrderId"&&n!=="fieldJobType__c"&&n!=="stage__c"&&n!=="name"&&(i[n]=""),n=="haveInstallConditions"&&(i[n]=!1),(n=="fileList"||n=="filePath")&&(i[n]=[])}),console.error("请求新增派工单失败:",l)}),N.value=!1,V.value=1},He=o=>{U.$router.push({path:"/aftersales_workorder_details",query:{id:1}})},Ae=o=>{U.$router.push({path:"/dispatch_details",query:{id:69}})},We=o=>o?Q.value.find(l=>l.optionCode==o).optionLabel:"",Ge=o=>o?X.value.find(l=>l.optionCode==o).optionLabel:"",Ke=o=>o?Z.value.find(l=>l.optionCode==o).optionLabel:"";return(o,l)=>{var de;const n=x("el-button"),p=x("el-option"),S=x("el-select"),q=x("el-input"),le=x("el-checkbox"),u=x("el-table-column"),J=x("el-table"),Qe=x("upload-filled"),se=x("el-icon"),te=x("el-upload"),F=x("el-dialog"),I=x("el-form-item"),oe=x("el-date-picker"),ne=x("el-form"),Xe=x("Plus");return r(),y("div",_a,[e("span",va,[e("span",fa,[ba,s(n,{class:"btn",onClick:$e},{default:t(()=>[_("升级到总部 (售后)")]),_:1})]),e("span",ha,[e("span",ya,[e("span",{class:g(m.value.clientCaseStatusC==1?"num_selected":"num")},"1",2),e("span",{class:g(m.value.clientCaseStatusC>=1?"name_selected":"name")},"待处理",2)]),e("span",ga,[e("span",{class:g(m.value.clientCaseStatusC==2?"num_selected":"num")},"2",2),e("span",{class:g(m.value.clientCaseStatusC>=2?"name_selected":"name")},"处理中",2)]),e("span",xa,[e("span",{class:g(m.value.clientCaseStatusC==3?"num_selected":"num")},"3",2),e("span",{class:g(m.value.clientCaseStatusC>=3?"name_selected":"name")},"已完成",2)])])]),e("span",Va,[Ca,e("span",ka,[e("span",wa,[e("span",Da,[Sa,e("span",Ta,b(m.value.caseNo),1),L("",!0)]),e("span",Ia,[La,e("span",Ua,b(m.value.storeName),1)]),e("span",qa,[Pa,e("span",Na,b(m.value.questionType=="1"?"售后保修":"投诉建议"),1)])]),e("span",$a,[e("span",Oa,[Ma,e("span",Ea,b(m.value.orderNeoId),1)]),e("span",Ba,[Ja,e("span",Fa,b(m.value.responsibleSubject),1)]),e("span",Ya,[ja,e("span",za,b(m.value.estimatedResolutionDate),1)])]),e("span",Ra,[e("span",Ha,[Aa,e("span",Wa,b(m.value.problemDescription),1)])])]),Ga,e("span",Ka,[e("span",Qa,[e("span",Xa,[Za,e("span",el,b(m.value.caseAccountId),1)]),e("span",al,[ll,e("span",sl,b(m.value.phone),1)]),e("span",tl,[ol,e("span",nl,b(m.value.complaintSourceC?(de=qe.value.find(a=>a.code==m.value.complaintSourceC))==null?void 0:de.name:""),1)])]),e("span",dl,[e("span",cl,[il,e("span",rl,b(We(m.value.province)),1)]),e("span",ul,[pl,e("span",ml,b(Ge(m.value.city)),1)]),e("span",_l,[vl,e("span",fl,b(Ke(m.value.district)),1)])]),bl])]),e("span",hl,[yl,s(n,{class:"btn"},{default:t(()=>[_("1个售后工单")]),_:1}),s(n,{class:"btn"},{default:t(()=>[_("1个派工单")]),_:1}),e("span",{class:"view",onClick:l[0]||(l[0]=a=>M.value=!0)},"点击查看")]),e("span",gl,[e("div",{class:"left"},[xl,e("span",{class:"initiate_comments",onClick:ae},"发起评论")]),e("div",Vl,[s(n,{type:"primary",onClick:ae,class:"primary_btn"},{default:t(()=>[_("编辑")]),_:1}),s(n,{type:"primary",onClick:Ee,class:"primary_btn"},{default:t(()=>[_("创建派工单")]),_:1})])]),(r(!0),y(w,null,D(z.value,a=>(r(),y("div",{class:"comment",key:a.date},[e("div",Cl,[kl,e("span",wl,b(a.userName),1)]),e("div",Dl,b(a.text),1),e("div",Sl,b(a.date),1),Tl,Il]))),128)),e("div",Ll,[s(F,{modelValue:P.value,"onUpdate:modelValue":l[21]||(l[21]=a=>P.value=a),title:"升级到总部 (售后)",width:"80%","show-close":!1},{footer:t(()=>[e("div",os,[s(n,{class:"cancel_btn",onClick:l[20]||(l[20]=a=>P.value=!1)},{default:t(()=>[_("取消")]),_:1}),T.value==1?(r(),h(n,{key:0,onClick:Oe,type:"primary",class:"primary_btn",style:{}},{default:t(()=>[_("下一步")]),_:1})):L("",!0),T.value==2?(r(),h(n,{key:1,onClick:Me,type:"primary",class:"primary_btn",style:{}},{default:t(()=>[_("提交")]),_:1})):L("",!0)])]),default:t(()=>[e("div",Ul,[e("span",ql,[e("span",{onClick:l[1]||(l[1]=a=>B(1)),class:g(T.value==1?"num_selected":"num")},"1",2),Pl]),e("span",Nl,[e("span",{onClick:l[2]||(l[2]=a=>B(2)),class:g(T.value==2?"num_selected":"num")},"2",2),$l]),e("span",Ol,[e("span",{onClick:l[3]||(l[3]=a=>B(3)),class:g(T.value==3?"num_selected":"num")},"3",2),Ml])]),T.value==1?(r(),y(w,{key:0},[e("span",El,[Bl,s(S,{style:{width:"368px"},modelValue:v.value.orderNo,"onUpdate:modelValue":l[4]||(l[4]=a=>v.value.orderNo=a),filterable:"",onChange:l[5]||(l[5]=()=>{}),placeholder:"请选择订单编号"},{default:t(()=>[(r(!0),y(w,null,D(H.value,a=>(r(),h(p,{key:a.po,label:a.po,value:a.po},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("span",Jl,[Fl,s(q,{modelValue:v.value.remark,"onUpdate:modelValue":l[6]||(l[6]=a=>v.value.remark=a),placeholder:"输入自定义备注"},null,8,["modelValue"])])],64)):L("",!0),T.value==2?(r(),y(w,{key:1},[e("div",Yl,[jl,e("span",zl,[s(n,{style:{display:"none"},class:"btn",onClick:l[7]||(l[7]=a=>ee(1))},{default:t(()=>[_("完善问题描述")]),_:1}),s(n,{style:{display:"none"},class:"btn",onClick:l[8]||(l[8]=a=>ee(2))},{default:t(()=>[_("定义处理方式")]),_:1})])]),e("div",Rl,[s(q,{modelValue:v.value.searchValue,"onUpdate:modelValue":l[9]||(l[9]=a=>v.value.searchValue=a),placeholder:"搜索"},null,8,["modelValue"])]),e("div",Hl,[s(S,{modelValue:v.value.orderType,"onUpdate:modelValue":l[10]||(l[10]=a=>v.value.orderType=a)},{default:t(()=>[(r(!0),y(w,null,D(ke.value,a=>(r(),h(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(S,{modelValue:v.value.productType,"onUpdate:modelValue":l[11]||(l[11]=a=>v.value.productType=a)},{default:t(()=>[(r(!0),y(w,null,D(we.value,a=>(r(),h(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(S,{modelValue:v.value.productModel,"onUpdate:modelValue":l[12]||(l[12]=a=>v.value.productModel=a)},{default:t(()=>[(r(!0),y(w,null,D(De.value,a=>(r(),h(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(S,{modelValue:v.value.treeSpecies,"onUpdate:modelValue":l[13]||(l[13]=a=>v.value.treeSpecies=a)},{default:t(()=>[(r(!0),y(w,null,D(Se.value,a=>(r(),h(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(S,{modelValue:v.value.paintColor,"onUpdate:modelValue":l[14]||(l[14]=a=>v.value.paintColor=a)},{default:t(()=>[(r(!0),y(w,null,D(Te.value,a=>(r(),h(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(S,{modelValue:v.value.size,"onUpdate:modelValue":l[15]||(l[15]=a=>v.value.size=a)},{default:t(()=>[(r(!0),y(w,null,D(Ie.value,a=>(r(),h(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",Al,[s(J,{data:K.value,stripe:!1,style:{width:"100%","max-height":"300px",overflow:"auto"}},{default:t(()=>[s(u,{prop:"text1",label:"全选",width:"80px"},{default:t(a=>[s(le,{modelValue:a.text1,"onUpdate:modelValue":$=>a.text1=$},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),s(u,{prop:"orderId",label:"订单编号"}),s(u,{prop:"orderNeoId",label:"详单编号"}),s(u,{prop:"fscProductModel",label:"详单条码"}),s(u,{prop:"category1",label:"产品大类"}),s(u,{prop:"fscProductModel",label:"产品型号"}),s(u,{prop:"treeSpecies__c",label:"树种"}),s(u,{prop:"paintColor__c",label:"油漆颜色 "}),s(u,{prop:"fscProductSpec",label:"尺寸 "}),s(u,{prop:"treeSpecies__c",label:"问题大类"}),s(u,{prop:"color__c",label:"售后问题 "}),s(u,{prop:"text9",label:"责任人 "}),s(u,{prop:"text9",label:"问题描述 "})]),_:1},8,["data"])]),e("div",Wl,[Gl,s(S,{modelValue:k.value.problemType,"onUpdate:modelValue":l[16]||(l[16]=a=>k.value.problemType=a),placeholder:""},{default:t(()=>[(r(!0),y(w,null,D(_e.value,a=>(r(),h(p,{key:a.code,label:a.name,value:a.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),Kl,s(S,{modelValue:k.value.afterSalesIssues,"onUpdate:modelValue":l[17]||(l[17]=a=>k.value.afterSalesIssues=a),placeholder:""},{default:t(()=>[(r(!0),y(w,null,D(ve.value,a=>(r(),h(p,{key:a.code,label:a.name,value:a.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),Ql,s(q,{modelValue:k.value.responsiblePerson,"onUpdate:modelValue":l[18]||(l[18]=a=>k.value.responsiblePerson=a),style:{width:"240px"},placeholder:"请输入责任人"},null,8,["modelValue"])]),e("div",Xl,[Zl,s(q,{modelValue:k.value.problemDesc,"onUpdate:modelValue":l[19]||(l[19]=a=>k.value.problemDesc=a),style:{width:"440px"},rows:2,type:"textarea",placeholder:"请输入问题描述"},null,8,["modelValue"])]),es,e("div",as,[e("span",ls,[s(te,{class:"upload",drag:"",action:"https://sh.mengtian.com.cn:9595/md/api/common/file/upload",multiple:""},{tip:t(()=>[ts]),default:t(()=>[s(se,{class:"el-icon--upload"},{default:t(()=>[s(Qe)]),_:1}),ss]),_:1})])])],64)):L("",!0)]),_:1},8,["modelValue"])]),e("div",ns,[s(F,{modelValue:N.value,"onUpdate:modelValue":l[35]||(l[35]=a=>N.value=a),title:"新建配送派工单",width:"80%","show-close":!1},{footer:t(()=>[e("div",fs,[s(n,{class:"cancel_btn",onClick:l[34]||(l[34]=a=>N.value=!1)},{default:t(()=>[_("取消")]),_:1}),V.value==1?(r(),h(n,{key:0,type:"primary",class:"primary_btn",onClick:he},{default:t(()=>[_("下一步")]),_:1})):L("",!0),V.value==2?(r(),h(n,{key:1,type:"primary",class:"primary_btn",onClick:Re},{default:t(()=>[_("完成")]),_:1})):L("",!0)])]),default:t(()=>[e("div",ds,[e("span",cs,[e("span",{onClick:l[22]||(l[22]=a=>E(1)),class:g(V.value==1?"num_selected":"num")},"1",2),e("span",{class:g(V.value>=1?"name_selected":"name")},[_("选择配送司机 "),is],2)]),e("span",rs,[e("span",{onClick:l[23]||(l[23]=a=>E(2)),class:g(V.value==2?"num_selected":"num")},"2",2),e("span",{class:g(V.value>=2?"name_selected":"name")},[_("输入派工单注意事项 "),us],2)]),e("span",ps,[e("span",{onClick:l[24]||(l[24]=a=>E(3)),class:g(V.value==3?"num_selected":"num")},"3",2),e("span",{class:g(V.value>=3?"name_selected":"name")},[_("完成创建 "),ms],2)])]),e("div",_s,[V.value==1?(r(),h(ne,{key:0,model:f(i),rules:W,ref:"deliveryOrderFormRef","label-width":"90px","label-position":"left"},{default:t(()=>[s(I,{label:"人员名称",prop:"followerId"},{default:t(()=>[s(S,{modelValue:f(i).followerId,"onUpdate:modelValue":l[25]||(l[25]=a=>f(i).followerId=a),onChange:Ce,placeholder:"查找或输入服务人员姓名"},{default:t(()=>[(r(!0),y(w,null,D(A.value,a=>(r(),h(p,{key:a.name,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),vs]),_:1}),s(I,{label:"联系方式",prop:"contactTelephone"},{default:t(()=>[s(q,{modelValue:f(i).contactTelephone,"onUpdate:modelValue":l[26]||(l[26]=a=>f(i).contactTelephone=a),placeholder:"查找或输入配送司机手机号码"},null,8,["modelValue"])]),_:1}),s(I,{label:"预约开始",prop:"appointmentStartTime"},{default:t(()=>[s(oe,{modelValue:f(i).appointmentStartTime,"onUpdate:modelValue":l[27]||(l[27]=a=>f(i).appointmentStartTime=a),type:"datetime",placeholder:"日期/时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),s(I,{label:"预约结束",prop:"appointmentEndTime"},{default:t(()=>[s(oe,{modelValue:f(i).appointmentEndTime,"onUpdate:modelValue":l[28]||(l[28]=a=>f(i).appointmentEndTime=a),type:"datetime",placeholder:"日期/时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),s(I,{label:"是否具备安装条件",class:"check_item"},{default:t(()=>[e("span",null,[s(le,{modelValue:f(i).haveInstallConditions,"onUpdate:modelValue":l[29]||(l[29]=a=>f(i).haveInstallConditions=a)},null,8,["modelValue"])])]),_:1})]),_:1},8,["model","rules"])):L("",!0),V.value==2?(r(),h(ne,{key:1,model:f(i),rules:W,ref:"deliveryOrderFormRef","label-width":"90px","label-position":"left"},{default:t(()=>[s(I,{label:"优先级",prop:"priority"},{default:t(()=>[s(q,{placeholder:"1-最高 2-高 3-中 4-低",modelValue:f(i).priority,"onUpdate:modelValue":l[30]||(l[30]=a=>f(i).priority=a)},null,8,["modelValue"])]),_:1}),s(I,{label:"派工类型",prop:"type"},{default:t(()=>[s(q,{disabled:"",placeholder:"配送派工",modelValue:f(i).type,"onUpdate:modelValue":l[31]||(l[31]=a=>f(i).type=a)},null,8,["modelValue"])]),_:1}),s(I,{label:"派工单备注",class:"customLayout"},{default:t(()=>[s(q,{modelValue:f(i).remark,"onUpdate:modelValue":l[32]||(l[32]=a=>f(i).remark=a),rows:5,type:"textarea",maxlength:"500",placeholder:"请填写派工单备注","show-word-limit":""},null,8,["modelValue"])]),_:1}),s(I,{label:"上传图片",class:"custom_upload"},{default:t(()=>[s(te,{"on-success":xe,"on-remove":ge,"auto-upload":!0,data:G.value,headers:Ve.value,"before-upload":Ye,"file-list":f(i).fileList,"onUpdate:fileList":l[33]||(l[33]=a=>f(i).fileList=a),class:"avatar-uploader",action:"https://sh.mengtian.com.cn:9595/md/api/common/file/upload","show-file-list":!0,"list-type":"picture-card"},{default:t(()=>[s(se,{class:"avatar-uploader-icon"},{default:t(()=>[s(Xe)]),_:1})]),_:1},8,["data","headers","file-list"])]),_:1})]),_:1},8,["model","rules"])):L("",!0)])]),_:1},8,["modelValue"])]),e("div",bs,[s(F,{modelValue:M.value,"onUpdate:modelValue":l[37]||(l[37]=a=>M.value=a),title:"相关单据",width:"80%","show-close":!1},{footer:t(()=>[e("div",Ss,[s(n,{type:"primary",class:"primary_btn",onClick:l[36]||(l[36]=a=>M.value=!1)},{default:t(()=>[_("返回")]),_:1})])]),default:t(()=>[e("div",hs,[e("span",ys,[gs,e("span",xs,[s(J,{data:Le.value,stripe:!1,style:{width:"100%"}},{default:t(()=>[s(u,{prop:"text1",label:"售后工单编号"}),s(u,{prop:"text2",label:"类别"}),s(u,{prop:"text3",label:"负责人"}),s(u,{prop:"text3",label:"状态"},{default:t(a=>[s(n,{class:"statusing",onClick:$=>console.log(a)},{default:t(()=>[_("进行中")]),_:2},1032,["onClick"])]),_:1}),s(u,{prop:"updatedTime",label:"修改时间"}),s(u,{label:"操作",width:"80px"},{default:t(a=>[e("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:$=>He(a.row)}," 查看 ",8,Vs)]),_:1})]),_:1},8,["data"])])]),e("span",Cs,[ks,e("span",ws,[s(J,{data:Ue.value,stripe:!1,style:{width:"100%"}},{default:t(()=>[s(u,{prop:"text1",label:"派工单编号"}),s(u,{prop:"text2",label:"类别"}),s(u,{prop:"text3",label:"负责人"}),s(u,{prop:"text3",label:"状态"},{default:t(a=>[s(n,{class:"statusing",onClick:$=>console.log(a)},{default:t(()=>[_("进行中")]),_:2},1032,["onClick"])]),_:1}),s(u,{prop:"text5",label:"修改时间"}),s(u,{prop:"text7",label:"操作",width:"80px"},{default:t(a=>[e("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:$=>Ae(a.row)}," 查看 ",8,Ds)]),_:1})]),_:1},8,["data"])])])])]),_:1},8,["modelValue"])])])}}}),Ps=ra(Ts,[["__scopeId","data-v-1e321ec6"]]);export{Ps as default};
