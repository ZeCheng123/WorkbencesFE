import{_ as $,a as E,b as F,c as L}from"./download-B3fRz18S.js";import{g as q}from"./common-C989s-vj.js";import{d as z,g as J,a as O,r as b,k as j,E as h,c as V,b as l,e,w as o,f as r,p as A,h as G,o as g,F as H,v as K,n as Q,i as y,x as C,_ as R}from"./index-yO3R9-1p.js";const m=u=>(A("data-v-36a37a5d"),u=u(),G(),u),W={class:"main"},X=m(()=>l("span",{class:"header"}," 交付任务 ",-1)),Y={class:"search"},Z={class:"left"},ee=m(()=>l("span",{style:{width:"336px",height:"32px"}},null,-1)),te={class:"right"},ae=m(()=>l("img",{src:E,alt:""},null,-1)),oe=m(()=>l("img",{src:F,alt:""},null,-1)),le={class:"table_header"},se=m(()=>l("span",{class:"left"},[l("img",{src:$,alt:""}),l("span",{class:"title"})],-1)),ne={class:"right"},re=m(()=>l("img",{src:L,alt:""},null,-1)),de={class:"table"},ce={style:{display:"flex","align-items":"center"}},ie={style:{display:"flex","align-items":"center"}},pe=["onClick"],me=z({__name:"index",setup(u){const{proxy:T}=J(),a=O({orderNo:"",customerName:"",customerPhone:"",filterMethod:"",createDate:[],orderStatus:""}),v=b([]);j(()=>{k(!1)});const I=b([{code:"all",name:"全部"},{code:"ServiceCase",name:"服务工单"},{code:"DispatchNote",name:"发货单"},{code:"FieldJob",name:"派工单"}]),N=b([{code:"all",name:"全部"},{code:"0",name:"待开始"},{code:"1",name:"提货"},{code:"2",name:"入库"},{code:"3",name:"配送"},{code:"4",name:"安装"},{code:"5",name:"完成"}]),S=n=>{console.log(n),T.$router.push({path:"/delivery_tasks_details",query:{id:n.id,serviceCaseNeoId:n.serviceCaseId,orderId:n.orderId,taskType:n.taskType,status:n.status,distributorName:n.distributorName,followerName:n.followerName,accountName:n.accountName,createdTime:n.createdTime,createdBy:n.createdBy}})},k=n=>{a.orderNo,a.customerName,a.customerPhone,q({status:"",createdTime:""}).then(i=>{let d=i.data.data;d.length>0?(v.value=d,n&&h({message:"查询成功",type:"success"})):h({message:"获取数据失败",type:"error"})}).catch(i=>{h({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",i)})},D=()=>{a.orderNo="",a.customerName="",a.customerPhone="",a.filterMethod="",a.createDate=[],a.orderStatus=""};return(n,s)=>{const i=r("el-input"),d=r("el-form-item"),x=r("el-form"),w=r("el-date-picker"),B=r("el-option"),P=r("el-select"),_=r("el-button"),c=r("el-table-column"),U=r("el-table"),M=r("el-pagination");return g(),V("div",W,[X,l("span",Y,[l("span",Z,[e(x,{model:a,"label-width":"80px","label-position":"left"},{default:o(()=>[e(d,{label:"任务编号"},{default:o(()=>[e(i,{placeholder:"请输入任务编号",modelValue:a.orderNo,"onUpdate:modelValue":s[0]||(s[0]=t=>a.orderNo=t)},null,8,["modelValue"])]),_:1}),e(d,{label:"客户名称"},{default:o(()=>[e(i,{placeholder:"输入客户名称",modelValue:a.customerName,"onUpdate:modelValue":s[1]||(s[1]=t=>a.customerName=t)},null,8,["modelValue"])]),_:1}),e(d,{label:"客户电话"},{default:o(()=>[e(i,{placeholder:"请输入客户电话",modelValue:a.customerPhone,"onUpdate:modelValue":s[2]||(s[2]=t=>a.customerPhone=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),e(x,{model:a,"label-width":"80px","label-position":"left"},{default:o(()=>[e(d,{label:"创建时间"},{default:o(()=>[e(w,{modelValue:a.createDate,"onUpdate:modelValue":s[3]||(s[3]=t=>a.createDate=t),type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),e(d,{label:"订单状态"},{default:o(()=>[e(P,{modelValue:a.orderStatus,"onUpdate:modelValue":s[4]||(s[4]=t=>a.orderStatus=t),placeholder:"请选择订单状态"},{default:o(()=>[(g(!0),V(H,null,K(N.value,t=>(g(),Q(B,{key:t.code,label:t.name,value:t.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),ee]),_:1},8,["model"])]),l("span",te,[e(_,{onClick:s[5]||(s[5]=t=>k(!0)),type:"primary",class:"search_btn"},{icon:o(()=>[ae]),default:o(()=>[y("查询")]),_:1}),e(_,{onClick:s[6]||(s[6]=t=>D()),type:"primary",class:"reset_btn"},{icon:o(()=>[oe]),default:o(()=>[y("重置")]),_:1})])]),l("span",le,[se,l("span",ne,[e(_,{type:"primary",class:"reset_btn"},{icon:o(()=>[re]),default:o(()=>[y("下载")]),_:1})])]),l("span",de,[e(U,{class:"table_content",data:v.value,stripe:!1,style:{width:"100%"}},{default:o(()=>[e(c,{prop:"id",label:"任务编号"}),e(c,{prop:"distributorName",label:"经销商"}),e(c,{prop:"followerName",label:"经销商负责人"}),e(c,{prop:"accountName",label:"关联客户"}),e(c,{prop:"taskType",label:"任务类型"},{default:o(t=>{var p;return[l("div",ce,C(t.row.taskType?(p=I.value.find(f=>f.code==t.row.taskType))==null?void 0:p.name:""),1)]}),_:1}),e(c,{prop:"createdTime",label:"创建时间"}),e(c,{prop:"status",label:"状态"},{default:o(t=>{var p;return[l("div",ie,C(t.row.status?(p=N.value.find(f=>f.code==t.row.status))==null?void 0:p.name:"待开始"),1)]}),_:1}),e(c,{prop:"url",label:"操作",width:"80px"},{default:o(t=>[l("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:p=>S(t.row)}," 查看 ",8,pe)]),_:1})]),_:1},8,["data"]),e(M,{class:"table_pagination","page-size":20,"pager-count":11,layout:"total, prev, pager, next",total:1e3})])])}}}),be=R(me,[["__scopeId","data-v-36a37a5d"]]);export{be as default};
