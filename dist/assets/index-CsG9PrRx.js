import{_ as U,a as F,b as J,c as M}from"./download-B3fRz18S.js";import{b as z}from"./common-BMFbHTFR.js";import{d as L,g as O,a as $,r as m,k as P,E as f,c as b,b as l,e,w as a,f as n,p as j,h as q,o as _,F as w,v as C,n as N,i as g,x as G,_ as K}from"./index-CpIkpthv.js";const i=u=>(j("data-v-53cf4754"),u=u(),q(),u),Q={class:"main"},R=i(()=>l("span",{class:"header"}," 派工单 ",-1)),X={class:"search"},Y={class:"left"},Z=i(()=>l("span",{style:{width:"336px",height:"32px"}},null,-1)),ee={class:"right"},te=i(()=>l("img",{src:F,alt:""},null,-1)),ae=i(()=>l("img",{src:J,alt:""},null,-1)),le={class:"table_header"},oe=i(()=>l("span",{class:"left"},[l("img",{src:U,alt:""}),l("span",{class:"title"})],-1)),se={class:"right"},ne=i(()=>l("img",{src:M,alt:""},null,-1)),re={class:"table"},ce={style:{display:"flex","align-items":"center"}},pe=["onClick"],ie=L({__name:"index",setup(u){const{proxy:T}=O(),o=$({dispatchWorkerNo:"",technicianName:"",technicianType:"",filterMethod:"",createDate:[],dispatchWorkerStatus:""});m([{value:"all",label:"全部"}]);const A=m([{value:"all",label:"全部"}]),y=m([{code:"all",name:"全部"},{code:"0",name:"待开始"},{code:"1",name:"进行中"},{code:"2",name:"已完成"}]),v=m([{text1:"CS0011-06665-01",text2:"梦天慈溪经销商-专卖店A",text3:"H404304",text4:"李女士",text5:"安装派工",text6:"2021-02-28 10:30",text7:"已派工",text8:""},{text1:"CS0011-06665-01",text2:"梦天慈溪经销商-专卖店A",text3:"H404304",text4:"李女士",text5:"安装派工",text6:"2021-02-28 10:30",text7:"已派工",text8:""},{text1:"CS0011-06665-01",text2:"梦天慈溪经销商-专卖店A",text3:"H404304",text4:"李女士",text5:"安装派工",text6:"2021-02-28 10:30",text7:"已派工",text8:""},{text1:"CS0011-06665-01",text2:"梦天慈溪经销商-专卖店A",text3:"H404304",text4:"李女士",text5:"安装派工",text6:"2021-02-28 10:30",text7:"已派工",text8:""},{text1:"CS0011-06665-01",text2:"梦天慈溪经销商-专卖店A",text3:"H404304",text4:"李女士",text5:"安装派工",text6:"2021-02-28 10:30",text7:"已派工",text8:""},{text1:"CS0011-06665-01",text2:"梦天慈溪经销商-专卖店A",text3:"H404304",text4:"李女士",text5:"安装派工",text6:"2021-02-28 10:30",text7:"已派工",text8:""},{text1:"CS0011-06665-01",text2:"梦天慈溪经销商-专卖店A",text3:"H404304",text4:"李女士",text5:"安装派工",text6:"2021-02-28 10:30",text7:"已派工",text8:""}]),H=d=>{T.$router.push("/dispatch_details")};P(()=>{W(!1)});const W=d=>{z({fieldJobType__c:"",appointmentEndTime:"",createdTime:"",status:"",caseNo:"",artisanName:"",pageNo:0,pageSize:20}).then(p=>{let r=p.data.data;r.length>0?(v.value=r,d&&f({message:"查询成功",type:"success"})):f({message:"获取数据失败",type:"error"})}).catch(p=>{f({message:"请求数据失败，请重试",type:"error"}),console.error("请求数据失败:",p)})};return(d,s)=>{const p=n("el-input"),r=n("el-form-item"),V=n("el-option"),k=n("el-select"),S=n("el-form"),D=n("el-date-picker"),x=n("el-button"),c=n("el-table-column"),B=n("el-table"),E=n("el-pagination");return _(),b("div",Q,[R,l("span",X,[l("span",Y,[e(S,{model:o,rules:d.rule,"label-width":"80px","label-position":"left"},{default:a(()=>[e(r,{label:"派工编号"},{default:a(()=>[e(p,{placeholder:"请输入派工编号",modelValue:o.dispatchWorkerNo,"onUpdate:modelValue":s[0]||(s[0]=t=>o.dispatchWorkerNo=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"技工姓名"},{default:a(()=>[e(p,{placeholder:"输入技工姓名",modelValue:o.technicianName,"onUpdate:modelValue":s[1]||(s[1]=t=>o.technicianName=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"技工种类"},{default:a(()=>[e(k,{modelValue:o.technicianType,"onUpdate:modelValue":s[2]||(s[2]=t=>o.technicianType=t),placeholder:"请选择派工种类"},{default:a(()=>[(_(!0),b(w,null,C(A.value,t=>(_(),N(V,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),e(S,{model:o,rules:d.rule,"label-width":"80px","label-position":"left"},{default:a(()=>[e(r,{label:"创建时间"},{default:a(()=>[e(D,{modelValue:o.createDate,"onUpdate:modelValue":s[3]||(s[3]=t=>o.createDate=t),type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),e(r,{label:"派工状态"},{default:a(()=>[e(k,{modelValue:o.dispatchWorkerStatus,"onUpdate:modelValue":s[4]||(s[4]=t=>o.dispatchWorkerStatus=t),placeholder:"请选择派工状态"},{default:a(()=>[(_(!0),b(w,null,C(y.value,t=>(_(),N(V,{key:t.code,label:t.name,value:t.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),Z]),_:1},8,["model","rules"])]),l("span",ee,[e(x,{type:"primary",class:"search_btn"},{icon:a(()=>[te]),default:a(()=>[g("查询")]),_:1}),e(x,{type:"primary",class:"reset_btn"},{icon:a(()=>[ae]),default:a(()=>[g("重置")]),_:1})])]),l("span",le,[oe,l("span",se,[e(x,{type:"primary",class:"reset_btn"},{icon:a(()=>[ne]),default:a(()=>[g("下载")]),_:1})])]),l("span",re,[e(B,{class:"table_content",data:v.value,stripe:!1,style:{width:"100%"}},{default:a(()=>[e(c,{prop:"case_no",label:"派工编号"}),e(c,{prop:"appointmentStartTime",label:"计划开始时间"}),e(c,{prop:"appointmentEndTime",label:"计划结束时间"}),e(c,{prop:"follower__c",label:"技工名称"}),e(c,{prop:"fieldJobType__c",label:"派工种类"}),e(c,{prop:"createdTime",label:"创建时间"}),e(c,{prop:"stage__c",label:"派工状态"},{default:a(t=>{var h;return[l("div",ce,G(t.row.status?(h=y.value.find(I=>I.code==t.row.status))==null?void 0:h.name:"待开始"),1)]}),_:1}),e(c,{prop:"text8",label:"操作",width:"80px"},{default:a(t=>[l("div",{style:{display:"flex","align-items":"center",color:"#165dff",cursor:"pointer"},onClick:h=>H(t.row)}," 查看 ",8,pe)]),_:1})]),_:1},8,["data"]),e(E,{class:"table_pagination","page-size":20,"pager-count":11,layout:"total, prev, pager, next",total:1e3})])])}}}),me=K(ie,[["__scopeId","data-v-53cf4754"]]);export{me as default};
